{"version":3,"sources":["js/Data.ts","js/talent/types.ts","js/Resistance.ts","js/talent/DefaultTalent.ts","js/talent/Talent.ts","js/talent/AyakaTalent.ts","js/talent/JeanTalent.ts","js/talent/LisaTalent.ts","js/talent/BarbaraTalent.ts","js/talent/KaeyaTalent.ts","js/talent/DilucTalent.ts","js/talent/RazorTalent.ts","js/talent/AmberTalent.ts","js/talent/VentiTalent.ts","js/talent/XianglingTalent.ts","js/talent/BeidouTalent.ts","js/talent/XingqiuTalent.ts","js/talent/XiaoTalent.ts","js/talent/NingguangTalent.ts","js/talent/KleeTalent.ts","js/talent/ZhongliTalent.ts","js/talent/FischlTalent.ts","js/talent/BennettTalent.ts","js/talent/TartagliaTalent.ts","js/talent/NoelleTalent.ts","js/talent/QiqiTalent.ts","js/talent/ChongyunTalent.ts","js/talent/GanyuTalent.ts","js/talent/AlbedoTalent.ts","js/talent/DionaTalent.ts","js/talent/MonaTalent.ts","js/talent/KeqingTalent.ts","js/talent/SucroseTalent.ts","js/talent/XinyanTalent.ts","js/talent/RosariaTalent.ts","js/talent/HutaoTalent.ts","js/talent/KazuhaTalent.ts","js/talent/YanfeiTalent.ts","js/talent/YoimiyaTalent.ts","js/talent/EulaTalent.ts","js/talent/TalentUtil.ts","js/talent/SayuTalent.ts","js/option/Option.ts","js/option/artifactSetOptions/ArtifactSetOption.ts","js/option/artifactSetOptions/ArchaicPetraOption.ts","js/option/artifactSetOptions/BerserkerOption.ts","js/option/artifactSetOptions/BlizzardStrayerOption.ts","js/option/artifactSetOptions/BloodstainedChivalryOption.ts","js/option/artifactSetOptions/BraveHeartOption.ts","js/option/artifactSetOptions/CrimsonWitchOption.ts","js/option/artifactSetOptions/HeartOfDepthOption.ts","js/option/artifactSetOptions/InstructorOption.ts","js/option/artifactSetOptions/LavawalkerOption.ts","js/option/artifactSetOptions/MaidenBelovedOption.ts","js/option/artifactSetOptions/MartialArtistOption.ts","js/option/artifactSetOptions/NoblesseObligeOption.ts","js/option/artifactSetOptions/PaleFlameOption.ts","js/option/artifactSetOptions/RetracingBolideOption.ts","js/option/artifactSetOptions/ShimenawaOption.ts","js/option/artifactSetOptions/TenacityOption.ts","js/option/artifactSetOptions/ThundersootherOption.ts","js/option/artifactSetOptions/ViridescentVenererOption.ts","js/option/characterOptions/CharacterOption.ts","js/option/characterOptions/AyakaOption.ts","js/option/characterOptions/ChongyunOption.ts","js/option/characterOptions/DilucOption.ts","js/option/characterOptions/HuTaoOption.ts","js/option/characterOptions/ElementalAbsorptionOption.ts","js/option/characterOptions/KazuhaOption.ts","js/option/characterOptions/NoelleOption.ts","js/option/characterOptions/SayuOption.ts","js/option/characterOptions/SucroseOption.ts","js/option/characterOptions/index.ts","js/option/characterOptions/VentiOption.ts","js/option/characterOptions/XiaoOption.ts","js/option/characterOptions/YanfeiOption.ts","js/option/characterOptions/YoimiyaOption.ts","js/option/OptionUtils.ts","js/passive/characterPassives/CharacterPassive.ts","js/passive/characterPassives/YoimiyaPassive.ts","js/character/Character.ts","js/Stat.ts","js/artifact/types.ts","js/artifact/Artifact.ts","component/NumberInput.tsx","component/FloatInput.tsx","component/InputRow.tsx","component/Picker.tsx","js/modifier/CritType.ts","component/ArtifactBlock.tsx","component/Column.tsx","component/ArtifactColumn.tsx","component/ArtifactSetPicker.tsx","component/IntInput.tsx","component/Checkbox.tsx","component/OptionInput.tsx","component/ArtifactSetInputBlock.tsx","component/CharacterPicker.tsx","component/CharacterInputBlock.tsx","component/ModifierInputBlock.tsx","js/artifact/ArtifactSetBonus.ts","js/artifact/ArtifactSet.ts","js/weapon/Weapon.ts","save/Save.ts","component/SaveBlock.tsx","component/TalentInputBlock.tsx","component/WeaponPicker.tsx","component/WeaponInputBlock.tsx","component/InputColumn.tsx","component/ArtifactSetStatBlock.tsx","component/CharacterStatBlock.tsx","component/TotalStatBlock.tsx","component/WeaponStatBlock.tsx","component/StatColumn.tsx","component/TalentBlock.tsx","component/TalentColumn.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["sortedCharacterList","sortedWeaponList","sortedArtifactSetList","propMapping","propMappingRaw","talentDescMapping","talentDescMappingRaw","optionMapping","optionMappingRaw","characterData","characterDataRaw","reduce","acc","charData","id","characterAscensionBonusData","rawData","characterId","ascensionBonusSet","map","bonusData","ascensionBonuses","processCharacterAscensionBonusData","characterAscensionBonusDataRaw","characterStatCurveData","curveData","level","statCurves","processCharacterStatCurveData","characterStatCurveDataRaw","weaponData","processWeaponData","weaponDataRaw","weaponAscensionBonusData","weaponId","processWeaponAscensionBonusData","weaponAscensionBonusDataRaw","weaponStatCurveData","processWeaponStatCurveData","weaponStatCurveDataRaw","talentData","talentDataRaw","talentDataSetRaw","talents","attack","curveAcc","params","skill","burst","passives","processTalentData","artifactSetData","setData","processArtifactSetData","artifactSetDataRaw","artifactSetBonusData","setId","setBonusSet","bonusAcc","bonusThreshold","processArtifactSetBonusData","artifactSetBonusDataRaw","getData","dataObj","getAscensionBonusData","getStatCurveAt","getCharacterData","getWeaponData","getAscensionBonusAt","getTalentData","emptyTalentParams","Array","fill","NaN","getTalentStatsAt","type","talentStats","undefined","getArtifactSetData","getArtifactSetBonusData","getArtifactSetBonusParams","pieces","bonusExtra","TalentType","Element","AttackType","ScalingType","Resistance","anemo","cryo","electro","geo","hydro","pyro","physical","_resistance","this","Map","set","Anemo","Cryo","Electro","Geo","Hydro","Pyro","Physical","element","get","value","isNaN","prevValue","defaultTalentFn","defaultTalent","ayaka","stats","modifier","attackLightMulti","normalHits","chargedHits","infusion","slice","concat","skillDefault","burstBase","description","multiplier","jean","attackLightDefault","healingSkillBase","scalingType","Attack","lisa","talentDmg","push","skillBase","i","burstDefault","barbara","kaeya","diluc","attackHeavyDefault","talentDamage","razor","attackParams","talentAttackLevel","amber","attackBowDefault","chargedElement","hpBase","flatBonus","damage","venti","talentValues","elementalAbsorption","xiangling","beidou","shieldBase","xingqiu","skillMultiBase","hits","xiao","ningguang","normalAtkDmg","calculateTotalDamage","attackType","Normal","chargedAttackDefault","starJadeDmg","Charged","plungeAttackDefault","klee","zhongli","fischl","bennett","atkBonus","baseAtk","tartaglia","riptideFlashDmg","riptideBurstDmg","normalAttackMulti","chargedAttackMulti","noelle","skillDamage","Defense","Skill","qiqi","chongyun","ganyu","normalAttackDefault","aimedShotDmg","chargedDmg","albedo","transientBlossomDmg","diona","holdModifier","dionaHoldSkill","mona","modifiedStats","dmgBonus","keqing","hit4Dmg","hit5Dmg","consecutiveSlashDmg","Burst","sucrose","xinyan","rosaria","burstMultiBase","hutao","hit6Dmg","forEach","kazuha","hit3Dmg","hit5DmgSingle","infusionPlunge","yanfei","yoimiya","normalAttackParams","yoimiyaSkill","skillParams","talentSkillLevel","param","chargedAimedShotDmg","kindlingArrowDmg","eula","length","chargedAttackHeavy","attackHeavyMulti","lightfallSwordParams","lightfallSwordTalent","sayu","elementalParams","calculateBaseDamage","flatDmg","flatAtk","flatDef","Hp","flatHp","baseDmg","getDamageBonus","crit","critType","critDmg","critRate","chargedCritRate","Math","min","characterLevel","enemyLevel","enemyDefReduction","res","resReduction","totalRes","calculateResMultiplier","enemyRes","enemyResReduction","calculateHp","hitCount","damages","hit","Plunge","aimShotDefault","flatHealing","calculateHealing","dmgAbsorption","shieldStrength","calculateDmgAbsorption","Option","ArtifactSetOption","threshold","archaicPetraOptions","choices","applyOnStats","berserkerOptions","blizzardStrayerOptions","bloodstainedChivalryOptions","chargedDmgBonus","braveHeartOptions","crimsonWitchOptions","bonuses","find","stat","stacks","pyroDmgBonus","heartOfDepthOptions","normalDmgBonus","instructorOptions","elementalMastery","lavawalkerOptions","maidenBelovedOptions","healedBonus","martialArtistOptions","noblesseObligeOptions","paleFlameOptions","physicalDmgBonus","retracingBolideOptions","shimenawaOptions","plungeDmgBonus","tenacityOptions","thundersootherOptions","viridescentVenererOptions","applyOnModifier","add","CharacterOption","ayakaOptions","chongyunOptions","dilucOptions","_talentAttackLevel","_talentSkillLevel","_talentBurstLevel","ascensionLevel","passiveData","hutaoOptions","totalHp","baseHp","hpBonus","ElementalAbsoprtionOption","kazuhaOptions","noelleOptions","talentBurstLevel","burstParams","totalDef","baseDef","defBonus","sayuOptions","sucroseOptions","characterOptions","defaultOptions","isBooleanOption","option","isPickerOption","isNumberOption","isStatsApplicable","isModifierApplicable","getOptionValue","setOptionValue","includes","characterPassives","Yoimiya_PermanentSkill_1","options","defaultPassiveFn","getCharacterPassiveFn","passiveId","Character","hasAscended","_id","name","baseStats","statCurveMapping","_level","_hasAscended","innateStats","passiveOptions","data","getInnateStatsAt","getCharacterOptions","getAscensionLevel","getPassives","getPassiveOptions","prevAscensionLevel","Object","keys","obj","charStatCurves","entries","curve","bonus","talentLevel","totalStats","getTalentFn","damageFn","passiveDatas","filter","flatMap","newPassives","keptPassiveIds","newOptions","keptOptionIds","statMixin","mixin","modifierMixin","getStatDisplayValue","isPercentage","toFixed","round","toString","getDamageDisplayValue","values","str","every","getOptionName","convertStatValue","getTotalStatsAt","character","weapon","artifactSetBonuses","artifacts","statMixins","characterStats","weaponStats","getBaseStatsAt","combinedStats","artifactStats","artifact","getStats","energyRecharge","anemoDmgBonus","cryoDmgBonus","electroDmgBonus","geoDmgBonus","hydroDmgBonus","anemoRes","cryoRes","electroRes","geoRes","hydroRes","pyroRes","physicalRes","healingBonus","skillDmgBonus","burstDmgBonus","capitalize","toUpperCase","ArtifactType","InputStat","rawValue","Artifact","mainStat","subStats","prop","setProp","setValue","subStat","mainStatProps","flower","feather","sands","goblet","circlet","subStatProps","NumberInput","state","props","defaultValue","isControlled","isLabelShown","onChangeDefault","e","parseInt","currentTarget","setState","parseInput","Number","handleInput","onInput","displayString","htmlFor","className","label","React","Component","FloatInput","parseFloat","InputRow","children","Picker","selectedValue","target","handleChange","onChange","Item","CritType","ArtifactBlock","setArtifactMainStatProp","setMainStatProp","updateArtifactState","setArtifactMainStatValue","setMainStatValue","setArtifactSubStatProp","setSubStatProp","setArtifactSubStatValue","setSubStatValue","statObj","Column","ArtifactColumn","appState","updateTotalStats","setAppState","ArtifactSetPicker","setArtifactSetId","index","artifactSetId","sort","name1","name2","localeCompare","IntInput","Checkbox","checked","OptionInput","handleBooleanChange","updateOptions","handlePickerChange","handleNumberChange","choice","ArtifactSetInputBlock","artifactSets","artifactSetOptions","artifactSet","updateArtifactSetBonuses","setArtifactSetPieces","CharacterPicker","setCharacterId","CharacterInputBlock","getOptions","setCharacterLevel","setIsCharacterAscended","isAscended","ModifierInputBlock","setEnemyLevel","updateTalentValues","setEnemyRes","setCritType","ToggleButtonGroup","size","ToggleButton","variant","defaultSetBonus","Relic_ExtraAtkCritUp","extraStatsFn","Relic_AllElemResistUp","Relic_AtkAndExtraAtkUp","Relic_SkillDamageUp","Relic_MeleeAttackUp","Relci_RangerAttackUp","Relic_ElementalBurstUp","Relic_ElementalBurstUpByChargeEfficiency","Relic_GiantKiller","Relic_LowHPGainExtraCritRate","Relic_SkillEnhanceNormalAtkAndExtraAtk","Relic_ReactionGainExtraElemMasteryForTeam","Relic_CriticUpAgainstIceAndFrozen","Relic_DamageUpAgainstElectric","Relic_DamageUpAgainstFireAndBurning","Relic_SkillEnhanceCured","Relic_TeamAtkupAfterElementalBurst","Relic_KillEnhanceExtraAtk","Relic_ElementDmgUpAfterCrystalShield","Relic_ShieldEnhanceAtk","Relic_WaterSkillEnhanceNormalAtkAndExtraAtk","Relic_ShieldCostUpWhenElementalArtHit","Relic_AttackUpWhenNormalAtkAndExtraAtkHit","Relic_NormalDamageUpIfCostEnergy","Relic_ReactionWindEnhance","Relic_ReactionFireEnhance","Relic_ReactionElectricEnhance","Relic_AbsorbTeamElemResist","Relic_ElemDmgEnhanceElemResist","Relic_KillingRefreshSkill","Relic_UltGainEnergyForTeam","Relic_RestoreEnergyGainExtraEnergyForTeam","Relic_ChestHealSelf","Relic_CoinHealSelf","Relic_UltHealSelf","Relic_FireResistance","Relic_WaterResistance","Relic_ElectricResistance","Relic_IceResistance","ArtifactSet","bonusThresholds","setBonusData","_pieces","setBonusSets","setBonuses","getSetBonusSetsAt","getSetBonuses","prevPieces","setBonus","statBonus","extraBonus","extraBonusSet","extraBonuses","oldOptionIds","setBonusType","Weapon","rank","_weaponLevel","getStatsAt","weaponLevel","weaponStatCurves","createInputStatSave","SaveBlock","onSaveClick","saveInputName","save","characterHasAscended","weaponHasAscended","artifactSetPieces","saves","window","localStorage","setItem","JSON","stringify","addSave","onSaveInputChange","onLoadClick","selectedSave","refreshApp","savedArtifact","artifactType","None","characterOption","artifactSetOption","loadSave","onLoadInputChange","onDeleteClick","showDeleteWarning","onModalConfirm","deleteSave","onModalHide","getItem","parse","Button","onClick","Form","Control","placeholder","Modal","show","onHide","Body","Footer","TalentInputBlock","setTalentAttackLevel","setTalentSkillLevel","setTalentBurstLevel","WeaponPicker","setWeaponId","WeaponInputBlock","setWeaponLevel","setIsWeaponAscended","InputColumn","ArtifactSetStatBlock","CharacterStatBlock","isDefined","src","width","height","alt","TotalStatBlock","WeaponStatBlock","StatColumn","TalentBlock","TalentColumn","App","reaction","modifierMixins","callback","newArtifactSets","getStatMixins","newChar","getModifierMixins","damageModifer","getDamageModifier","getTalentDamageAt","characterPassiveMixins","getPassiveModifierMixins","artifactSetMixins","characterOptionMixins","artifactSetOptionMixins","getPassiveStatMixins","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d2d77fb.chunk.js","sourcesContent":["import type * as Data from '../data/types';\nimport type { TalentType } from './talent/types';\n\nimport characterDataRaw from '../data/characterdata.json';\nimport characterAscensionBonusDataRaw from '../data/characterascensionbonusdata.json';\nimport characterStatCurveDataRaw from '../data/characterstatcurvedata.json';\nimport weaponDataRaw from '../data/weapondata.json';\nimport weaponAscensionBonusDataRaw from '../data/weaponascensionbonusdata.json';\nimport weaponStatCurveDataRaw from '../data/weaponstatcurvedata.json';\nimport talentDataRaw from '../data/talentdata.json';\nimport artifactSetDataRaw from '../data/artifactsetdata.json';\nimport artifactSetBonusDataRaw from '../data/artifactsetbonusdata.json';\n\nimport propMappingRaw from '../data/propmapping.json';\nimport talentDescMappingRaw from '../data/talentdescmapping.json';\nimport optionMappingRaw from '../data/optionmapping.json';\n\n// Mappings\nexport const propMapping = propMappingRaw as Data.PropMapping;\nexport const talentDescMapping = talentDescMappingRaw as Data.LanguageMapping;\nexport const optionMapping = optionMappingRaw as Data.LanguageMapping;\n\n// Pre-processed data, coverting from arrays to objects (map-like) for faster lookup\nconst characterData = processCharacterData(\n  characterDataRaw as Data.CharacterData[]\n);\nconst characterAscensionBonusData = processCharacterAscensionBonusData(\n  characterAscensionBonusDataRaw as Data.CharacterAscensionBonusDataRaw[]\n);\nconst characterStatCurveData = processCharacterStatCurveData(\n  characterStatCurveDataRaw as Data.StatCurveData[]\n);\nconst weaponData = processWeaponData(\n  weaponDataRaw as unknown as Data.WeaponData[]\n);\nconst weaponAscensionBonusData = processWeaponAscensionBonusData(\n  weaponAscensionBonusDataRaw as Data.WeaponAscensionBonusDataRaw[]\n);\nconst weaponStatCurveData = processWeaponStatCurveData(\n  weaponStatCurveDataRaw as Data.StatCurveData[]\n);\nconst talentData = processTalentData(\n  talentDataRaw as Data.CharacterTalentDataRaw[]\n);\nconst artifactSetData = processArtifactSetData(\n  artifactSetDataRaw as Data.ArtifactSetData[]\n);\nconst artifactSetBonusData = processArtifactSetBonusData(\n  artifactSetBonusDataRaw as Data.ArtifactSetBonusDataRaw[]\n);\n\n// Pre-processed data, lists\nlet sortedCharacterList: string[]; // lazy loading implemented with getSortedCharacterList()\nlet sortedWeaponList: string[]; // lazy loading implemented with getSortedWeaponList()\nlet sortedArtifactSetList: string[]; // lazy loading implemented with getSortedArtifactSetList()\n\n// Functions for pre-processing data\nfunction processCharacterData(rawData: Data.CharacterData[]) {\n  return rawData.reduce((acc, charData) => {\n    acc[charData.id] = charData;\n    return acc;\n  }, {} as Record<string, Data.CharacterData>);\n}\n\nfunction processCharacterAscensionBonusData(\n  rawData: Data.CharacterAscensionBonusDataRaw[]\n) {\n  return rawData.reduce((acc, charData) => {\n    acc[charData.characterId] = charData.ascensionBonusSet.map(\n      (bonusData) => bonusData.ascensionBonuses\n    );\n    return acc;\n  }, {} as Record<string, Data.AscensionBonus[]>);\n}\n\nfunction processCharacterStatCurveData(rawData: Data.StatCurveData[]) {\n  return rawData.reduce((acc, curveData) => {\n    acc[curveData.level] = curveData.statCurves;\n    return acc;\n  }, {} as Record<number, Data.StatCurves>);\n}\n\nfunction processWeaponData(rawData: Data.WeaponData[]) {\n  return rawData.reduce((acc, weaponData) => {\n    acc[weaponData.id] = weaponData;\n    return acc;\n  }, {} as Record<string, Data.WeaponData>);\n}\n\nfunction processWeaponAscensionBonusData(\n  rawData: Data.WeaponAscensionBonusDataRaw[]\n) {\n  return rawData.reduce((acc, weaponData) => {\n    acc[weaponData.weaponId] = weaponData.ascensionBonusSet.map(\n      (bonusData) => bonusData.ascensionBonuses\n    );\n    return acc;\n  }, {} as Record<string, Data.AscensionBonus[]>);\n}\n\nfunction processWeaponStatCurveData(rawData: Data.StatCurveData[]) {\n  return rawData.reduce((acc, curveData) => {\n    acc[curveData.level] = curveData.statCurves;\n    return acc;\n  }, {} as Record<number, Data.StatCurves>);\n}\n\nfunction processTalentData(rawData: Data.CharacterTalentDataRaw[]) {\n  return rawData.reduce((acc, talentDataRaw) => {\n    const talentDataSetRaw = talentDataRaw.talents;\n\n    let talentData: Data.TalentDataSet = {\n      attack: talentDataSetRaw.attack.reduce((curveAcc, curveData) => {\n        curveAcc[curveData.level] = curveData.params;\n        return curveAcc;\n      }, {} as Data.TalentData),\n\n      skill: talentDataSetRaw.skill.reduce((curveAcc, curveData) => {\n        curveAcc[curveData.level] = curveData.params;\n        return curveAcc;\n      }, {} as Data.TalentData),\n\n      burst: talentDataSetRaw.burst.reduce((curveAcc, curveData) => {\n        curveAcc[curveData.level] = curveData.params;\n        return curveAcc;\n      }, {} as Data.TalentData),\n\n      passives: talentDataSetRaw.passives,\n    };\n\n    acc[talentDataRaw.characterId] = talentData;\n    return acc;\n  }, {} as Record<string, Data.TalentDataSet>);\n}\n\nfunction processArtifactSetData(rawData: Data.ArtifactSetData[]) {\n  return rawData.reduce((acc, setData) => {\n    acc[setData.id] = setData;\n    return acc;\n  }, {} as Record<string, Data.ArtifactSetData>);\n}\n\nfunction processArtifactSetBonusData(rawData: Data.ArtifactSetBonusDataRaw[]) {\n  return rawData.reduce((acc, setData) => {\n    acc[setData.setId] = setData.setBonusSet.reduce((bonusAcc, bonusData) => {\n      bonusAcc[bonusData.bonusThreshold] = bonusData;\n      return bonusAcc;\n    }, {} as Record<number, Data.ArtifactSetBonusSet>);\n    return acc;\n  }, {} as Record<string, Data.ArtifactSetBonusData>);\n}\n\n// Helper functions for accessing data properties\nfunction getData(id: string, dataObj: Record<string, any>) {\n  return dataObj[id];\n}\n\nfunction getAscensionBonusData(\n  id: string,\n  dataObj: Record<string, Data.AscensionBonus[]>\n) {\n  return dataObj[id];\n}\n\nfunction getStatCurveAt(\n  level: number,\n  statCurves: Record<number, Data.StatCurves>\n) {\n  return statCurves[level];\n}\n\n// \"Public\" functions for accessing data properties\nexport function getCharacterData(id: string): Data.CharacterData {\n  return getData(id, characterData);\n}\n\nexport function getCharacterAscensionBonusData(id: string) {\n  return getAscensionBonusData(id, characterAscensionBonusData);\n}\n\nexport function getCharacterStatCurveAt(level: number) {\n  return getStatCurveAt(level, characterStatCurveData);\n}\n\nexport function getWeaponData(id: string): Data.WeaponData {\n  return getData(id, weaponData);\n}\n\nexport function getWeaponAscensionBonusData(id: string) {\n  return getAscensionBonusData(id, weaponAscensionBonusData);\n}\n\nexport function getWeaponStatCurveAt(level: number) {\n  return getStatCurveAt(level, weaponStatCurveData);\n}\n\nexport function getAscensionBonusAt(\n  level: number,\n  ascensionBonuses: Data.AscensionBonus[]\n) {\n  return ascensionBonuses[level];\n}\n\nexport function getTalentData(id: string) {\n  return talentData[id];\n}\n\nconst emptyTalentParams: number[] = Array(19).fill(NaN);\n\nexport function getTalentStatsAt(\n  type: TalentType,\n  level: number,\n  talents: Data.TalentDataSet\n) {\n  const talentStats = talents[type][level];\n  if (talentStats !== undefined) {\n    return talentStats;\n  } else {\n    return emptyTalentParams;\n  }\n}\n\nexport function getArtifactSetData(id: string): Data.ArtifactSetData {\n  return getData(id, artifactSetData);\n}\n\nexport function getArtifactSetBonusData(id: string): Data.ArtifactSetBonusData {\n  return getData(id, artifactSetBonusData);\n}\n\nexport function getArtifactSetBonusParams(id: string, pieces: number) {\n  const params = getArtifactSetBonusData(id)?.[pieces]?.bonusExtra?.params;\n  return params ?? emptyTalentParams;\n}\n\n// \"Public\" functions for getting data collections\nexport function getSortedCharacterList() {\n  if (sortedCharacterList === undefined) {\n    sortedCharacterList = Object.entries(characterData)\n      .sort(([_1, { name: name1 }], [_2, { name: name2 }]) =>\n        name1.localeCompare(name2)\n      )\n      .map(([id, _]) => id);\n  }\n\n  return sortedCharacterList;\n}\n\nexport function getSortedWeaponList() {\n  if (sortedWeaponList === undefined) {\n    sortedWeaponList = Object.entries(weaponData)\n      .sort(([_1, { name: name1 }], [_2, { name: name2 }]) =>\n        name1.localeCompare(name2)\n      )\n      .map(([id, _]) => id);\n  }\n\n  return sortedWeaponList;\n}\n\nexport function getSortedArtifactSetList() {\n  if (sortedArtifactSetList === undefined) {\n    sortedArtifactSetList = Object.entries(artifactSetData)\n      .sort(([_1, { name: name1 }], [_2, { name: name2 }]) =>\n        name1.localeCompare(name2)\n      )\n      .map(([id, _]) => id);\n  }\n\n  return sortedArtifactSetList;\n}\n","import { Stats, TalentParams } from '../../data/types';\nimport DamageModifier from '../modifier/DamageModifer';\n\nexport interface TalentValue {\n  description: string;\n  damage: number[];\n}\n\nexport interface TalentValueSet {\n  attack: TalentValue[];\n  skill: TalentValue[];\n  burst: TalentValue[];\n}\n\nexport interface TalentProps {\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}\n\nexport enum TalentType {\n  Attack = 'attack',\n  Skill = 'skill',\n  Burst = 'burst',\n}\n\nexport enum Element {\n  Anemo = 'anemo',\n  Cryo = 'cryo',\n  Electro = 'electro',\n  Geo = 'geo',\n  Hydro = 'hydro',\n  Pyro = 'pyro',\n  Physical = 'physical',\n}\n\nexport enum AttackType {\n  Normal = 'normal',\n  Charged = 'charged',\n  Plunge = 'plunge',\n  Skill = 'skill',\n  Burst = 'burst',\n}\n\nexport enum ScalingType {\n  Attack = 'attack',\n  Defense = 'defense',\n  Hp = 'hp',\n}\n","import { Element } from './talent/types';\n\nexport default class Resistance {\n  private _resistance: Map<Element, number>;\n\n  constructor({\n    anemo = 0,\n    cryo = 0,\n    electro = 0,\n    geo = 0,\n    hydro = 0,\n    pyro = 0,\n    physical = 0,\n  } = {}) {\n    this._resistance = new Map();\n    this._resistance.set(Element.Anemo, anemo);\n    this._resistance.set(Element.Cryo, cryo);\n    this._resistance.set(Element.Electro, electro);\n    this._resistance.set(Element.Geo, geo);\n    this._resistance.set(Element.Hydro, hydro);\n    this._resistance.set(Element.Pyro, pyro);\n    this._resistance.set(Element.Physical, physical);\n  }\n\n  get(element: Element) {\n    return this._resistance.get(element) ?? NaN;\n  }\n\n  set(element: Element, value: number) {\n    this._resistance.set(element, value);\n  }\n\n  add(element: Element, value: number) {\n    if (!isNaN(value)) {\n      const prevValue = this._resistance.get(element) ?? 0;\n      this._resistance.set(element, prevValue + value);\n    }\n  }\n}\n","import Talent from './Talent';\nimport { TalentValue } from './types';\n\nconst defaultTalent: Talent = {\n  attack: defaultTalentFn,\n  skill: defaultTalentFn,\n  burst: defaultTalentFn,\n};\n\nexport default defaultTalent;\n\n// Placeholder function\nexport function defaultTalentFn(): TalentValue[] {\n  return [];\n}\n","import { TalentProps, TalentValue } from './types';\n\nimport defaultTalent from './DefaultTalent';\nimport lisaTalent from './LisaTalent';\nimport barbaraTalent from './BarbaraTalent';\nimport kaeyaTalent from './KaeyaTalent';\nimport dilucTalent from './DilucTalent';\nimport razorTalent from './RazorTalent';\nimport amberTalent from './AmberTalent';\nimport ventiTalent from './VentiTalent';\nimport xianglingTalent from './XianglingTalent';\nimport beidouTalent from './BeidouTalent';\nimport xingqiuTalent from './XingqiuTalent';\nimport xiaoTalent from './XiaoTalent';\nimport ningguangTalent from './NingguangTalent';\nimport kleeTalent from './KleeTalent';\nimport zhongliTalent from './ZhongliTalent';\nimport fischlTalent from './FischlTalent';\nimport bennettTalent from './BennettTalent';\nimport tartagliaTalent from './TartagliaTalent';\nimport noelleTalent from './NoelleTalent';\nimport qiqiTalent from './QiqiTalent';\nimport chongyunTalent from './ChongyunTalent';\nimport ganyuTalent from './GanyuTalent';\nimport albedoTalent from './AlbedoTalent';\nimport dionaTalent from './DionaTalent';\nimport monaTalent from './MonaTalent';\nimport keqingTalent from './KeqingTalent';\nimport sucroseTalent from './SucroseTalent';\nimport xinyanTalent from './XinyanTalent';\nimport rosariaTalent from './RosariaTalent';\nimport hutaoTalent from './HutaoTalent';\nimport yanfeiTalent from './YanfeiTalent';\nimport eulaTalent from './EulaTalent';\nimport jeanTalent from './JeanTalent';\nimport ayakaTalent from './AyakaTalent';\nimport yoimiyaTalent from './YoimiyaTalent';\nimport sayuTalent from './SayuTalent';\nimport kazuhaTalent from './KazuhaTalent';\n\nexport default interface Talent {\n  attack: (props: TalentProps) => TalentValue[];\n  skill: (props: TalentProps) => TalentValue[];\n  burst: (props: TalentProps) => TalentValue[];\n}\n\nexport const talents: Record<string, Talent> = {\n  defaultTalent,\n  ayaka: ayakaTalent,\n  jean: jeanTalent,\n  lisa: lisaTalent,\n  barbara: barbaraTalent,\n  kaeya: kaeyaTalent,\n  diluc: dilucTalent,\n  razor: razorTalent,\n  amber: amberTalent,\n  venti: ventiTalent,\n  xiangling: xianglingTalent,\n  beidou: beidouTalent,\n  xingqiu: xingqiuTalent,\n  xiao: xiaoTalent,\n  ningguang: ningguangTalent,\n  klee: kleeTalent,\n  zhongli: zhongliTalent,\n  fischl: fischlTalent,\n  bennett: bennettTalent,\n  tartaglia: tartagliaTalent,\n  noelle: noelleTalent,\n  qiqi: qiqiTalent,\n  chongyun: chongyunTalent,\n  ganyu: ganyuTalent,\n  albedo: albedoTalent,\n  diona: dionaTalent,\n  mona: monaTalent,\n  keqing: keqingTalent,\n  sucrose: sucroseTalent,\n  xinyan: xinyanTalent,\n  rosaria: rosariaTalent,\n  hutao: hutaoTalent,\n  kazuha: kazuhaTalent,\n  yanfei: yanfeiTalent,\n  yoimiya: yoimiyaTalent,\n  eula: eulaTalent,\n  sayu: sayuTalent,\n};\n","import Talent from './Talent';\nimport { attackLightMulti, burstBase, skillDefault } from './TalentUtil';\nimport { Element, TalentProps } from './types';\n\nconst ayakaTalent: Talent = {\n  attack: ayakaAttack,\n  skill: ayakaSkill,\n  burst: ayakaBurst,\n};\n\nexport default ayakaTalent;\n\nfunction ayakaAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 1, 3, 1],\n    chargedHits: 3,\n    element: modifier.infusion ?? Element.Physical,\n    params: params\n      .slice(0, 4)\n      .concat([params[6], params[7], params[7]])\n      .concat(params.slice(7, 12)),\n    stats,\n    modifier,\n  });\n}\n\nfunction ayakaSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Cryo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction ayakaBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'cuttingDmg',\n      element: Element.Cryo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'bloomDmg',\n      element: Element.Cryo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackLightDefault,\n  burstBase,\n  healingSkillBase,\n  skillDefault,\n} from './TalentUtil';\nimport { Element, ScalingType, TalentProps } from './types';\n\nconst jeanTalent: Talent = {\n  attack: jeanAttack,\n  skill: jeanSkill,\n  burst: jeanBurst,\n};\n\nexport default jeanTalent;\n\nfunction jeanAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({ normalHits: 5, params, stats, modifier });\n}\n\nfunction jeanSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({ element: Element.Anemo, params, stats, modifier });\n}\n\nfunction jeanBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Anemo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'fieldEnterExitDmg',\n      element: Element.Anemo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'fieldActivationHealing',\n      scalingType: ScalingType.Attack,\n      params: params.slice(2, 4),\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenContinuous',\n      scalingType: ScalingType.Attack,\n      params: params.slice(4, 6),\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport { attackLightDefault, skillBase, burstDefault } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst lisaTalent: Talent = {\n  attack: lisaAttack,\n  skill: lisaSkill,\n  burst: lisaBurst,\n};\n\nexport default lisaTalent;\n\nfunction lisaAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({\n    normalHits: 4,\n    element: Element.Electro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction lisaSkill({ params, stats, modifier }: TalentProps) {\n  let talentDmg = [];\n\n  talentDmg.push(\n    skillBase({\n      description: 'pressDmg',\n      element: Element.Electro,\n      multiplier: params[5],\n      stats,\n      modifier,\n    })\n  );\n\n  for (let i = 0; i <= 3; i++) {\n    talentDmg.push(\n      skillBase({\n        description: `holdDmgStack${i}`,\n        element: Element.Electro,\n        multiplier: params[i],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return talentDmg;\n}\n\nfunction lisaBurst({ params, stats, modifier }: TalentProps) {\n  return burstDefault({\n    element: Element.Electro,\n    params,\n    stats,\n    modifier,\n  });\n}\n","import Talent from './Talent';\nimport { attackLightDefault, healingSkillBase, skillBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst barbaraTalent: Talent = {\n  attack: barbaraAttack,\n  skill: barbaraSkill,\n  burst: barbaraBurst,\n};\n\nexport default barbaraTalent;\n\nfunction barbaraAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({\n    normalHits: 4,\n    element: Element.Hydro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction barbaraSkill({ params, stats, modifier }: TalentProps) {\n  let talentDmg = [\n    healingSkillBase({\n      description: 'hpRegenContinuous',\n      params: params.slice(0, 2),\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenOnHit',\n      params: params.slice(2, 4),\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'dropletDmg',\n      element: Element.Hydro,\n      multiplier: params[4],\n      stats,\n      modifier,\n    }),\n  ];\n\n  return talentDmg;\n}\n\nfunction barbaraBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    healingSkillBase({\n      description: 'hpRegen',\n      params,\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport { attackLightMulti, skillDefault, burstDefault } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst kaeyaTalent: Talent = {\n  attack: kaeyaAttack,\n  skill: kaeyaSkill,\n  burst: kaeyaBurst,\n};\n\nexport default kaeyaTalent;\n\nfunction kaeyaAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 1, 1, 1],\n    chargedHits: 2,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction kaeyaSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Cryo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction kaeyaBurst({ params, stats, modifier }: TalentProps) {\n  return burstDefault({\n    element: Element.Cryo,\n    params,\n    stats,\n    modifier,\n  });\n}\n","import Talent from './Talent';\nimport { attackHeavyDefault, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst dilucTalent: Talent = {\n  attack: dilucAttack,\n  skill: dilucSkill,\n  burst: dilucBurst,\n};\n\nexport default dilucTalent;\n\nfunction dilucAttack({ params, stats, modifier }: TalentProps) {\n  const element = modifier.infusion ?? Element.Physical;\n  return attackHeavyDefault({\n    normalHits: 4,\n    element,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction dilucSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n  for (let i = 0; i < 3; i++) {\n    talentDamage.push(\n      skillBase({\n        description: `${i + 1}HitDmg`,\n        element: Element.Pyro,\n        multiplier: params[i],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return talentDamage;\n}\n\nfunction dilucBurst({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['slashingDmg', 'dot', 'explosionDmg'];\n  let talentDamage = descriptions.map((description, i) => {\n    return burstBase({\n      description,\n      element: Element.Pyro,\n      multiplier: params[i],\n      stats,\n      modifier,\n    });\n  });\n\n  return talentDamage;\n}\n","import { getTalentStatsAt, getTalentData } from '../Data';\nimport Talent from './Talent';\nimport {\n  attackHeavyDefault,\n  skillBase,\n  burstDefault,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, TalentType, Element } from './types';\n\nconst razorTalent: Talent = {\n  attack: razorAttack,\n  skill: razorSkill,\n  burst: razorBurst,\n};\n\nexport default razorTalent;\n\nfunction razorAttack({ params, stats, modifier }: TalentProps) {\n  return attackHeavyDefault({\n    normalHits: 4,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction razorSkill({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['pressDmg', 'holdDmg'];\n  return descriptions.map((description, i) => {\n    return skillBase({\n      description,\n      element: Element.Electro,\n      multiplier: params[i],\n      stats,\n      modifier,\n    });\n  });\n}\n\nfunction razorBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = burstDefault({\n    element: Element.Electro,\n    params,\n    stats,\n    modifier,\n  });\n\n  let attackParams = getTalentStatsAt(\n    TalentType.Attack,\n    modifier.talentAttackLevel,\n    getTalentData('razor')\n  );\n\n  for (let i = 0; i < 4; i++) {\n    talentDamage.push(\n      burstBase({\n        description: `${i + 1}HitDmgSoulCompanion`,\n        element: Element.Electro,\n        multiplier: params[1] * attackParams[i],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport { attackBowDefault, skillBase, hpBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst amberTalent: Talent = {\n  attack: amberAttack,\n  skill: amberSkill,\n  burst: amberBurst,\n};\n\nexport default amberTalent;\n\nfunction amberAttack({ params, stats, modifier }: TalentProps) {\n  return attackBowDefault({\n    normalHits: 5,\n    chargedElement: Element.Pyro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction amberSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    skillBase({\n      description: 'explosionDmg',\n      element: Element.Electro,\n      multiplier: params[1],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    hpBase({\n      description: 'baronBunnyHp',\n      multiplier: params[0],\n      flatBonus: 0,\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction amberBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    burstBase({\n      description: 'dmgPerWave',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push({\n    description: 'totalDmg',\n    damage: [talentDamage[0].damage[0] * 18],\n  });\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport { attackBowDefault, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst ventiTalent: Talent = {\n  attack: ventiAttack,\n  skill: ventiSkill,\n  burst: ventiBurst,\n};\n\nexport default ventiTalent;\n\nfunction ventiAttack({ params, stats, modifier }: TalentProps) {\n  return attackBowDefault({\n    normalHits: 6,\n    chargedElement: Element.Anemo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction ventiSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'pressDmg',\n      element: Element.Anemo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'holdDmg',\n      element: Element.Anemo,\n      multiplier: params[2],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction ventiBurst({ params, stats, modifier }: TalentProps) {\n  let talentValues = [];\n  talentValues.push(\n    burstBase({\n      description: 'dot',\n      element: Element.Anemo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  if (modifier.elementalAbsorption !== undefined) {\n    talentValues.push(\n      burstBase({\n        description: 'dotElementalAbsorption',\n        element: modifier.elementalAbsorption,\n        multiplier: params[1],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return talentValues;\n}\n","import Talent from './Talent';\nimport { attackLightMulti, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst xianglingTalent: Talent = {\n  attack: xianglingAttack,\n  skill: xianglingSkill,\n  burst: xianglingBurst,\n};\n\nexport default xianglingTalent;\n\nfunction xianglingAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 2, 4, 1],\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction xianglingSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'guobaDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction xianglingBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  for (let i = 0; i < 3; i++) {\n    talentDamage.push(\n      burstBase({\n        description: `swing${i + 1}HitDmg`,\n        element: Element.Pyro,\n        multiplier: params[i],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  talentDamage.push(\n    burstBase({\n      description: 'pyronadoDmg',\n      element: Element.Pyro,\n      multiplier: params[3],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport {\n  attackHeavyDefault,\n  shieldBase,\n  skillBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst beidouTalent: Talent = {\n  attack: beidouAttack,\n  skill: beidouSkill,\n  burst: beidouBurst,\n};\n\nexport default beidouTalent;\n\nfunction beidouAttack({ params, stats, modifier }: TalentProps) {\n  return attackHeavyDefault({\n    normalHits: 5,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction beidouSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    shieldBase({\n      description: 'shieldHp',\n      multiplier: params[0],\n      flatBonus: params[1],\n      element: Element.Electro,\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    skillBase({\n      description: 'baseDmg',\n      element: Element.Electro,\n      multiplier: params[2],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    skillBase({\n      description: 'dmgBonusOnHitTaken',\n      element: Element.Electro,\n      multiplier: params[3],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction beidouBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    burstBase({\n      description: 'skillDmg',\n      element: Element.Electro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    burstBase({\n      description: 'lightningDmg',\n      element: Element.Electro,\n      multiplier: params[1],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport { attackLightMulti, skillMultiBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst xingqiuTalent: Talent = {\n  attack: xingqiuAttack,\n  skill: xingqiuSkill,\n  burst: xingqiuBurst,\n};\n\nexport default xingqiuTalent;\n\nfunction xingqiuAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 2, 1, 2],\n    chargedHits: 2,\n    params: params\n      .slice(0, 3)\n      .concat(params.slice(4, 6))\n      .concat(params.slice(7)),\n    stats,\n    modifier,\n  });\n}\n\nfunction xingqiuSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillMultiBase({\n      description: 'skillDmg',\n      hits: 2,\n      element: Element.Hydro,\n      params,\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction xingqiuBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'swordRainDmg',\n      element: Element.Hydro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import { defaultTalentFn } from './DefaultTalent';\nimport Talent from './Talent';\nimport { attackLightMulti, skillDefault } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst xiaoTalent: Talent = {\n  attack: xiaoAttack,\n  skill: xiaoSkill,\n  burst: xiaoBurst,\n};\n\nexport default xiaoTalent;\n\nfunction xiaoAttack({ params, stats, modifier }: TalentProps) {\n  const element = modifier.infusion ?? Element.Physical;\n\n  return attackLightMulti({\n    normalHits: [2, 1, 1, 2, 1, 1],\n    element,\n    params: params.slice(1, 5).concat(params.slice(6)),\n    stats,\n    modifier,\n  });\n}\n\nfunction xiaoSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Anemo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction xiaoBurst({ params, stats, modifier }: TalentProps) {\n  return defaultTalentFn();\n}\n","import Talent from './Talent';\nimport {\n  calculateTotalDamage,\n  chargedAttackDefault,\n  plungeAttackDefault,\n  skillBase,\n  hpBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst ningguangTalent: Talent = {\n  attack: ningguangAttack,\n  skill: ningguangSkill,\n  burst: ningguangBurst,\n};\n\nexport default ningguangTalent;\n\nfunction ningguangAttack({ params, stats, modifier }: TalentProps) {\n  let talentDmg = [];\n\n  // Ningguang's normal attack has no combo\n  let normalAtkDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[0],\n    element: Element.Geo,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentDmg.push({\n    description: 'normalAtkDmg',\n    damage: [normalAtkDmg],\n  });\n\n  talentDmg.push(\n    ...chargedAttackDefault({\n      element: Element.Geo,\n      params: params.slice(1, 2),\n      stats,\n      modifier,\n    })\n  );\n\n  // Ningguang's charged attack dmg per star jade\n  let starJadeDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[2],\n    element: Element.Geo,\n    attackType: AttackType.Charged,\n    modifier,\n  });\n  talentDmg.push({\n    description: 'starJadeDmg',\n    damage: [starJadeDmg],\n  });\n\n  talentDmg.push(\n    ...plungeAttackDefault({\n      element: Element.Geo,\n      params: params.slice(4),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDmg;\n}\n\nfunction ningguangSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    skillBase({\n      description: 'skillDmg',\n      element: Element.Geo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    hpBase({\n      description: 'jadeScreenHp',\n      multiplier: params[2],\n      flatBonus: 0,\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction ningguangBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'dmgPerGem',\n      element: Element.Geo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport { attackLightDefault, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst kleeTalent: Talent = {\n  attack: kleeAttack,\n  skill: kleeSkill,\n  burst: kleeBurst,\n};\n\nexport default kleeTalent;\n\nfunction kleeAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({\n    normalHits: 3,\n    element: Element.Pyro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction kleeSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'jumpyDumptyDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'mineDmg',\n      element: Element.Pyro,\n      multiplier: params[3],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction kleeBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'sparksNSplashDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackLightMulti,\n  skillBase,\n  shieldBase,\n  burstDefault,\n} from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst zhongliTalent: Talent = {\n  attack: zhongliAttack,\n  skill: zhongliSkill,\n  burst: zhongliBurst,\n};\n\nexport default zhongliTalent;\n\nfunction zhongliAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 1, 1, 4, 1],\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction zhongliSkill({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['stoneSteeleDmg', 'resonanceDmg'];\n\n  let talentDamage = descriptions.map((description, i) => {\n    return skillBase({\n      description,\n      element: Element.Geo,\n      multiplier: params[i],\n      stats,\n      modifier,\n    });\n  });\n\n  talentDamage.push(\n    skillBase({\n      description: 'holdDmg',\n      element: Element.Geo,\n      multiplier: params[3],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    shieldBase({\n      description: 'shieldHp',\n      multiplier: params[5],\n      flatBonus: params[4],\n      element: Element.Geo,\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction zhongliBurst({ params, stats, modifier }: TalentProps) {\n  return burstDefault({\n    element: Element.Geo,\n    params,\n    stats,\n    modifier,\n  });\n}\n","import Talent from './Talent';\nimport { attackBowDefault, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst fischlTalent: Talent = {\n  attack: fischlAttack,\n  skill: fischlSkill,\n  burst: fischlBurst,\n};\n\nexport default fischlTalent;\n\nfunction fischlAttack({ params, stats, modifier }: TalentProps) {\n  return attackBowDefault({\n    normalHits: 5,\n    chargedElement: Element.Electro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction fischlSkill({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['ozDmg', 'summoningDmg'];\n  return descriptions.map((description, i) =>\n    skillBase({\n      description,\n      element: Element.Electro,\n      multiplier: params[i],\n      stats,\n      modifier,\n    })\n  );\n}\n\nfunction fischlBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'fallingThunderDmg',\n      element: Element.Electro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackLightMulti,\n  skillBase,\n  skillMultiBase,\n  burstBase,\n  healingSkillBase,\n} from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst bennettTalent: Talent = {\n  attack: bennettAttack,\n  skill: bennettSkill,\n  burst: bennettBurst,\n};\n\nexport default bennettTalent;\n\nfunction bennettAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 1, 1, 1],\n    chargedHits: 2,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction bennettSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'pressDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    skillMultiBase({\n      description: 'chargeLevel1Dmg',\n      hits: 2,\n      element: Element.Pyro,\n      params: params.slice(1, 3),\n      stats,\n      modifier,\n    }),\n\n    skillMultiBase({\n      description: 'chargeLevel2Dmg',\n      hits: 2,\n      element: Element.Pyro,\n      params: params.slice(3, 5),\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'explosionDmg',\n      element: Element.Pyro,\n      multiplier: params[5],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction bennettBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenContinuousPerSecond',\n      params: params.slice(1, 3),\n      stats,\n      modifier,\n    }),\n  ];\n\n  // ATK Bonus\n  let atkBonus = stats.baseAtk * params[3];\n  talentDamage.push({\n    description: 'atkBonus',\n    damage: [atkBonus],\n  });\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport {\n  attackBowDefault,\n  calculateTotalDamage,\n  skillBase,\n  normalAttackMulti,\n  chargedAttackMulti,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst tartagliaTalent: Talent = {\n  attack: tartagliaAttack,\n  skill: tartagliaSkill,\n  burst: tartagliaBurst,\n};\n\nexport default tartagliaTalent;\n\nfunction tartagliaAttack({ params, stats, modifier }: TalentProps) {\n  let talentDamage = attackBowDefault({\n    normalHits: 6,\n    chargedElement: Element.Hydro,\n    params: params.slice(0, 8).concat(params.slice(10)),\n    stats,\n    modifier,\n  });\n\n  let riptideFlashDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[8],\n    element: Element.Hydro,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentDamage.push({\n    description: 'riptideFlashDmg',\n    damage: [riptideFlashDmg],\n  });\n\n  let riptideBurstDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[9],\n    element: Element.Hydro,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentDamage.push({\n    description: 'riptideBurstDmg',\n    damage: [riptideBurstDmg],\n  });\n\n  return talentDamage;\n}\n\nfunction tartagliaSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    skillBase({\n      description: 'stanceChangeDmg',\n      element: Element.Hydro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    ...normalAttackMulti({\n      hits: [1, 1, 1, 1, 1, 2],\n      element: Element.Hydro,\n      params: params.slice(1, 8),\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    ...chargedAttackMulti({\n      hits: 2,\n      element: Element.Hydro,\n      params: params.slice(8, 10),\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    skillBase({\n      description: 'riptideSlashDmg',\n      element: Element.Hydro,\n      multiplier: params[10],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction tartagliaBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmgMelee',\n      element: Element.Hydro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'burstDmgRanged',\n      element: Element.Hydro,\n      multiplier: params[2],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'riptideBlastDmg',\n      element: Element.Hydro,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackHeavyDefault,\n  calculateTotalDamage,\n  shieldBase,\n  healingSkillBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, ScalingType, AttackType, Element } from './types';\n\nconst noelleTalent: Talent = {\n  attack: noelleAttack,\n  skill: noelleSkill,\n  burst: noelleBurst,\n};\n\nexport default noelleTalent;\n\nfunction noelleAttack({ params, stats, modifier }: TalentProps) {\n  const element = modifier.infusion ?? Element.Physical;\n\n  return attackHeavyDefault({\n    normalHits: 4,\n    element,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction noelleSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  let skillDamage = calculateTotalDamage({\n    stats,\n    multiplier: params[5],\n    element: Element.Geo,\n    scalingType: ScalingType.Defense,\n    attackType: AttackType.Skill,\n    modifier,\n  });\n  talentDamage.push({\n    description: 'skillDmg',\n    damage: [skillDamage],\n  });\n\n  talentDamage.push(\n    shieldBase({\n      description: 'shieldHp',\n      multiplier: params[0],\n      flatBonus: params[6],\n      element: Element.Geo,\n      scalingType: ScalingType.Defense,\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    healingSkillBase({\n      description: 'healing',\n      params: [params[1], params[7]],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction noelleBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstInitDmg',\n      element: Element.Geo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'firstSwingDmg',\n      element: Element.Geo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackLightMulti,\n  skillBase,\n  healingSkillBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, ScalingType, Element } from './types';\n\nconst qiqiTalent: Talent = {\n  attack: qiqiAttack,\n  skill: qiqiSkill,\n  burst: qiqiBurst,\n};\n\nexport default qiqiTalent;\n\nfunction qiqiAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 2, 2, 1],\n    chargedHits: 2,\n    params: params.slice(0, 6).concat(params[5]).concat(params.slice(6)),\n    stats,\n    modifier,\n  });\n}\n\nfunction qiqiSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'skillDmg',\n      element: Element.Cryo,\n      multiplier: params[7],\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'heraldOfFrostDmg',\n      element: Element.Cryo,\n      multiplier: params[4],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenOnHit',\n      scalingType: ScalingType.Attack,\n      params: params.slice(0, 2),\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenContinuous',\n      scalingType: ScalingType.Attack,\n      params: params.slice(2, 4),\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction qiqiBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Cryo,\n      multiplier: params[2],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'healing',\n      scalingType: ScalingType.Attack,\n      params,\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport { attackHeavyDefault, skillDefault, burstDefault } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst chongyunTalent: Talent = {\n  attack: chongyunAttack,\n  skill: chongyunSkill,\n  burst: chongyunBurst,\n};\n\nexport default chongyunTalent;\n\nfunction chongyunAttack({ params, stats, modifier }: TalentProps) {\n  const element = modifier.infusion ?? Element.Physical;\n  return attackHeavyDefault({\n    normalHits: 4,\n    element,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction chongyunSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Cryo,\n    params: params,\n    stats,\n    modifier,\n  });\n}\n\nfunction chongyunBurst({ params, stats, modifier }: TalentProps) {\n  return burstDefault({\n    element: Element.Cryo,\n    params: params,\n    stats,\n    modifier,\n  });\n}\n","import Talent from './Talent';\nimport {\n  normalAttackDefault,\n  calculateTotalDamage,\n  plungeAttackDefault,\n  skillBase,\n  hpBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst ganyuTalent: Talent = {\n  attack: ganyuAttack,\n  skill: ganyuSkill,\n  burst: ganyuBurst,\n};\n\nexport default ganyuTalent;\n\nfunction ganyuAttack({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  // Normal attack\n  talentDamage.push(\n    ...normalAttackDefault({\n      hits: 6,\n      element: Element.Physical,\n      params,\n      stats,\n      modifier,\n    })\n  );\n\n  // Charged attack\n  let aimedShotDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[6],\n    element: Element.Physical,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentDamage.push({\n    description: 'aimShotDmg',\n    damage: [aimedShotDmg],\n  });\n\n  let chargedDescriptions = [\n    'aimShotChargeLevel1',\n    'frostflakeArrowDmg',\n    'frostflakeArrowBloomDmg',\n  ];\n  let chargedDmg = chargedDescriptions.map((description, i) => {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i + 7],\n      element: Element.Cryo,\n      attackType: AttackType.Charged,\n      modifier,\n    });\n\n    return {\n      description,\n      damage: [damage],\n    };\n  });\n  talentDamage.push(...chargedDmg);\n\n  talentDamage.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(10),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction ganyuSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'skillDmg',\n      element: Element.Cryo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n\n    hpBase({\n      description: 'iceLotusHp',\n      multiplier: params[0],\n      flatBonus: 0,\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction ganyuBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'iceShardDmg',\n      element: Element.Cryo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackLightMulti,\n  skillBase,\n  calculateTotalDamage,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, ScalingType, AttackType, Element } from './types';\n\nconst albedoTalent: Talent = {\n  attack: albedoAttack,\n  skill: albedoSkill,\n  burst: albedoBurst,\n};\n\nexport default albedoTalent;\n\nfunction albedoAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 1, 1, 1],\n    chargedHits: 2,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction albedoSkill({ params, stats, modifier }: TalentProps) {\n  let talentDmg = [];\n\n  talentDmg.push(\n    skillBase({\n      description: 'skillDmg',\n      element: Element.Geo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  let transientBlossomDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[1],\n    element: Element.Geo,\n    scalingType: ScalingType.Defense,\n    attackType: AttackType.Skill,\n    modifier,\n  });\n  talentDmg.push({\n    description: 'transientBlossomDmg',\n    damage: [transientBlossomDmg],\n  });\n\n  return talentDmg;\n}\n\nfunction albedoBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Geo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'fatalBlossomDmg',\n      element: Element.Geo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackBowDefault,\n  skillBase,\n  shieldBase,\n  burstBase,\n  healingSkillBase,\n} from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst dionaTalent: Talent = {\n  attack: dionaAttack,\n  skill: dionaSkill,\n  burst: dionaBurst,\n};\n\nexport default dionaTalent;\n\nfunction dionaAttack({ params, stats, modifier }: TalentProps) {\n  return attackBowDefault({\n    normalHits: 5,\n    chargedElement: Element.Cryo,\n    params: params.slice(0, 5).concat(params.slice(6)),\n    stats,\n    modifier,\n  });\n}\n\nfunction dionaSkill({ params, stats, modifier }: TalentProps) {\n  let holdModifier = {\n    ...modifier,\n    dionaHoldSkill: true,\n  };\n\n  return [\n    skillBase({\n      description: 'icyPawDmgPerPaw',\n      element: Element.Cryo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    shieldBase({\n      description: 'shieldHpPress',\n      multiplier: params[1],\n      flatBonus: params[2],\n      element: Element.Cryo,\n      stats,\n      modifier,\n    }),\n\n    shieldBase({\n      description: 'shieldHpHold',\n      multiplier: params[1],\n      flatBonus: params[2],\n      element: Element.Cryo,\n      stats,\n      modifier: holdModifier,\n    }),\n  ];\n}\n\nfunction dionaBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Cryo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'continuousFieldDmg',\n      element: Element.Cryo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenContinuousTime',\n      params: params.slice(2),\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport { attackLightDefault, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst monaTalent: Talent = {\n  attack: monaAttack,\n  skill: monaSkill,\n  burst: monaBurst,\n};\n\nexport default monaTalent;\n\nfunction monaAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({\n    normalHits: 4,\n    element: Element.Hydro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction monaSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'dot',\n      element: Element.Hydro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'explosionDmg',\n      element: Element.Hydro,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction monaBurst({ params, stats, modifier }: TalentProps) {\n  let modifiedStats = { ...stats };\n  if (modifiedStats.dmgBonus !== undefined) {\n    modifiedStats.dmgBonus += params[9];\n  } else {\n    modifiedStats.dmgBonus = params[9];\n  }\n\n  return [\n    burstBase({\n      description: 'explosionDmg',\n      element: Element.Hydro,\n      multiplier: params[1],\n      stats: modifiedStats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  calculateTotalDamage,\n  chargedAttackMulti,\n  plungeAttackDefault,\n  skillBase,\n  skillMultiBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst keqingTalent: Talent = {\n  attack: keqingAttack,\n  skill: keqingSkill,\n  burst: keqingBurst,\n};\n\nexport default keqingTalent;\n\nfunction keqingAttack({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  // Normal attack\n  for (let i = 0; i < 3; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    });\n    talentDamage.push({\n      description: `${i + 1}HitDmg`,\n      damage: [damage],\n    });\n  }\n\n  let hit4Dmg = [];\n  for (let i = 3; i < 5; i++) {\n    hit4Dmg.push(\n      calculateTotalDamage({\n        stats,\n        multiplier: params[i],\n        element: Element.Physical,\n        attackType: AttackType.Normal,\n        modifier,\n      })\n    );\n  }\n  talentDamage.push({\n    description: '4HitDmg',\n    damage: hit4Dmg,\n  });\n\n  let hit5Dmg = [\n    calculateTotalDamage({\n      stats,\n      multiplier: params[5],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    }),\n  ];\n  talentDamage.push({\n    description: `5HitDmg`,\n    damage: hit5Dmg,\n  });\n\n  // Charged attack\n  talentDamage.push(\n    ...chargedAttackMulti({\n      hits: 2,\n      element: Element.Physical,\n      params: params.slice(6, 8),\n      stats,\n      modifier,\n    })\n  );\n\n  // Plunge attack\n  talentDamage.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(9, 12),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction keqingSkill({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['lightningStilettoDmg', 'slashingDmg'];\n  let talentDamage = descriptions.map((description, i) => {\n    return skillBase({\n      description,\n      element: Element.Electro,\n      multiplier: params[i],\n      stats,\n      modifier,\n    });\n  });\n\n  talentDamage.push(\n    skillMultiBase({\n      description: 'thunderclapSlashDmg',\n      hits: 2,\n      element: Element.Electro,\n      params: [params[2], params[2]],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction keqingBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    burstBase({\n      description: 'burstInitDmg',\n      element: Element.Electro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  let consecutiveSlashDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[1],\n    element: Element.Electro,\n    attackType: AttackType.Burst,\n    modifier,\n  });\n  talentDamage.push({\n    description: 'consecutiveSlashDmg',\n    damage: Array(8).fill(consecutiveSlashDmg),\n  });\n\n  talentDamage.push(\n    burstBase({\n      description: 'lastAttackDmg',\n      element: Element.Electro,\n      multiplier: params[2],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport { attackLightDefault, skillDefault, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst sucroseTalent: Talent = {\n  attack: sucroseAttack,\n  skill: sucroseSkill,\n  burst: sucroseBurst,\n};\n\nexport default sucroseTalent;\n\nfunction sucroseAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({\n    normalHits: 4,\n    element: Element.Anemo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction sucroseSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Anemo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction sucroseBurst({ params, stats, modifier }: TalentProps) {\n  let talentValues = [];\n  talentValues.push(\n    burstBase({\n      description: 'dot',\n      element: Element.Anemo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  if (modifier.elementalAbsorption !== undefined) {\n    talentValues.push(\n      burstBase({\n        description: 'dotElementalAbsorption',\n        element: modifier.elementalAbsorption,\n        multiplier: params[1],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return talentValues;\n}\n","import Talent from './Talent';\nimport {\n  attackHeavyDefault,\n  skillBase,\n  shieldBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, ScalingType, Element } from './types';\n\nconst xinyanTalent: Talent = {\n  attack: xinyanAttack,\n  skill: xinyanSkill,\n  burst: xinyanBurst,\n};\n\nexport default xinyanTalent;\n\nfunction xinyanAttack({ params, stats, modifier }: TalentProps) {\n  return attackHeavyDefault({\n    normalHits: 4,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction xinyanSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    skillBase({\n      description: 'swingDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  // Shields\n  for (let i = 0; i < 3; i++) {\n    talentDamage.push(\n      shieldBase({\n        description: `shieldHpLevel${i + 1}`,\n        multiplier: params[2 * i + 1],\n        flatBonus: params[2 * i + 2],\n        element: Element.Pyro,\n        scalingType: ScalingType.Defense,\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  talentDamage.push(\n    skillBase({\n      description: 'dot',\n      element: Element.Pyro,\n      multiplier: params[7],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction xinyanBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Physical,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'pyroDot',\n      element: Element.Pyro,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  normalAttackMulti,\n  calculateTotalDamage,\n  chargedAttackDefault,\n  plungeAttackDefault,\n  skillMultiBase,\n  burstMultiBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst rosariaTalent: Talent = {\n  attack: rosariaAttack,\n  skill: rosariaSkill,\n  burst: rosariaBurst,\n};\n\nexport default rosariaTalent;\n\nfunction rosariaAttack({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  // Normal attack\n  talentDamage.push(\n    ...normalAttackMulti({\n      hits: [1, 1, 2, 1],\n      element: Element.Physical,\n      params,\n      stats,\n      modifier,\n    })\n  );\n\n  let hit5Dmg = [];\n  for (let i = 4; i < 6; i++) {\n    hit5Dmg.push(\n      calculateTotalDamage({\n        stats,\n        multiplier: params[i],\n        element: Element.Physical,\n        attackType: AttackType.Normal,\n        modifier,\n      })\n    );\n  }\n  talentDamage.push({\n    description: '5HitDmg',\n    damage: hit5Dmg,\n  });\n\n  // Charged attack\n  talentDamage.push(\n    ...chargedAttackDefault({\n      element: Element.Physical,\n      params: params.slice(6, 7),\n      stats,\n      modifier,\n    })\n  );\n\n  // Plunge attack\n  talentDamage.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(8, 11),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction rosariaSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillMultiBase({\n      description: 'skillDmg',\n      hits: 2,\n      element: Element.Cryo,\n      params,\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction rosariaBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstMultiBase({\n      description: 'burstDmg',\n      hits: 2,\n      element: Element.Cryo,\n      params,\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'iceLanceDot',\n      element: Element.Cryo,\n      multiplier: params[2],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  normalAttackDefault,\n  calculateTotalDamage,\n  chargedAttackDefault,\n  plungeAttackDefault,\n  skillBase,\n  burstBase,\n  healingSkillBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, TalentValue, Element } from './types';\n\nconst hutaoTalent: Talent = {\n  attack: hutaoAttack,\n  skill: hutaoSkill,\n  burst: hutaoBurst,\n};\n\nexport default hutaoTalent;\n\nfunction hutaoAttack({ params, stats, modifier }: TalentProps) {\n  const element = modifier.infusion ?? Element.Physical;\n\n  let talentDamage = [];\n\n  // Normal attack\n  talentDamage.push(\n    ...normalAttackDefault({\n      hits: 4,\n      element,\n      params,\n      stats,\n      modifier,\n    })\n  );\n\n  let hit5Dmg = [];\n  for (let i = 4; i < 6; i++) {\n    hit5Dmg.push(\n      calculateTotalDamage({\n        stats,\n        multiplier: params[i],\n        element,\n        attackType: AttackType.Normal,\n        modifier,\n      })\n    );\n  }\n  talentDamage.push({\n    description: '5HitDmg',\n    damage: hit5Dmg,\n  });\n\n  let hit6Dmg = [\n    calculateTotalDamage({\n      stats,\n      multiplier: params[6],\n      element,\n      attackType: AttackType.Normal,\n      modifier,\n    }),\n  ];\n  talentDamage.push({\n    description: '6HitDmg',\n    damage: hit6Dmg,\n  });\n\n  // Charged attack\n  talentDamage.push(\n    ...chargedAttackDefault({\n      element,\n      params: params.slice(7, 8),\n      stats,\n      modifier,\n    })\n  );\n\n  // Plunge attack\n  talentDamage.push(\n    ...plungeAttackDefault({\n      element,\n      params: params.slice(9, 12),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction hutaoSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'bloodBlossomDmg',\n      element: Element.Pyro,\n      multiplier: params[2],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction hutaoBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage: TalentValue[] = [];\n\n  let dmgDescriptions = ['burstDmg', 'burstDmgLowHp'];\n  dmgDescriptions.forEach((description, i) => {\n    talentDamage.push(\n      burstBase({\n        description,\n        element: Element.Pyro,\n        multiplier: params[i],\n        stats,\n        modifier,\n      })\n    );\n  });\n\n  let regenDescriptions = ['hpRegen', 'hpRegenLowHp'];\n  regenDescriptions.forEach((description, i) => {\n    talentDamage.push(\n      healingSkillBase({\n        description,\n        params: [params[i + 2], 0],\n        stats,\n        modifier,\n      })\n    );\n  });\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport {\n  burstBase,\n  calculateTotalDamage,\n  chargedAttackMulti,\n  plungeAttackDefault,\n  skillBase,\n} from './TalentUtil';\nimport { AttackType, Element, TalentProps, TalentValue } from './types';\n\nconst kazuhaTalent: Talent = {\n  attack: kazuhaAttack,\n  skill: kazuhaSkill,\n  burst: kazuhaBurst,\n};\n\nexport default kazuhaTalent;\n\nfunction kazuhaAttack({ params, stats, modifier }: TalentProps) {\n  let talentValues: TalentValue[] = [];\n\n  // Normal attack\n  for (let i = 0; i < 2; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    });\n    talentValues.push({\n      description: `${i + 1}HitDmg`,\n      damage: [damage],\n    });\n  }\n\n  let hit3Dmg = [];\n  for (let i = 2; i < 4; i++) {\n    hit3Dmg.push(\n      calculateTotalDamage({\n        stats,\n        multiplier: params[i],\n        element: Element.Physical,\n        attackType: AttackType.Normal,\n        modifier,\n      })\n    );\n  }\n  talentValues.push({\n    description: '3HitDmg',\n    damage: hit3Dmg,\n  });\n\n  let hit4Dmg = [\n    calculateTotalDamage({\n      stats,\n      multiplier: params[4],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    }),\n  ];\n  talentValues.push({\n    description: `4HitDmg`,\n    damage: hit4Dmg,\n  });\n\n  let hit5Dmg = [];\n  const hit5DmgSingle = calculateTotalDamage({\n    stats,\n    multiplier: params[5],\n    element: Element.Physical,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  for (let i = 0; i < 3; i++) {\n    hit5Dmg.push(hit5DmgSingle);\n  }\n  talentValues.push({\n    description: `5HitDmg`,\n    damage: hit5Dmg,\n  });\n\n  // Charged attack\n  talentValues.push(\n    ...chargedAttackMulti({\n      hits: 2,\n      element: Element.Physical,\n      params: params.slice(6, 8),\n      stats,\n      modifier,\n    })\n  );\n\n  // Plunge attack\n  talentValues.push(\n    ...plungeAttackDefault({\n      element: modifier.infusionPlunge ?? Element.Physical,\n      params: params.slice(9, 12),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n\nfunction kazuhaSkill({ params, stats, modifier }: TalentProps) {\n  const descriptions = ['pressDmg', 'holdDmg'];\n  return descriptions.map((description, i) =>\n    skillBase({\n      description,\n      element: Element.Anemo,\n      multiplier: params[i * 2],\n      stats,\n      modifier,\n    })\n  );\n}\n\nfunction kazuhaBurst({ params, stats, modifier }: TalentProps) {\n  const descriptions = ['slashingDmg', 'dot'];\n  let talentValues = descriptions.map((description, i) =>\n    burstBase({\n      description,\n      element: Element.Anemo,\n      multiplier: params[i],\n      stats,\n      modifier,\n    })\n  );\n\n  if (modifier.elementalAbsorption !== undefined) {\n    talentValues.push(\n      burstBase({\n        description: 'dotElementalAbsorption',\n        element: modifier.elementalAbsorption,\n        multiplier: params[2],\n        stats,\n        modifier,\n      })\n    );\n  }\n  return talentValues;\n}\n","import Talent from './Talent';\nimport {\n  normalAttackDefault,\n  calculateTotalDamage,\n  plungeAttackDefault,\n  skillDefault,\n  burstDefault,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst yanfeiTalent: Talent = {\n  attack: yanfeiAttack,\n  skill: yanfeiSkill,\n  burst: yanfeiBurst,\n};\n\nexport default yanfeiTalent;\n\nfunction yanfeiAttack({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  // Normal attack\n  talentDamage.push(\n    ...normalAttackDefault({\n      hits: 3,\n      element: Element.Pyro,\n      params,\n      stats,\n      modifier,\n    })\n  );\n\n  // Charged attack\n  for (let i = 0; i < 5; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i + 3],\n      element: Element.Pyro,\n      attackType: AttackType.Charged,\n      modifier,\n    });\n    talentDamage.push({\n      description: `chargedDmgSeal${i}`,\n      damage: [damage],\n    });\n  }\n\n  // Plunge attack\n  talentDamage.push(\n    ...plungeAttackDefault({\n      element: Element.Pyro,\n      params: params.slice(15, 18),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction yanfeiSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Pyro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction yanfeiBurst({ params, stats, modifier }: TalentProps) {\n  return burstDefault({\n    element: Element.Pyro,\n    params,\n    stats,\n    modifier,\n  });\n}\n","import { getTalentData, getTalentStatsAt } from '../Data';\nimport { defaultTalentFn } from './DefaultTalent';\nimport Talent from './Talent';\nimport {\n  burstBase,\n  calculateTotalDamage,\n  normalAttackMulti,\n  plungeAttackDefault,\n} from './TalentUtil';\nimport { AttackType, Element, TalentProps, TalentType } from './types';\n\nconst yoimiyaTalent: Talent = {\n  attack: yoimiyaAttack,\n  skill: yoimiyaSkill,\n  burst: yoimiyaBurst,\n};\n\nexport default yoimiyaTalent;\n\nfunction yoimiyaAttack({ params, stats, modifier }: TalentProps) {\n  let talentValues = [];\n\n  // Normal attack\n  let normalAttackParams = params.slice(0, 5);\n  if (modifier.yoimiyaSkill) {\n    const skillParams = getTalentStatsAt(\n      TalentType.Skill,\n      modifier.talentSkillLevel,\n      getTalentData('yoimiya')\n    );\n    normalAttackParams = normalAttackParams.map(\n      (param) => param * skillParams[3]\n    );\n  }\n\n  talentValues.push(\n    ...normalAttackMulti({\n      hits: [2, 1, 1, 2, 1],\n      element: modifier.infusion ?? Element.Physical,\n      params: normalAttackParams,\n      stats,\n      modifier,\n    })\n  );\n\n  // Charged attack\n  let aimedShotDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[5],\n    element: Element.Physical,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentValues.push({\n    description: 'aimShotDmg',\n    damage: [aimedShotDmg],\n  });\n\n  let chargedAimedShotDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[6],\n    element: Element.Pyro,\n    attackType: AttackType.Charged,\n    modifier,\n  });\n  talentValues.push({\n    description: 'chargedAimShotDmg',\n    damage: [chargedAimedShotDmg],\n  });\n\n  let kindlingArrowDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[7],\n    element: Element.Pyro,\n    attackType: AttackType.Charged,\n    modifier,\n  });\n  talentValues.push({\n    description: 'kindlingArrowDmg',\n    damage: [kindlingArrowDmg],\n  });\n\n  // Plunge attack\n  talentValues.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(8, 11),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n\nfunction yoimiyaSkill({ params, stats, modifier }: TalentProps) {\n  return defaultTalentFn();\n}\n\nfunction yoimiyaBurst({ params, stats, modifier }: TalentProps) {\n  const descriptions = ['burstDmg', 'aurousBlazeExplosionDmg'];\n\n  return descriptions.map((description, i) =>\n    burstBase({\n      description,\n      element: Element.Pyro,\n      multiplier: params[i],\n      stats,\n      modifier,\n    })\n  );\n}\n","import Talent from './Talent';\nimport {\n  attackHeavyMulti,\n  skillBase,\n  burstDefault,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst eulaTalent: Talent = {\n  attack: eulaAttack,\n  skill: eulaSkill,\n  burst: eulaBurst,\n};\n\nexport default eulaTalent;\n\nfunction eulaAttack({ params, stats, modifier }: TalentProps) {\n  return attackHeavyMulti({\n    normalHits: [1, 1, 2, 1, 2],\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction eulaSkill({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['pressDmg', 'holdDmg', 'icewhirlBrandDmg'];\n  return descriptions.map((description, i) => {\n    return skillBase({\n      description,\n      element: Element.Cryo,\n      multiplier: params[i],\n      stats,\n      modifier,\n    });\n  });\n}\n\nfunction eulaBurst({ params, stats, modifier }: TalentProps) {\n  let talentDmg = [];\n  talentDmg.push(\n    ...burstDefault({\n      element: Element.Cryo,\n      params,\n      stats,\n      modifier,\n    })\n  );\n\n  let descriptions = ['lightfallSwordBaseDmg', 'lightfallSwordStackDmg'];\n  let lightfallSwordParams = params.slice(1, 3);\n  let lightfallSwordTalent = descriptions.map((description, i) => {\n    return burstBase({\n      description,\n      element: Element.Physical,\n      multiplier: lightfallSwordParams[i],\n      stats,\n      modifier,\n    });\n  });\n\n  talentDmg.push(...lightfallSwordTalent);\n\n  return talentDmg;\n}\n","import { Stats, TalentParams } from '../../data/types';\nimport {\n  AttackType,\n  Element,\n  ScalingType,\n  TalentType,\n  TalentValue,\n} from './types';\nimport Resistance from '../Resistance';\nimport DamageModifier from '../modifier/DamageModifer';\nimport { talents } from './Talent';\n\n// Function to get specified talent\nexport function getTalentFn(characterId: string, type: TalentType) {\n  return talents[characterId]?.[type] ?? talents.defaultTalent[type];\n}\n\n// Functions to calculate Talent Values\nfunction getDamageBonus({\n  stats,\n  element,\n  attackType,\n}: {\n  stats: Stats;\n  element: Element;\n  attackType: AttackType;\n}) {\n  let dmgBonus = 1;\n  dmgBonus += stats.dmgBonus ?? 0;\n  dmgBonus += stats[`${element}DmgBonus`] ?? 0;\n  dmgBonus += stats[`${attackType}DmgBonus`] ?? 0;\n\n  return dmgBonus;\n}\nfunction calculateBaseDamage({\n  stats,\n  multiplier,\n  scalingType,\n  flatDmg = 0,\n}: {\n  stats: Stats;\n  multiplier: number;\n  scalingType: ScalingType;\n  flatDmg?: number;\n}) {\n  if (scalingType === ScalingType.Attack) {\n    return stats.flatAtk * multiplier + flatDmg;\n  } else if (scalingType === ScalingType.Defense) {\n    return stats.flatDef * multiplier + flatDmg;\n  } else if (scalingType === ScalingType.Hp) {\n    return stats.flatHp * multiplier + flatDmg;\n  } else {\n    return NaN;\n  }\n}\nfunction calculateResMultiplier({\n  element,\n  res = new Resistance(),\n  resReduction = new Resistance(),\n}: {\n  element: Element;\n  res?: Resistance;\n  resReduction?: Resistance;\n}) {\n  let totalRes = res.get(element) - resReduction.get(element);\n\n  if (totalRes < 0) {\n    return 1 - totalRes / 2;\n  } else if (totalRes < 0.75) {\n    return 1 - totalRes;\n  } else {\n    return 1 / (4 * totalRes + 1);\n  }\n}\nexport function calculateTotalDamage({\n  stats,\n  multiplier,\n  element,\n  scalingType = ScalingType.Attack,\n  attackType,\n  modifier,\n}: {\n  stats: Stats;\n  multiplier: number;\n  element: Element;\n  scalingType?: ScalingType;\n  attackType: AttackType;\n  modifier: DamageModifier;\n}) {\n  let baseDmg = calculateBaseDamage({\n    stats,\n    multiplier,\n    scalingType,\n    flatDmg: modifier.flatDmg,\n  });\n  let dmgBonus = getDamageBonus({ stats, element, attackType });\n\n  let crit = 1;\n  if (modifier.critType === 'crit') {\n    crit += stats.critDmg;\n  } else if (modifier.critType === 'average') {\n    let critRate = stats.critRate;\n    if (attackType === 'charged') {\n      critRate += stats.chargedCritRate ?? 0;\n    }\n    crit += Math.min(1, critRate) * stats.critDmg;\n  }\n\n  let enemyDefMultiplier =\n    (modifier.characterLevel + 100) /\n    (modifier.characterLevel +\n      100 +\n      (modifier.enemyLevel + 100) * (1 - modifier.enemyDefReduction));\n  let enemyResMultiplier = calculateResMultiplier({\n    element,\n    res: modifier.enemyRes,\n    resReduction: modifier.enemyResReduction,\n  });\n\n  // TODO: reactionBonus\n  return baseDmg * dmgBonus * crit * enemyDefMultiplier * enemyResMultiplier;\n}\nfunction calculateHealing({\n  stats,\n  multiplier,\n  flatHealing,\n  scalingType = ScalingType.Hp,\n}: {\n  stats: Stats;\n  multiplier: number;\n  flatHealing: number;\n  scalingType?: ScalingType;\n}) {\n  // TODO: Add healing bonus\n  return calculateBaseDamage({\n    stats,\n    multiplier,\n    scalingType,\n    flatDmg: flatHealing,\n  });\n}\n// Used for calculting hp of summons/shield\nfunction calculateHp({\n  stats,\n  multiplier,\n  flatBonus,\n  scalingType = ScalingType.Hp,\n}: {\n  stats: Stats;\n  multiplier: number;\n  flatBonus: number;\n  scalingType?: ScalingType;\n}) {\n  if (scalingType === ScalingType.Attack) {\n    return stats.flatAtk * multiplier + flatBonus;\n  } else if (scalingType === ScalingType.Defense) {\n    return stats.flatDef * multiplier + flatBonus;\n  } else if (scalingType === ScalingType.Hp) {\n    return stats.flatHp * multiplier + flatBonus;\n  } else {\n    return NaN;\n  }\n}\n// Used for calculating total shield strength\nfunction calculateDmgAbsorption({\n  stats,\n  multiplier,\n  flatBonus,\n  element,\n  scalingType = ScalingType.Hp,\n  modifier,\n}: {\n  stats: Stats;\n  multiplier: number;\n  flatBonus: number;\n  element: Element;\n  scalingType?: ScalingType;\n  modifier: DamageModifier;\n}) {\n  let dmgAbsorption = calculateHp({\n    stats,\n    multiplier,\n    flatBonus,\n    scalingType,\n  });\n\n  // Geo Shields\n  if (element === Element.Geo) dmgAbsorption *= 1.5;\n\n  // Shield bonus from external sources\n  if (stats.shieldStrength !== undefined)\n    dmgAbsorption *= 1 + stats.shieldStrength;\n\n  // Character-specific bonuses\n  // Diona Hold Skill\n  if (modifier.dionaHoldSkill) dmgAbsorption *= 1.75;\n\n  return dmgAbsorption;\n}\n// Used for all default normal attacks\nexport function normalAttackDefault({\n  hits,\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  hits: number;\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues: TalentValue[] = [];\n  for (let i = 0; i < hits; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element,\n      attackType: AttackType.Normal,\n      modifier,\n    });\n\n    talentValues.push({\n      description: `${i + 1}HitDmg`,\n      damage: [damage],\n    });\n  }\n\n  return talentValues;\n}\n// Used for all normal attacks with multiple damage instances in 1 hit e.g. polearms\nexport function normalAttackMulti({\n  hits = [],\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  hits?: number[];\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = hits.map((hitCount, i) => {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element,\n      attackType: AttackType.Normal,\n      modifier,\n    });\n\n    let damages = [];\n    for (let hit = 0; hit < hitCount; hit++) {\n      damages.push(damage);\n    }\n\n    return {\n      description: `${i + 1}HitDmg`,\n      damage: damages,\n    } as TalentValue;\n  });\n\n  return talentValues;\n}\n// Used for all 1-hit charged attacks\nexport function chargedAttackDefault({\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damage = calculateTotalDamage({\n    stats,\n    multiplier: params[0],\n    element,\n    attackType: AttackType.Charged,\n    modifier,\n  });\n\n  return [\n    {\n      description: 'chargedDmg',\n      damage: [damage],\n    },\n  ] as TalentValue[];\n}\n// Used for multi-hit charged attacks\nexport function chargedAttackMulti({\n  hits,\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  hits: number;\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damages = [];\n  for (let i = 0; i < hits; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element,\n      attackType: AttackType.Charged,\n      modifier,\n    });\n    damages.push(damage);\n  }\n\n  return [\n    {\n      description: `chargedDmg`,\n      damage: damages,\n    },\n  ] as TalentValue[];\n}\n// Used for all default claymore charged attacks\nexport function chargedAttackHeavy({\n  element = Element.Physical,\n  params,\n  stats,\n  modifier,\n}: {\n  element?: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let descriptions = ['chargedSpinDmg', 'chargedFinalDmg'];\n  return descriptions.map((description, i) => {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element,\n      attackType: AttackType.Charged,\n      modifier,\n    });\n\n    return {\n      description: description,\n      damage: [damage],\n    } as TalentValue;\n  });\n}\n// Used for all default plunge attacks\nexport function plungeAttackDefault({\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let descriptions = ['plungeDmg', 'lowPlungeDmg', 'highPlungeDmg'];\n  return descriptions.map((description, i) => {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element,\n      attackType: AttackType.Plunge,\n      modifier,\n    });\n\n    return {\n      description: description,\n      damage: [damage],\n    } as TalentValue;\n  });\n}\n// Used for all default sword/polearm/catalyst attacks\nexport function attackLightDefault({\n  normalHits,\n  element = Element.Physical,\n  params,\n  stats,\n  modifier,\n}: {\n  normalHits: number;\n  element?: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = [];\n\n  talentValues.push(\n    ...normalAttackDefault({\n      hits: normalHits,\n      element,\n      params: params.slice(0, normalHits),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...chargedAttackDefault({\n      element,\n      params: params.slice(normalHits, normalHits + 1),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...plungeAttackDefault({\n      element,\n      params: params.slice(normalHits + 1 + 1),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n// Used for all default sword/polearm attacks with multi damage instances\nexport function attackLightMulti({\n  normalHits = [],\n  chargedHits = 1,\n  element = Element.Physical,\n  params,\n  stats,\n  modifier,\n}: {\n  normalHits?: number[];\n  chargedHits?: number;\n  element?: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = [];\n\n  talentValues.push(\n    ...normalAttackMulti({\n      hits: normalHits,\n      element,\n      params: params.slice(0, normalHits.length),\n      stats,\n      modifier,\n    })\n  );\n\n  if (chargedHits === 1) {\n    talentValues.push(\n      ...chargedAttackDefault({\n        element,\n        params: params.slice(normalHits.length, normalHits.length + 1),\n        stats,\n        modifier,\n      })\n    );\n  } else {\n    talentValues.push(\n      ...chargedAttackMulti({\n        hits: chargedHits,\n        element,\n        params: params.slice(\n          normalHits.length,\n          normalHits.length + chargedHits\n        ),\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  talentValues.push(\n    ...plungeAttackDefault({\n      element,\n      params: params.slice(normalHits.length + chargedHits + 1),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n// Used for all default claymore attacks\nexport function attackHeavyDefault({\n  normalHits,\n  element = Element.Physical,\n  params,\n  stats,\n  modifier,\n}: {\n  normalHits: number;\n  element?: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = [];\n\n  talentValues.push(\n    ...normalAttackDefault({\n      hits: normalHits,\n      element,\n      params: params.slice(0, normalHits),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...chargedAttackHeavy({\n      element,\n      params: params.slice(normalHits, normalHits + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...plungeAttackDefault({\n      element,\n      params: params.slice(normalHits + 2 + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n// Used for all claymore attacks with multi damage instances\nexport function attackHeavyMulti({\n  normalHits = [],\n  element = Element.Physical,\n  params,\n  stats,\n  modifier,\n}: {\n  normalHits?: number[];\n  element?: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = [];\n\n  talentValues.push(\n    ...normalAttackMulti({\n      hits: normalHits,\n      element,\n      params: params.slice(0, normalHits.length),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...chargedAttackHeavy({\n      params: params.slice(normalHits.length, normalHits.length + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...plungeAttackDefault({\n      element,\n      params: params.slice(normalHits.length + 2 + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n// Used for all debault bow aim shots (include charged shots)\nfunction aimShotDefault({\n  chargedElement,\n  params,\n  stats,\n  modifier,\n}: {\n  chargedElement: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues: TalentValue[] = [];\n\n  let damage = calculateTotalDamage({\n    stats,\n    multiplier: params[0],\n    element: Element.Physical,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentValues.push({\n    description: 'aimShotDmg',\n    damage: [damage],\n  });\n\n  damage = calculateTotalDamage({\n    stats,\n    multiplier: params[1],\n    element: chargedElement,\n    attackType: AttackType.Charged,\n    modifier,\n  });\n  talentValues.push({\n    description: 'chargedAimShotDmg',\n    damage: [damage],\n  });\n\n  return talentValues;\n}\n// Used for all default bow attacks\nexport function attackBowDefault({\n  normalHits,\n  chargedElement,\n  params,\n  stats,\n  modifier,\n}: {\n  normalHits: number;\n  chargedElement: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = [];\n\n  talentValues.push(\n    ...normalAttackDefault({\n      hits: normalHits,\n      element: Element.Physical,\n      params: params.slice(0, normalHits),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...aimShotDefault({\n      chargedElement,\n      params: params.slice(normalHits, normalHits + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(normalHits + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n// Base function for all damage skills. Returns an object representing a single line to be displayed.\n// The returned object should always be added into an array to construct the list of talent damage.\nexport function skillBase({\n  description,\n  element,\n  multiplier,\n  stats,\n  modifier,\n}: {\n  description: string;\n  element: Element;\n  multiplier: number;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damage = calculateTotalDamage({\n    element,\n    multiplier,\n    attackType: AttackType.Skill,\n    stats,\n    modifier,\n  });\n\n  return {\n    description,\n    damage: [damage],\n  } as TalentValue;\n}\n// Used for all default skill that only does 1-hit elemental dmg\nexport function skillDefault({\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  return [\n    skillBase({\n      description: 'skillDmg',\n      element,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n// Base function for damage skills with multiple damage instances\nexport function skillMultiBase({\n  description,\n  hits,\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  description: string;\n  hits: number;\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damages = [];\n\n  for (let i = 0; i < hits; i++) {\n    damages.push(\n      calculateTotalDamage({\n        element,\n        multiplier: params[i],\n        attackType: AttackType.Skill,\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return {\n    description,\n    damage: damages,\n  } as TalentValue;\n}\n// Base function for all damage bursts. Returns an object representing a single line to be displayed.\n// The returned object should always be added into an array to construct the list of talent damage.\nexport function burstBase({\n  description,\n  element,\n  multiplier,\n  stats,\n  modifier,\n}: {\n  description: string;\n  element: Element;\n  multiplier: number;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damage = calculateTotalDamage({\n    element,\n    multiplier,\n    attackType: AttackType.Burst,\n    stats,\n    modifier,\n  });\n\n  return {\n    description,\n    damage: [damage],\n  } as TalentValue;\n}\n// Used for all default burst that only does 1-hit elemental dmg\nexport function burstDefault({\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n// Base function for bursts with multiple damage instances\nexport function burstMultiBase({\n  description,\n  hits,\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  description: string;\n  hits: number;\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damages = [];\n\n  for (let i = 0; i < hits; i++) {\n    damages.push(\n      calculateTotalDamage({\n        element,\n        multiplier: params[i],\n        attackType: AttackType.Burst,\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return {\n    description,\n    damage: damages,\n  } as TalentValue;\n}\n// Base function for all healing skills. Returns an object representing a single line to be displayed.\n// The returned object should always be added into an array to construct the list of talent damage.\nexport function healingSkillBase({\n  description,\n  scalingType = ScalingType.Hp,\n  params,\n  stats,\n  modifier,\n}: {\n  description: string;\n  scalingType?: ScalingType;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damage = calculateHealing({\n    stats,\n    multiplier: params[0],\n    flatHealing: params[1],\n    scalingType,\n  });\n\n  return {\n    description,\n    damage: [damage],\n  } as TalentValue;\n}\n// Base function for all shields/summon HP\nexport function hpBase({\n  description,\n  multiplier,\n  flatBonus,\n  scalingType = ScalingType.Hp,\n  stats,\n  modifier,\n}: {\n  description: string;\n  multiplier: number;\n  flatBonus: number;\n  scalingType?: ScalingType;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let hp = calculateHp({\n    stats,\n    multiplier,\n    flatBonus,\n    scalingType,\n  });\n\n  return {\n    description,\n    damage: [hp],\n  } as TalentValue;\n}\nexport function shieldBase({\n  description,\n  multiplier,\n  flatBonus,\n  element,\n  scalingType = ScalingType.Hp,\n  stats,\n  modifier,\n}: {\n  description: string;\n  multiplier: number;\n  flatBonus: number;\n  element: Element;\n  scalingType?: ScalingType;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let dmgAbsorption = calculateDmgAbsorption({\n    stats,\n    multiplier,\n    flatBonus,\n    element,\n    scalingType,\n    modifier,\n  });\n\n  return {\n    description,\n    damage: [dmgAbsorption],\n  } as TalentValue;\n}\n","import Talent from './Talent';\nimport {\n  burstBase,\n  calculateTotalDamage,\n  chargedAttackHeavy,\n  healingSkillBase,\n  plungeAttackDefault,\n  skillBase,\n} from './TalentUtil';\nimport {\n  AttackType,\n  Element,\n  ScalingType,\n  TalentProps,\n  TalentValue,\n} from './types';\n\nconst sayuTalent: Talent = {\n  attack: sayuAttack,\n  skill: sayuSkill,\n  burst: sayuBurst,\n};\n\nexport default sayuTalent;\n\nfunction sayuAttack({ params, stats, modifier }: TalentProps) {\n  let talentValues: TalentValue[] = [];\n\n  // Normal attack\n  for (let i = 0; i < 2; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    });\n    talentValues.push({\n      description: `${i + 1}HitDmg`,\n      damage: [damage],\n    });\n  }\n\n  let hit3Dmg = [];\n  for (let i = 2; i < 4; i++) {\n    hit3Dmg.push(\n      calculateTotalDamage({\n        stats,\n        multiplier: params[i],\n        element: Element.Physical,\n        attackType: AttackType.Normal,\n        modifier,\n      })\n    );\n  }\n  talentValues.push({\n    description: '3HitDmg',\n    damage: hit3Dmg,\n  });\n\n  let hit4Dmg = [\n    calculateTotalDamage({\n      stats,\n      multiplier: params[4],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    }),\n  ];\n  talentValues.push({\n    description: `4HitDmg`,\n    damage: hit4Dmg,\n  });\n\n  // Charged attack\n  talentValues.push(\n    ...chargedAttackHeavy({ params: params.slice(5, 7), stats, modifier })\n  );\n\n  // Plunge attack\n  talentValues.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(9, 12),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n\nfunction sayuSkill({ params, stats, modifier }: TalentProps) {\n  const talentValues: TalentValue[] = [];\n\n  const skillDescriptions = [\n    'fuufuuWindwheelDmg',\n    'fuufuuWhirlwindKickPressDmg',\n    'fuufuuWhirlwindKickHoldDmg',\n  ];\n  const skillParams = [params[0], params[2], params[3]];\n\n  skillDescriptions.forEach((description, i) =>\n    talentValues.push(\n      skillBase({\n        description,\n        element: Element.Anemo,\n        multiplier: skillParams[i],\n        stats,\n        modifier,\n      })\n    )\n  );\n\n  if (modifier.elementalAbsorption !== undefined) {\n    const elementalAbsorption = modifier.elementalAbsorption;\n    const elementalDescriptions = [\n      'fuufuuWindwheelElementalDmg',\n      'fuufuuWhirlwindKickElementalDmg',\n    ];\n    const elementalParams = [params[1], params[4]];\n\n    elementalDescriptions.forEach((description, i) =>\n      talentValues.push(\n        skillBase({\n          description,\n          element: elementalAbsorption,\n          multiplier: elementalParams[i],\n          stats,\n          modifier,\n        })\n      )\n    );\n  }\n\n  return talentValues;\n}\n\nfunction sayuBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'activationDmg',\n      element: Element.Anemo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'activationHealing',\n      scalingType: ScalingType.Attack,\n      params: [params[2], params[1]],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'mujimujiDarumaDmg',\n      element: Element.Anemo,\n      multiplier: params[3],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'mujimujiDarumaHealing',\n      scalingType: ScalingType.Attack,\n      params: [params[5], params[4]],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import { ModifierMixin, StatMixin } from './Mixin';\n\nexport default class Option {\n  id: string;\n\n  constructor(id: string) {\n    this.id = id;\n  }\n}\n\nexport interface IOptionBoolean {\n  value: boolean;\n}\n\nexport interface IOptionPicker {\n  value: string;\n  choices: string[];\n}\n\nexport interface IOptionNumber {\n  value: number;\n}\n\nexport interface IStatsApplicable {\n  applyOnStats: StatMixin;\n}\n\nexport interface IModifierApplicable {\n  applyOnModifier: ModifierMixin;\n}\n","import Option from '../Option';\n\nexport default class ArtifactSetOption extends Option {\n  threshold: number;\n\n  constructor(id: string = '', threshold: number = 0) {\n    super(id);\n    this.threshold = threshold;\n  }\n}\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionPicker, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass ArchaicPetra4PcOption\n  extends ArtifactSetOption\n  implements IOptionPicker, IStatsApplicable\n{\n  value = '';\n  choices = ['cryo', 'electro', 'hydro', 'pyro'];\n\n  constructor() {\n    super('archaicPetra4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value !== '') {\n      const params = getArtifactSetBonusParams('archaicpetra', 4);\n      stats[`${this.value}DmgBonus`] =\n        params[0] + (stats[`${this.value}DmgBonus`] ?? 0);\n    }\n  };\n}\n\nconst archaicPetraOptions = [ArchaicPetra4PcOption];\nexport default archaicPetraOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass Berserker4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('berserker4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('berserker', 4);\n      stats.critRate = params[0] + (stats.critRate ?? 0);\n    }\n  };\n}\n\nconst berserkerOptions = [Berserker4PcOption];\nexport default berserkerOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass BlizzardStrayer4PcCryoOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('blizzardStrayer4PcCryo', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('blizzardstrayer', 4);\n      stats.critRate = params[0] + (stats.critRate ?? 0);\n    }\n  };\n}\n\nclass BlizzardStrayer4PcFrozenOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('blizzardStrayer4PcFrozen', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('blizzardstrayer', 4);\n      stats.critRate = params[1] + (stats.critRate ?? 0);\n    }\n  };\n}\n\nconst blizzardStrayerOptions = [\n  BlizzardStrayer4PcCryoOption,\n  BlizzardStrayer4PcFrozenOption,\n];\nexport default blizzardStrayerOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass BloodStainedChivalry4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('bloodstainedChivalry4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('bloodstainedchivalry', 4);\n      stats.chargedDmgBonus = params[1] + (stats.chargedDmgBonus ?? 0);\n    }\n  };\n}\n\nconst bloodstainedChivalryOptions = [BloodStainedChivalry4PcOption];\nexport default bloodstainedChivalryOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass BraveHeart4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('braveHeart4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('braveheart', 4);\n      stats.dmgBonus = params[0] + (stats.dmgBonus ?? 0);\n    }\n  };\n}\n\nconst braveHeartOptions = [BraveHeart4PcOption];\nexport default braveHeartOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusData } from '../../Data';\nimport { IOptionNumber, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass CrimsonWitch4PcOption\n  extends ArtifactSetOption\n  implements IOptionNumber, IStatsApplicable\n{\n  value = 0;\n\n  constructor() {\n    super('crimsonWitch4PcStacks', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value > 0) {\n      const setBonusData = getArtifactSetBonusData('crimsonwitchofflames');\n      const param = setBonusData[2].bonuses.find(\n        ({ stat }) => stat === 'pyroDmgBonus'\n      )?.value!!;\n\n      let stacks = this.value;\n      if (stacks > 3) stacks = 3;\n      stats.pyroDmgBonus = stacks * (param / 2) + (stats.pyroDmgBonus ?? 0);\n    }\n  };\n}\n\nconst crimsonWitchOptions = [CrimsonWitch4PcOption];\nexport default crimsonWitchOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass HeartOfDepth4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('heartOfDepth4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('heartofdepth', 4);\n      stats.normalDmgBonus = params[0] + (stats.normalDmgBonus ?? 0);\n      stats.chargedDmgBonus = params[0] + (stats.chargedDmgBonus ?? 0);\n    }\n  };\n}\n\nconst heartOfDepthOptions = [HeartOfDepth4PcOption];\nexport default heartOfDepthOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass Instructor4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('instructor4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('instructor', 4);\n      stats.elementalMastery = params[1] + (stats.elementalMastery ?? 0);\n    }\n  };\n}\n\nconst instructorOptions = [Instructor4PcOption];\nexport default instructorOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass Lavawalker4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('lavawalker4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('lavawalker', 4);\n      stats.dmgBonus = params[0] + (stats.dmgBonus ?? 0);\n    }\n  };\n}\n\nconst lavawalkerOptions = [Lavawalker4PcOption];\nexport default lavawalkerOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass MaidenBeloved4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('maidenBeloved4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('maidenbeloved', 4);\n      stats.healedBonus = params[0] + (stats.healedBonus ?? 0);\n    }\n  };\n}\n\nconst maidenBelovedOptions = [MaidenBeloved4PcOption];\nexport default maidenBelovedOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass MartialArtist4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('martialArtist4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('martialartist', 4);\n      stats.normalDmgBonus = params[2] + (stats.normalDmgBonus ?? 0);\n      stats.chargedDmgBonus = params[2] + (stats.chargedDmgBonus ?? 0);\n    }\n  };\n}\n\nconst martialArtistOptions = [MartialArtist4PcOption];\nexport default martialArtistOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass NoblesseOblige4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('noblesseOblige4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('noblesseoblige', 4);\n      stats.atkBonus = params[0] + (stats.atkBonus ?? 0);\n    }\n  };\n}\n\nconst noblesseObligeOptions = [NoblesseOblige4PcOption];\nexport default noblesseObligeOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionNumber, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass PaleFlame4PcOption\n  extends ArtifactSetOption\n  implements IOptionNumber, IStatsApplicable\n{\n  value = 0;\n\n  constructor() {\n    super('paleFlame4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    const params = getArtifactSetBonusParams('paleflame', 4);\n\n    if (this.value >= 1) {\n      stats.atkBonus = params[0] + (stats.atkBonus ?? 0);\n    }\n\n    if (this.value >= 2) {\n      stats.atkBonus = params[0] + (stats.atkBonus ?? 0);\n      stats.physicalDmgBonus = params[3] + (stats.physicalDmgBonus ?? 0);\n    }\n  };\n}\n\nconst paleFlameOptions = [PaleFlame4PcOption];\nexport default paleFlameOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass RetracingBolide4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('retracingBolide4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('retracingbolide', 4);\n      stats.normalDmgBonus = params[0] + (stats.normalDmgBonus ?? 0);\n      stats.chargedDmgBonus = params[0] + (stats.chargedDmgBonus ?? 0);\n    }\n  };\n}\n\nconst retracingBolideOptions = [RetracingBolide4PcOption];\nexport default retracingBolideOptions;\n","import { Stats } from '../../../data/types';\nimport { getArtifactSetBonusData } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport ArtifactSetOption from './ArtifactSetOption';\n\nclass Shimenawa4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('shimenawa4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const setBonusData = getArtifactSetBonusData('shimenawasreminiscence');\n      const param = setBonusData[4].bonusExtra.params[1];\n      stats.normalDmgBonus = param + (stats.normalDmgBonus ?? 0);\n      stats.chargedDmgBonus = param + (stats.chargedDmgBonus ?? 0);\n      stats.plungeDmgBonus = param + (stats.plungeDmgBonus ?? 0);\n    }\n  };\n}\n\nconst shimenawaOptions = [Shimenawa4PcOption];\nexport default shimenawaOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass Tenacity4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('tenacity4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('tenacityofthemillelith', 4);\n      stats.atkBonus = params[0] + (stats.atkBonus ?? 0);\n      stats.shieldStrength = params[1] + (stats.shieldStrength ?? 0);\n    }\n  };\n}\n\nconst tenacityOptions = [Tenacity4PcOption];\nexport default tenacityOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass Thundersoother4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('thundersoother4Pc', 4);\n  }\n\n  applyOnStats = (stats: Stats) => {\n    if (this.value) {\n      const params = getArtifactSetBonusParams('thundersoother', 4);\n      stats.dmgBonus = params[0] + (stats.dmgBonus ?? 0);\n    }\n  };\n}\n\nconst thundersootherOptions = [Thundersoother4PcOption];\nexport default thundersootherOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IModifierApplicable, IOptionPicker } from '../Option';\nimport DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\n\nclass ViridescentVenerer4PcOption\n  extends ArtifactSetOption\n  implements IOptionPicker, IModifierApplicable\n{\n  value = '';\n  choices = [Element.Cryo, Element.Electro, Element.Hydro, Element.Pyro];\n\n  constructor() {\n    super('viridescentVenerer4Pc', 4);\n  }\n\n  applyOnModifier = (modifier: DamageModifier) => {\n    if (this.value !== '') {\n      const params = getArtifactSetBonusParams('viridescentvenerer', 4);\n      modifier.enemyResReduction.add(this.value as Element, params[1]);\n    }\n  };\n}\n\nconst viridescentVenererOptions = [ViridescentVenerer4PcOption];\nexport default viridescentVenererOptions;\n","import Option from '../Option';\n\nexport default class CharacterOption extends Option {\n  constructor(id: string = '') {\n    super(id);\n  }\n}\n","import DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport { IModifierApplicable, IOptionBoolean } from '../Option';\nimport CharacterOption from './CharacterOption';\n\nclass AyakaOptionInfusion\n  extends CharacterOption\n  implements IOptionBoolean, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('infusionCryo');\n  }\n\n  applyOnModifier = (modifier: DamageModifier) => {\n    if (this.value) {\n      modifier.infusion = Element.Cryo;\n    }\n  };\n}\n\nconst ayakaOptions = [AyakaOptionInfusion];\nexport default ayakaOptions;\n","import DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport { IModifierApplicable, IOptionBoolean } from '../Option';\nimport CharacterOption from './CharacterOption';\n\nclass ChongyunOptionInfusion\n  extends CharacterOption\n  implements IOptionBoolean, IModifierApplicable\n{\n  value = false; // set default value\n\n  constructor() {\n    super('infusionCryo'); // set ID\n  }\n\n  applyOnModifier = (modifier: DamageModifier) => {\n    if (this.value) {\n      modifier.infusion = Element.Cryo;\n    }\n  };\n}\n\nconst chongyunOptions: typeof CharacterOption[] = [ChongyunOptionInfusion];\nexport default chongyunOptions;\n","import { Stats } from '../../../data/types';\nimport { getTalentData } from '../../Data';\nimport DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport {\n  IModifierApplicable,\n  IOptionBoolean,\n  IStatsApplicable,\n} from '../Option';\nimport CharacterOption from './CharacterOption';\n\nclass DilucOptionInfusion\n  extends CharacterOption\n  implements IOptionBoolean, IModifierApplicable, IStatsApplicable\n{\n  value = false;\n\n  constructor() {\n    super('dilucBurst');\n  }\n\n  applyOnModifier = (modifier: DamageModifier) => {\n    if (this.value) {\n      modifier.infusion = Element.Pyro;\n    }\n  };\n\n  applyOnStats = (\n    stats: Stats,\n    _talentAttackLevel: number,\n    _talentSkillLevel: number,\n    _talentBurstLevel: number,\n    ascensionLevel: number\n  ) => {\n    if (this.value && ascensionLevel >= 4) {\n      const params = getTalentData('diluc').passives.find(\n        (passiveData) => passiveData.id === 'Diluc_PermanentSkill_2'\n      )?.params;\n      const pyroDmgBonus = params?.[1] ?? NaN;\n\n      stats.pyroDmgBonus = pyroDmgBonus + (stats.pyroDmgBonus ?? 0);\n    }\n  };\n}\n\nconst dilucOptions: typeof CharacterOption[] = [DilucOptionInfusion];\nexport default dilucOptions;\n","import CharacterOption from './CharacterOption';\nimport { getTalentStatsAt, getTalentData } from '../../Data';\nimport DamageModifier from '../../modifier/DamageModifer';\nimport { Element, TalentType } from '../../talent/types';\nimport {\n  IOptionBoolean,\n  IStatsApplicable,\n  IModifierApplicable,\n} from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass HuTaoOptionSkill\n  extends CharacterOption\n  implements IOptionBoolean, IStatsApplicable, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('paramitaPapilioState');\n  }\n\n  applyOnStats = (\n    stats: Stats,\n    _talentAttackLevel: number,\n    talentSkillLevel: number,\n    _talentBurstLevel: number\n  ) => {\n    if (this.value) {\n      let skillParams = getTalentStatsAt(\n        TalentType.Skill,\n        talentSkillLevel,\n        getTalentData('hutao')\n      );\n\n      const totalHp =\n        (stats.baseHp ?? 0) * (1 + (stats.hpBonus ?? 0)) + (stats.flatHp ?? 0);\n      stats.flatAtk = (stats.flatAtk ?? 0) + totalHp * skillParams[1];\n    }\n  };\n\n  applyOnModifier = (modifier: DamageModifier) => {\n    if (this.value) {\n      modifier.infusion = Element.Pyro;\n    }\n  };\n}\n\nconst hutaoOptions = [HuTaoOptionSkill];\nexport default hutaoOptions;\n","import DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport { IModifierApplicable, IOptionPicker } from '../Option';\nimport CharacterOption from './CharacterOption';\n\nclass ElementalAbsoprtionOption\n  extends CharacterOption\n  implements IOptionPicker, IModifierApplicable\n{\n  value = '';\n  choices = [Element.Cryo, Element.Electro, Element.Hydro, Element.Pyro];\n\n  constructor() {\n    super('elementalAbsorption');\n  }\n\n  applyOnModifier = (modifier: DamageModifier) => {\n    if (this.value !== '') {\n      modifier.elementalAbsorption = this.value as Element;\n    }\n  };\n}\n\nexport default ElementalAbsoprtionOption;\n","import DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport { IModifierApplicable, IOptionBoolean } from '../Option';\nimport CharacterOption from './CharacterOption';\nimport ElementalAbsoprtionOption from './ElementalAbsorptionOption';\n\nclass KazuhaOptionInfusion\n  extends CharacterOption\n  implements IOptionBoolean, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('infusionAnemoPlunge');\n  }\n\n  applyOnModifier = (modifier: DamageModifier) => {\n    if (this.value) {\n      modifier.infusionPlunge = Element.Anemo;\n    }\n  };\n}\n\nconst kazuhaOptions = [KazuhaOptionInfusion, ElementalAbsoprtionOption];\nexport default kazuhaOptions;\n","import CharacterOption from './CharacterOption';\nimport { getTalentStatsAt, getTalentData } from '../../Data';\nimport DamageModifier from '../../modifier/DamageModifer';\nimport { Element, TalentType } from '../../talent/types';\nimport {\n  IOptionBoolean,\n  IStatsApplicable,\n  IModifierApplicable,\n} from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass NoelleOptionBurst\n  extends CharacterOption\n  implements IOptionBoolean, IStatsApplicable, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('noelleBurst');\n  }\n\n  applyOnStats = (\n    stats: Stats,\n    _talentAttackLevel: number,\n    _talentSkillLevel: number,\n    talentBurstLevel: number\n  ) => {\n    if (this.value) {\n      let burstParams = getTalentStatsAt(\n        TalentType.Burst,\n        talentBurstLevel,\n        getTalentData('noelle')\n      );\n\n      const totalDef =\n        (stats.baseDef ?? 0) * (1 + (stats.defBonus ?? 0)) +\n        (stats.flatDef ?? 0);\n\n      stats.flatAtk = (stats.flatAtk ?? 0) + totalDef * burstParams[2];\n    }\n  };\n\n  applyOnModifier = (modifier: DamageModifier) => {\n    if (this.value) {\n      modifier.infusion = Element.Geo;\n    }\n  };\n}\n\nconst noelleOptions = [NoelleOptionBurst];\nexport default noelleOptions;\n","import ElementalAbsoprtionOption from './ElementalAbsorptionOption';\n\nconst sayuOptions = [ElementalAbsoprtionOption];\nexport default sayuOptions;\n","import ElementalAbsoprtionOption from './ElementalAbsorptionOption';\n\nconst sucroseOptions = [ElementalAbsoprtionOption];\nexport default sucroseOptions;\n","import ayakaOptions from './AyakaOption';\nimport CharacterOption from './CharacterOption';\nimport chongyunOptions from './ChongyunOption';\nimport dilucOptions from './DilucOption';\nimport hutaoOptions from './HuTaoOption';\nimport kazuhaOptions from './KazuhaOption';\nimport noelleOptions from './NoelleOption';\nimport sayuOptions from './SayuOption';\nimport sucroseOptions from './SucroseOption';\nimport ventiOptions from './VentiOption';\nimport xiaoOptions from './XiaoOption';\nimport yanfeiOptions from './YanfeiOption';\nimport yoimiyaOptions from './YoimiyaOption';\n\nexport { default as CharacterOption } from './CharacterOption';\n\nexport const characterOptions: Record<string, typeof CharacterOption[]> = {\n  ayaka: ayakaOptions,\n  diluc: dilucOptions,\n  venti: ventiOptions,\n  xiao: xiaoOptions,\n  noelle: noelleOptions,\n  chongyun: chongyunOptions,\n  sucrose: sucroseOptions,\n  hutao: hutaoOptions,\n  kazuha: kazuhaOptions,\n  yanfei: yanfeiOptions,\n  yoimiya: yoimiyaOptions,\n  sayu: sayuOptions,\n};\n","import ElementalAbsoprtionOption from './ElementalAbsorptionOption';\n\nconst ventiOptions = [ElementalAbsoprtionOption];\nexport default ventiOptions;\n","import CharacterOption from './CharacterOption';\nimport { getTalentStatsAt, getTalentData } from '../../Data';\nimport {\n  IModifierApplicable,\n  IOptionBoolean,\n  IStatsApplicable,\n} from '../Option';\nimport { Stats } from '../../../data/types';\nimport { Element, TalentType } from '../../talent/types';\nimport DamageModifier from '../../modifier/DamageModifer';\n\nclass XiaoOptionBurst\n  extends CharacterOption\n  implements IOptionBoolean, IStatsApplicable, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('xiaoBurst');\n  }\n\n  applyOnStats = (\n    stats: Stats,\n    _talentAttackLevel: number,\n    _talentSkillLevel: number,\n    talentBurstLevel: number\n  ) => {\n    if (this.value) {\n      let burstParams = getTalentStatsAt(\n        TalentType.Burst,\n        talentBurstLevel,\n        getTalentData('xiao')\n      );\n\n      stats.normalDmgBonus = burstParams[0] + (stats.normalDmgBonus ?? 0);\n      stats.chargedDmgBonus = burstParams[0] + (stats.chargedDmgBonus ?? 0);\n      stats.plungeDmgBonus = burstParams[0] + (stats.plungeDmgBonus ?? 0);\n    }\n  };\n\n  applyOnModifier = (modifier: DamageModifier) => {\n    if (this.value) {\n      modifier.infusion = Element.Anemo;\n    }\n  };\n}\n\nconst xiaoOptions = [XiaoOptionBurst];\nexport default xiaoOptions;\n","import CharacterOption from './CharacterOption';\nimport { getTalentStatsAt, getTalentData } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\nimport { TalentType } from '../../talent/types';\n\nclass YanfeiOptionBurst\n  extends CharacterOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = false;\n\n  constructor() {\n    super('brilliance');\n  }\n\n  applyOnStats = (\n    stats: Stats,\n    _talentAttackLevel: number,\n    _talentSkillLevel: number,\n    talentBurstLevel: number\n  ) => {\n    if (this.value) {\n      const burstParams = getTalentStatsAt(\n        TalentType.Burst,\n        talentBurstLevel,\n        getTalentData('yanfei')\n      );\n      stats.chargedDmgBonus = burstParams[1] + (stats.chargedDmgBonus ?? 0);\n    }\n  };\n}\n\nconst yanfeiOptions = [YanfeiOptionBurst];\nexport default yanfeiOptions;\n","import DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport { IModifierApplicable, IOptionBoolean } from '../Option';\nimport CharacterOption from './CharacterOption';\n\nclass YoimiyaOptionSkill\n  extends CharacterOption\n  implements IOptionBoolean, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('yoimiyaSkill');\n  }\n\n  applyOnModifier = (modifier: DamageModifier) => {\n    if (this.value) {\n      modifier.infusion = Element.Pyro;\n      modifier.yoimiyaSkill = true;\n    }\n  };\n}\n\nconst yoimiyaOptions = [YoimiyaOptionSkill];\nexport default yoimiyaOptions;\n","import { artifactSetOptions } from './artifactSetOptions';\nimport { characterOptions } from './characterOptions';\nimport Option, {\n  IModifierApplicable,\n  IOptionBoolean,\n  IOptionNumber,\n  IOptionPicker,\n  IStatsApplicable,\n} from './Option';\n\nconst defaultOptions: typeof Option[] = [];\n\nexport function getCharacterOptions(id: string) {\n  return characterOptions[id] ?? defaultOptions;\n}\n\nexport function getArtifactSetOptions(id: string) {\n  return artifactSetOptions[id] ?? defaultOptions;\n}\n\nexport function isBooleanOption(\n  option: Option\n): option is Option & IOptionBoolean {\n  return typeof (option as unknown as IOptionBoolean).value === 'boolean';\n}\n\nexport function isPickerOption(\n  option: Option\n): option is Option & IOptionPicker {\n  return (option as unknown as IOptionPicker).choices !== undefined;\n}\n\nexport function isNumberOption(\n  option: Option\n): option is Option & IOptionNumber {\n  return typeof (option as unknown as IOptionNumber).value === 'number';\n}\n\nexport function isStatsApplicable(\n  option: Option\n): option is Option & IStatsApplicable {\n  return (option as unknown as IStatsApplicable).applyOnStats !== undefined;\n}\n\nexport function isModifierApplicable(\n  option: Option\n): option is Option & IModifierApplicable {\n  return (\n    (option as unknown as IModifierApplicable).applyOnModifier !== undefined\n  );\n}\n\nexport function getOptionValue(option: Option) {\n  if (\n    isBooleanOption(option) ||\n    isPickerOption(option) ||\n    isNumberOption(option)\n  ) {\n    return option.value;\n  }\n}\n\nexport function setOptionValue(option: Option, value: unknown) {\n  if (\n    (isBooleanOption(option) && typeof value === 'boolean') ||\n    (isPickerOption(option) &&\n      typeof value === 'string' &&\n      (value === '' || option.choices.includes(value))) ||\n    (isNumberOption(option) && typeof value === 'number')\n  ) {\n    option.value = value;\n  }\n}\n","import { CharacterPassive, CharacterPassiveFn } from '../types';\nimport { yoimiyaAscension1 } from './YoimiyaPassive';\n\nconst characterPassives: Record<string, CharacterPassiveFn> = {\n  Yoimiya_PermanentSkill_1: yoimiyaAscension1,\n};\n\nfunction defaultPassiveFn(): CharacterPassive[] {\n  return [];\n}\n\nexport function getCharacterPassiveFn(passiveId: string) {\n  return characterPassives[passiveId] ?? defaultPassiveFn;\n}\n","import { Stats, TalentParams } from '../../../data/types';\nimport { CharacterOption } from '../../option/characterOptions';\nimport { IOptionNumber, IStatsApplicable } from '../../option/Option';\nimport { CharacterPassive } from '../types';\n\nexport function yoimiyaAscension1(params: TalentParams): CharacterPassive {\n  class YoimiyaOptionAscension1\n    extends CharacterOption\n    implements IOptionNumber, IStatsApplicable\n  {\n    value = 0;\n\n    constructor() {\n      super('yoimiyaAscension1');\n    }\n\n    applyOnStats = (stats: Stats) => {\n      let pyroDmgBonus = this.value * params[0];\n      if (this.value < 0 || this.value > 10) {\n        pyroDmgBonus = NaN;\n      }\n\n      stats.pyroDmgBonus = pyroDmgBonus + (stats.pyroDmgBonus ?? 0);\n    };\n  }\n\n  return {\n    id: 'yoimiyaAscension1',\n    options: [YoimiyaOptionAscension1],\n  };\n}\n","import {\n  getCharacterData as getData,\n  getCharacterAscensionBonusData as getAscensionBonusData,\n  getCharacterStatCurveAt as getStatCurveAt,\n  getAscensionBonusAt,\n  getTalentData,\n  getTalentStatsAt,\n} from '../Data';\n\nimport { getTalentFn } from '../talent';\nimport { getCharacterOptions } from '../option';\n\nimport type {\n  AscensionBonus,\n  StatCurveMapping,\n  Stats,\n  TalentDataSet,\n} from '../../data/types';\nimport type DamageModifier from '../modifier/DamageModifer';\nimport type { TalentType } from '../talent/types';\nimport { getCharacterPassiveFn } from '../passive/characterPassives/CharacterPassive';\nimport { CharacterOption } from '../option/characterOptions';\nimport { CharacterPassive } from '../passive/types';\nimport { ModifierMixin, StatMixin } from '../option/Mixin';\n\nexport default class Character {\n  constructor(id: string, level: number, hasAscended: boolean) {\n    this._level = level;\n    this._hasAscended = hasAscended;\n\n    this.id = id;\n  }\n\n  private _id: string = '';\n  get id(): string {\n    return this._id;\n  }\n  set id(value: string) {\n    // Essentially replaces the constructor\n    this._id = value;\n\n    const data = getData(value);\n\n    this.name = data?.name;\n    this.baseStats = data?.baseStats;\n    this.statCurveMapping = data?.statCurves;\n    this.ascensionBonuses = getAscensionBonusData(value);\n\n    this.talents = getTalentData(value);\n\n    this.innateStats = this.getInnateStatsAt(this.level, this.hasAscended);\n    this.characterOptions = this.getCharacterOptions();\n    const ascensionLevel = getAscensionLevel(this.level, this.hasAscended);\n    this.passives = this.getPassives(ascensionLevel);\n    this.passiveOptions = this.getPassiveOptions(ascensionLevel);\n  }\n\n  name?: string;\n  baseStats?: Stats;\n  statCurveMapping?: StatCurveMapping;\n  ascensionBonuses?: AscensionBonus[];\n  talents?: TalentDataSet;\n\n  private _level: number = 1;\n  get level(): number {\n    return this._level;\n  }\n  set level(value: number) {\n    const prevAscensionLevel = getAscensionLevel(this.level, this.hasAscended);\n    this._level = value;\n    const ascensionLevel = getAscensionLevel(this.level, this.hasAscended);\n\n    this.innateStats = this.getInnateStatsAt(value, this.hasAscended);\n    this.passives = this.getPassives(ascensionLevel, prevAscensionLevel);\n    this.passiveOptions = this.getPassiveOptions(\n      ascensionLevel,\n      prevAscensionLevel\n    );\n  }\n\n  private _hasAscended: boolean = false;\n  get hasAscended() {\n    return this._hasAscended;\n  }\n  set hasAscended(value: boolean) {\n    const prevAscensionLevel = getAscensionLevel(this.level, this.hasAscended);\n    this._hasAscended = value;\n    const ascensionLevel = getAscensionLevel(this.level, this.hasAscended);\n\n    this.innateStats = this.getInnateStatsAt(this.level, value);\n    this.passives = this.getPassives(ascensionLevel, prevAscensionLevel);\n    this.passiveOptions = this.getPassiveOptions(\n      ascensionLevel,\n      prevAscensionLevel\n    );\n  }\n\n  innateStats: Stats = {};\n  passives: CharacterPassive[] = [];\n  characterOptions: CharacterOption[] = [];\n  passiveOptions: CharacterOption[] = [];\n\n  isDefined() {\n    return this.id !== '';\n  }\n\n  // Returns an Object containing the character's innate total HP, Atk and Def, taking into account only their level and ascension\n  getInnateStatsAt(level: number, hasAscended: boolean) {\n    if (\n      this.baseStats === undefined ||\n      this.statCurveMapping === undefined ||\n      this.ascensionBonuses === undefined\n    ) {\n      // Character is (likely) not defined/stats not found\n      return {};\n    }\n\n    if (isNaN(level) || level < 1 || level > 90) {\n      // Return NaNs if level is invalid\n      let innateStats;\n      if (this.innateStats !== undefined) {\n        // Copy all of innateStats' properties to a new object and initialize them to null\n        innateStats = Object.keys(this.innateStats).reduce((obj, stat) => {\n          obj[stat] = NaN;\n          return obj;\n        }, {} as Stats);\n      } else {\n        innateStats = {};\n      }\n\n      return innateStats;\n    }\n\n    // ELSE\n    // Initialize stats with character level 1 base stats\n    let innateStats = { ...this.baseStats };\n\n    let charStatCurves = getStatCurveAt(level);\n\n    // Calculate stats from character level\n    Object.entries(this.statCurveMapping).forEach(([stat, curve]) => {\n      let multiplier = charStatCurves[curve];\n      innateStats[stat] *= multiplier;\n    });\n\n    // Calculate stats from character ascension\n    let ascensionLevel = getAscensionLevel(level, hasAscended);\n\n    let ascensionBonuses = getAscensionBonusAt(\n      ascensionLevel,\n      this.ascensionBonuses\n    );\n\n    if (ascensionBonuses !== undefined) {\n      Object.entries(ascensionBonuses).forEach(([stat, bonus]) => {\n        if (stat in innateStats) {\n          innateStats[stat] += bonus;\n        } else {\n          innateStats[stat] = bonus;\n        }\n      });\n    }\n\n    return innateStats;\n  }\n\n  // Return an Object with description and damage properties\n  getTalentDamageAt({\n    type,\n    talentLevel,\n    totalStats,\n    modifier,\n  }: {\n    type: TalentType;\n    talentLevel: number;\n    totalStats: Stats;\n    modifier: DamageModifier;\n  }) {\n    if (this.talents === undefined) {\n      return [];\n    }\n\n    const params = getTalentStatsAt(type, talentLevel, this.talents);\n\n    let damageFn = getTalentFn(this.id, type);\n\n    let damage = damageFn({\n      params,\n      stats: totalStats,\n      modifier,\n    });\n\n    return damage;\n  }\n\n  getCharacterOptions() {\n    return getCharacterOptions(this.id).map((Option) => new Option());\n  }\n\n  getPassives(ascensionLevel: number, prevAscensionLevel?: number) {\n    if (this.talents === undefined) {\n      return [];\n    }\n\n    const passiveDatas = this.talents.passives;\n\n    if (prevAscensionLevel === undefined || isNaN(prevAscensionLevel)) {\n      return passiveDatas\n        .filter((passiveData) => ascensionLevel >= passiveData.ascensionLevel)\n        .flatMap((passiveData) =>\n          getCharacterPassiveFn(passiveData.id)(passiveData.params)\n        );\n    }\n\n    if (ascensionLevel > prevAscensionLevel) {\n      const newPassives = passiveDatas\n        .filter(\n          (passiveData) =>\n            ascensionLevel >= passiveData.ascensionLevel &&\n            passiveData.ascensionLevel > prevAscensionLevel\n        )\n        .flatMap((passiveData) =>\n          getCharacterPassiveFn(passiveData.id)(passiveData.params)\n        );\n\n      return this.passives.concat(newPassives);\n    }\n\n    if (ascensionLevel < prevAscensionLevel) {\n      const keptPassiveIds = passiveDatas\n        .filter((passiveData) => ascensionLevel >= passiveData.ascensionLevel)\n        .flatMap(\n          (passiveData) =>\n            getCharacterPassiveFn(passiveData.id)(passiveData.params).id\n        );\n\n      return this.passives.filter((option) =>\n        keptPassiveIds.includes(option.id)\n      );\n    }\n\n    // if (ascensionLevel === prevAscensionLevel)\n    return this.passives;\n  }\n\n  // getPassives should be called before this if passives are updated\n  getPassiveOptions(ascensionLevel: number, prevAscensionLevel?: number) {\n    if (prevAscensionLevel === undefined || isNaN(prevAscensionLevel)) {\n      return this.passives\n        .flatMap(({ options }) => options)\n        .map((Option) => new Option());\n    }\n\n    if (ascensionLevel > prevAscensionLevel) {\n      const newOptions = this.passives\n        .flatMap(({ options }) => options)\n        .map((Option) => new Option());\n\n      return this.passiveOptions.concat(newOptions);\n    }\n\n    if (ascensionLevel < prevAscensionLevel) {\n      const keptOptionIds = this.passives\n        .flatMap(({ options }) => options)\n        .map((Option) => new Option())\n        .map((option) => option.id);\n\n      return this.passiveOptions.filter((option) =>\n        keptOptionIds.includes(option.id)\n      );\n    }\n\n    // if (ascensionLevel === prevAscensionLevel)\n    return this.passiveOptions;\n  }\n\n  getOptions() {\n    const characterOptions = this.characterOptions;\n    const passiveOptions = this.passiveOptions;\n\n    return characterOptions.concat(passiveOptions);\n  }\n\n  getPassiveStatMixins(): StatMixin[] {\n    return this.passives\n      .map(({ statMixin }) => statMixin)\n      .filter((mixin): mixin is StatMixin => mixin !== undefined);\n  }\n\n  getPassiveModifierMixins(): ModifierMixin[] {\n    return this.passives\n      .map(({ modifierMixin }) => modifierMixin)\n      .filter((mixin): mixin is ModifierMixin => mixin !== undefined);\n  }\n}\n\n// Utility functions\nexport function getAscensionLevel(level: number, hasAscended: boolean) {\n  let ascensionLevel;\n  if (level > 80 || (level === 80 && hasAscended)) {\n    ascensionLevel = 6;\n  } else if (level > 70 || (level === 70 && hasAscended)) {\n    ascensionLevel = 5;\n  } else if (level > 60 || (level === 60 && hasAscended)) {\n    ascensionLevel = 4;\n  } else if (level > 50 || (level === 50 && hasAscended)) {\n    ascensionLevel = 3;\n  } else if (level > 40 || (level === 40 && hasAscended)) {\n    ascensionLevel = 2;\n  } else if (level > 20 || (level === 20 && hasAscended)) {\n    ascensionLevel = 1;\n  } else {\n    ascensionLevel = 0;\n  }\n\n  return ascensionLevel;\n}\n","import { Stats } from '../data/types';\nimport Artifact from './artifact/Artifact';\nimport Character, { getAscensionLevel } from './character/Character';\nimport { talentDescMapping, optionMapping } from './Data';\nimport { StatMixin } from './option/Mixin';\nimport Weapon from './weapon/Weapon';\n\n// Returns the string to display as the value of a stat\nexport function getStatDisplayValue(value: number, isPercentage: boolean) {\n  if (value != null && !isNaN(value)) {\n    if (isPercentage) {\n      return (value * 100).toFixed(1) + '%';\n    } else {\n      return Math.round(value).toString();\n    }\n  } else {\n    return '-';\n  }\n}\n\n// Returns the string to display as the talent damage\nexport function getDamageDisplayValue(values: number[]) {\n  let str = '';\n\n  if (values.length === 0) {\n    return str;\n  }\n\n  if (isNaN(values[0])) {\n    return '-';\n  } else {\n    str += Math.round(values[0]);\n  }\n\n  if (values.length >= 3 && values.every((value) => value === values[0])) {\n    // All elements are the same, simplify to ${damage} x${count}\n    str += ' x ' + values.length;\n  } else {\n    // Less than 3 elements, or elements are different\n    values.slice(1).forEach((value) => {\n      if (isNaN(value)) {\n        return '-';\n      } else {\n        str += ' + ' + Math.round(value);\n      }\n    });\n  }\n\n  return str;\n}\n\n// Returns the display name of a talent option\nexport function getOptionName(id: string) {\n  return optionMapping[id];\n}\n\n// Returns a Number representing the inputed value of a stat\nexport function convertStatValue(value: number, isPercentage: boolean) {\n  if (isPercentage) {\n    return value / 100;\n  } else {\n    return value;\n  }\n}\n\nexport function getTalentDescription(desc: string) {\n  return talentDescMapping[desc];\n}\n\n// Returns object containing base stats of character with the passed weapon\n// Base stats = character innate stats + weapon stats\nfunction getBaseStatsAt(character: Character, weapon: Weapon) {\n  let characterStats;\n  if (character !== undefined) {\n    characterStats = character.innateStats;\n  } else {\n    characterStats = {};\n  }\n\n  let weaponStats;\n  if (weapon !== undefined) {\n    weaponStats = weapon.stats;\n  } else {\n    weaponStats = {};\n  }\n\n  // Merges weaponStats and innateStats into a new baseStats object\n  let baseStats = { ...weaponStats };\n  Object.entries(characterStats).forEach(([stat, value]) => {\n    if (baseStats[stat] === undefined) {\n      baseStats[stat] = value;\n    } else {\n      baseStats[stat] += value;\n    }\n  });\n\n  return baseStats;\n}\n\n// Returns object containing the total stats of the character, weapon and artifacts\n// Ignores any of [character, weapon] that are undefined\nexport function getTotalStatsAt(\n  character: Character,\n  weapon: Weapon,\n  artifactSetBonuses: Stats,\n  artifacts: Artifact[],\n  talentAttackLevel: number,\n  talentSkillLevel: number,\n  talentBurstLevel: number,\n  statMixins: StatMixin[]\n) {\n  let baseStats = getBaseStatsAt(character, weapon);\n  let combinedStats = { ...baseStats };\n\n  // Merge artifact bonuses into separate object\n  let artifactStats: Stats = {};\n  artifacts.forEach((artifact) => {\n    Object.entries(artifact.getStats()).forEach(([stat, value]) => {\n      if (artifactStats[stat] === undefined) {\n        artifactStats[stat] = value;\n      } else {\n        artifactStats[stat] += value;\n      }\n    });\n  });\n\n  // Merge base stats and artifact bonuses\n  Object.entries(artifactStats).forEach(([stat, value]) => {\n    if (combinedStats[stat] === undefined) {\n      combinedStats[stat] = value;\n    } else {\n      combinedStats[stat] += value;\n    }\n  });\n\n  // Merge base stats and artifact set bonuses\n  if (artifactSetBonuses !== undefined) {\n    Object.entries(artifactSetBonuses).forEach(([stat, value]) => {\n      if (combinedStats[stat] === undefined) {\n        combinedStats[stat] = value;\n      } else {\n        combinedStats[stat] += value;\n      }\n    });\n  }\n\n  // Add base 100% energy recharge\n  combinedStats.energyRecharge = 1 + (combinedStats.energyRecharge ?? 0);\n\n  // Apply stat mixins\n  statMixins.forEach((mixin) =>\n    mixin(\n      combinedStats,\n      talentAttackLevel,\n      talentSkillLevel,\n      talentBurstLevel,\n      getAscensionLevel(character.level, character.hasAscended)\n    )\n  );\n\n  // Calculate total stats\n  let totalStats: Stats = {};\n\n  totalStats.baseAtk = combinedStats.baseAtk ?? 0;\n\n  totalStats.flatAtk =\n    (combinedStats.baseAtk ?? 0) * (1 + (combinedStats.atkBonus ?? 0)) +\n    (combinedStats.flatAtk ?? 0);\n  totalStats.flatDef =\n    (combinedStats.baseDef ?? 0) * (1 + (combinedStats.defBonus ?? 0)) +\n    (combinedStats.flatDef ?? 0);\n  totalStats.flatHp =\n    (combinedStats.baseHp ?? 0) * (1 + (combinedStats.hpBonus ?? 0)) +\n    (combinedStats.flatHp ?? 0);\n  totalStats.critRate = combinedStats.critRate ?? 0;\n  totalStats.critDmg = combinedStats.critDmg ?? 0;\n  totalStats.elementalMastery = combinedStats.elementalMastery ?? 0;\n  totalStats.energyRecharge = combinedStats.energyRecharge ?? 0;\n\n  if (combinedStats.anemoDmgBonus !== undefined) {\n    totalStats.anemoDmgBonus = combinedStats.anemoDmgBonus;\n  }\n  if (combinedStats.cryoDmgBonus !== undefined) {\n    totalStats.cryoDmgBonus = combinedStats.cryoDmgBonus;\n  }\n  if (combinedStats.electroDmgBonus !== undefined) {\n    totalStats.electroDmgBonus = combinedStats.electroDmgBonus;\n  }\n  if (combinedStats.geoDmgBonus !== undefined) {\n    totalStats.geoDmgBonus = combinedStats.geoDmgBonus;\n  }\n  if (combinedStats.hydroDmgBonus !== undefined) {\n    totalStats.hydroDmgBonus = combinedStats.hydroDmgBonus;\n  }\n  if (combinedStats.pyroDmgBonus !== undefined) {\n    totalStats.pyroDmgBonus = combinedStats.pyroDmgBonus;\n  }\n  if (combinedStats.physicalDmgBonus !== undefined) {\n    totalStats.physicalDmgBonus = combinedStats.physicalDmgBonus;\n  }\n\n  if (combinedStats.anemoRes !== undefined) {\n    totalStats.anemoRes = combinedStats.anemoRes;\n  }\n  if (combinedStats.cryoRes !== undefined) {\n    totalStats.cryoRes = combinedStats.cryoRes;\n  }\n  if (combinedStats.electroRes !== undefined) {\n    totalStats.electroRes = combinedStats.electroRes;\n  }\n  if (combinedStats.geoRes !== undefined) {\n    totalStats.geoRes = combinedStats.geoRes;\n  }\n  if (combinedStats.hydroRes !== undefined) {\n    totalStats.hydroRes = combinedStats.hydroRes;\n  }\n  if (combinedStats.pyroRes !== undefined) {\n    totalStats.pyroRes = combinedStats.pyroRes;\n  }\n  if (combinedStats.physicalRes !== undefined) {\n    totalStats.physicalRes = combinedStats.physicalRes;\n  }\n\n  if (combinedStats.healingBonus !== undefined) {\n    totalStats.healingBonus = combinedStats.healingBonus;\n  }\n\n  if (combinedStats.shieldStrength !== undefined) {\n    totalStats.shieldStrength = combinedStats.shieldStrength;\n  }\n  if (combinedStats.dmgBonus !== undefined) {\n    totalStats.dmgBonus = combinedStats.dmgBonus;\n  }\n  if (combinedStats.normalDmgBonus !== undefined) {\n    totalStats.normalDmgBonus = combinedStats.normalDmgBonus;\n  }\n  if (combinedStats.chargedDmgBonus !== undefined) {\n    totalStats.chargedDmgBonus = combinedStats.chargedDmgBonus;\n  }\n  if (combinedStats.plungeDmgBonus !== undefined) {\n    totalStats.plungeDmgBonus = combinedStats.plungeDmgBonus;\n  }\n  if (combinedStats.skillDmgBonus !== undefined) {\n    totalStats.skillDmgBonus = combinedStats.skillDmgBonus;\n  }\n  if (combinedStats.burstDmgBonus !== undefined) {\n    totalStats.burstDmgBonus = combinedStats.burstDmgBonus;\n  }\n  if (combinedStats.chargedCritRate !== undefined) {\n    totalStats.chargedCritRate = combinedStats.chargedCritRate;\n  }\n\n  return totalStats;\n}\n\nexport function capitalize(str: string) {\n  if (str.length > 0) {\n    return str[0].toUpperCase().concat(str.slice(1));\n  } else {\n    return str;\n  }\n}\n","import type { Stat } from '../../data/types';\nimport { propMapping } from '../Data';\nimport { ArtifactSetOption } from '../option/artifactSetOptions';\nimport { ModifierMixin, StatMixin } from '../option/Mixin';\nimport { convertStatValue } from '../Stat';\n\nexport class InputStat implements Stat {\n  stat: string;\n  value: number;\n  rawValue: number;\n\n  constructor(stat: string = '', value: number = NaN, rawValue: number = NaN) {\n    this.stat = stat;\n    this.value = value;\n    this.rawValue = rawValue;\n  }\n\n  setProp(stat: string) {\n    this.stat = stat;\n    if (stat !== '') {\n      this.value = convertStatValue(\n        this.rawValue,\n        propMapping[stat].isPercentage\n      );\n    }\n  }\n\n  setValue(value: number) {\n    this.rawValue = value;\n    if (this.stat !== '') {\n      this.value = convertStatValue(value, propMapping[this.stat].isPercentage);\n    }\n  }\n}\n\nexport enum ArtifactType {\n  Flower = 'flower',\n  Feather = 'feather',\n  Sands = 'sands',\n  Goblet = 'goblet',\n  Circlet = 'circlet',\n}\n\nexport type ArtifactSetBonusFunction = (params: number[]) => Stat[];\n\nexport interface ArtifactSetBonus {\n  options: typeof ArtifactSetOption[];\n  extraStatsFn?: ArtifactSetBonusFunction;\n  statMixin?: StatMixin;\n  modifierMixin?: ModifierMixin;\n}\n","import { Stats } from '../../data/types';\nimport { ArtifactType, InputStat } from './types';\n\nexport default class Artifact {\n  type: ArtifactType;\n\n  mainStat: InputStat = new InputStat();\n\n  subStats: InputStat[] = [\n    new InputStat(),\n    new InputStat(),\n    new InputStat(),\n    new InputStat(),\n  ];\n\n  constructor(type: ArtifactType) {\n    this.type = type;\n  }\n\n  setMainStatProp(prop: string) {\n    this.mainStat.setProp(prop);\n  }\n\n  setMainStatValue(value: number) {\n    this.mainStat.setValue(value);\n  }\n\n  setSubStatProp(i: number, prop: string) {\n    this.subStats[i].setProp(prop);\n  }\n\n  setSubStatValue(i: number, value: number) {\n    this.subStats[i].setValue(value);\n  }\n\n  /*\n  // Can be called with one of the two of stat and value (the other will be undefined)\n  setStat(\n    statObj: InputStat,\n    stat?: string,\n    value?: number,\n    isPercentage = false\n  ) {\n    if (stat === undefined && value !== undefined) {\n      statObj.rawValue = value;\n      statObj.value = statUtils.convertStatValue(value, isPercentage);\n    } else if (stat !== undefined && value === undefined) {\n      statObj.stat = stat;\n      statObj.value = statUtils.convertStatValue(\n        statObj.rawValue,\n        isPercentage\n      );\n    } else if (stat !== undefined && value !== undefined) {\n      statObj.stat = stat;\n      statObj.rawValue = value;\n      statObj.value = statUtils.convertStatValue(value, isPercentage);\n    }\n  }\n\n  setMainStat(stat, value, isPercentage = false) {\n      this.setStat(this.mainStat, stat, value, isPercentage);\n  }\n\n  // Set substat in a spefiic position\n  setSubStat(pos, stat, value, isPercentage = false) {\n      this.setStat(this.subStats[pos], stat, value, isPercentage);\n  }\n  */\n\n  // Returns object containing stat: value mapping, including both main stat and substats\n  getStats() {\n    let stats: Stats = {};\n\n    if (this.mainStat.stat !== '') {\n      if (!isNaN(this.mainStat.value)) {\n        stats[this.mainStat.stat] = this.mainStat.value;\n      } else {\n        stats[this.mainStat.stat] = NaN;\n      }\n    }\n\n    this.subStats.forEach((subStat) => {\n      if (subStat.stat !== '') {\n        if (!isNaN(subStat.value)) {\n          stats[subStat.stat] = subStat.value;\n        } else {\n          stats[subStat.stat] = NaN;\n        }\n      }\n    });\n\n    return stats;\n  }\n}\n\nexport const mainStatProps = {\n  flower: ['flatHp'],\n\n  feather: ['flatAtk'],\n\n  sands: [\n    'hpBonus',\n    'atkBonus',\n    'defBonus',\n    'elementalMastery',\n    'energyRecharge',\n  ],\n\n  goblet: [\n    'hpBonus',\n    'atkBonus',\n    'defBonus',\n    'elementalMastery',\n    'anemoDmgBonus',\n    'cryoDmgBonus',\n    'electroDmgBonus',\n    'geoDmgBonus',\n    'hydroDmgBonus',\n    'pyroDmgBonus',\n    'physicalDmgBonus',\n  ],\n\n  circlet: [\n    'hpBonus',\n    'atkBonus',\n    'defBonus',\n    'elementalMastery',\n    'critRate',\n    'critDmg',\n    'healingBonus',\n  ],\n};\n\nexport const subStatProps = [\n  'flatHp',\n  'flatAtk',\n  'flatDef',\n  'hpBonus',\n  'atkBonus',\n  'defBonus',\n  'elementalMastery',\n  'energyRecharge',\n  'critRate',\n  'critDmg',\n];\n","import React from 'react';\n\ntype NumberInputProps = {\n  id: string;\n  label: string;\n  defaultValue: number;\n  value?: number;\n  onInput?: (value: number) => void;\n  isLabelShown?: boolean;\n  className?: string;\n};\n\ntype NumberInputState = {\n  value: number;\n};\n\nclass NumberInput extends React.Component<NumberInputProps, NumberInputState> {\n  // Boilerplate for making this an optionally controllable component\n  // https://medium.com/quick-code/writing-ui-components-with-optionally-controllable-state-86e396a6f1ec\n  state: NumberInputState = {\n    value: this.props.defaultValue,\n  };\n\n  isControlled = () => this.props.value !== undefined;\n\n  isLabelShown = () => this.props.isLabelShown ?? true;\n\n  onChangeDefault = (e: React.FormEvent<HTMLInputElement>) => {\n    const value = parseInt(e.currentTarget.value);\n    this.setState({ value });\n  };\n\n  parseInput = (value: string) => {\n    return Number(value);\n  };\n\n  handleInput = (e: React.FormEvent<HTMLInputElement>) => {\n    const value = this.parseInput(e.currentTarget.value);\n\n    if (this.isControlled()) {\n      if (this.props.onInput !== undefined) {\n        this.props.onInput(value);\n      }\n    } else {\n      this.setState({ value }, () => {\n        // Callback fn\n        if (this.props.onInput) this.props.onInput(value);\n      });\n    }\n  };\n\n  render() {\n    // this.props.value is always defined when the component is controlled\n    const value = this.isControlled() ? this.props.value! : this.state.value;\n    const displayString = isNaN(value) ? '' : value.toString();\n\n    return (\n      <>\n        <label\n          htmlFor={this.props.id}\n          className={this.isLabelShown() ? '' : 'hidden'}\n        >\n          {this.props.label}\n        </label>\n        <input\n          type='number'\n          value={displayString}\n          onInput={this.handleInput}\n          className={this.props.className}\n          id={this.props.id}\n        />\n      </>\n    );\n  }\n}\n\nexport default NumberInput;\n","import NumberInput from './NumberInput';\n\nclass FloatInput extends NumberInput {\n  override parseInput = (value: string) => {\n    return parseFloat(value);\n  };\n}\n\nexport default FloatInput;\n","import React from 'react';\n\nclass InputRow extends React.Component {\n  render() {\n    return <div className='input-row'>{this.props.children}</div>;\n  }\n}\n\nexport default InputRow;\n","import React from 'react';\n\ntype PickerProps = {\n  id: string;\n  label: string;\n  defaultValue: string;\n  value?: string;\n  onChange?: (value: string) => void;\n  isLabelShown?: boolean;\n  className?: string;\n};\n\ntype PickerState = {\n  value: string;\n};\n\ntype PickerItemProps = {\n  label: string;\n  value: string;\n};\n\nclass Picker extends React.Component<PickerProps, PickerState> {\n  // Boilerplate for making this an optionally controllable component\n  // https://medium.com/quick-code/writing-ui-components-with-optionally-controllable-state-86e396a6f1ec\n  state: PickerState = {\n    value: this.props.defaultValue,\n  };\n\n  isControlled = () => this.props.value !== undefined;\n\n  isLabelShown = () => this.props.isLabelShown ?? true;\n\n  onChangeDefault = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const selectedValue = e.target.value;\n    this.setState({ value: selectedValue });\n  };\n\n  handleChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const selectedValue = e.target.value;\n\n    if (this.isControlled()) {\n      if (this.props.onChange !== undefined) {\n        this.props.onChange(selectedValue);\n      }\n    } else {\n      this.setState({ value: selectedValue }, () => {\n        // Callback fn\n        if (this.props.onChange) this.props.onChange(selectedValue);\n      });\n    }\n  };\n\n  render() {\n    const selectedValue = this.isControlled()\n      ? this.props.value\n      : this.state.value;\n\n    return (\n      <>\n        <label\n          htmlFor={this.props.id}\n          className={this.isLabelShown() ? '' : 'hidden'}\n        >\n          {this.props.label}\n        </label>\n        <select\n          value={selectedValue}\n          onChange={this.handleChange}\n          className={this.props.className}\n          id={this.props.id}\n        >\n          {this.props.children}\n        </select>\n      </>\n    );\n  }\n\n  static Item = class Item extends React.Component<PickerItemProps> {\n    render() {\n      return <option value={this.props.value}>{this.props.label}</option>;\n    }\n  };\n}\n\nexport default Picker;\n","enum CritType {\n  None = 'none',\n  Crit = 'crit',\n  Average = 'average',\n}\n\nexport default CritType;\n","import React from 'react';\nimport Artifact, { mainStatProps, subStatProps } from '../js/artifact/Artifact';\nimport { propMapping } from '../js/Data';\nimport { capitalize } from '../js/Stat';\nimport FloatInput from './FloatInput';\nimport InputRow from './InputRow';\nimport Picker from './Picker';\n\ntype ArtifactBlockProps = {\n  artifact: Artifact;\n  updateArtifactState: () => void;\n};\n\nclass ArtifactBlock extends React.Component<ArtifactBlockProps> {\n  setArtifactMainStatProp = (prop: string) => {\n    this.props.artifact.setMainStatProp(prop);\n    this.props.updateArtifactState();\n  };\n\n  setArtifactMainStatValue = (value: number) => {\n    this.props.artifact.setMainStatValue(value);\n    this.props.updateArtifactState();\n  };\n\n  setArtifactSubStatProp = (i: number) => (prop: string) => {\n    this.props.artifact.setSubStatProp(i, prop);\n    this.props.updateArtifactState();\n  };\n\n  setArtifactSubStatValue = (i: number) => (value: number) => {\n    this.props.artifact.setSubStatValue(i, value);\n    this.props.updateArtifactState();\n  };\n\n  render() {\n    const { artifact } = this.props;\n\n    return (\n      <div className='sub-block'>\n        <h3>{capitalize(artifact.type)}</h3>\n\n        <p>Main Stat</p>\n        <InputRow>\n          <Picker\n            id={`artifact-${artifact.type}-main-stat`}\n            label=''\n            defaultValue=''\n            value={artifact.mainStat.stat}\n            onChange={this.setArtifactMainStatProp}\n            isLabelShown={false}\n          >\n            <Picker.Item label='' value='' />\n            {mainStatProps[artifact.type].map((prop) => (\n              <Picker.Item\n                label={propMapping[prop].name}\n                value={prop}\n                key={prop}\n              />\n            ))}\n          </Picker>\n\n          <p>:</p>\n\n          <FloatInput\n            id={`artifact-${artifact.type}-main-stat-value`}\n            label=''\n            defaultValue={NaN}\n            value={artifact.mainStat.rawValue}\n            onInput={this.setArtifactMainStatValue}\n            isLabelShown={false}\n            className='stat-input'\n          />\n        </InputRow>\n\n        <p>Substats</p>\n        {artifact.subStats.map((statObj, i) => (\n          <InputRow key={i}>\n            <Picker\n              id={`artifact-${artifact.type}-sub-stat-${i}`}\n              label=''\n              defaultValue=''\n              value={statObj.stat}\n              onChange={this.setArtifactSubStatProp(i)}\n              isLabelShown={false}\n            >\n              <Picker.Item label='' value='' />\n              {subStatProps.map((prop) => (\n                <Picker.Item\n                  label={propMapping[prop].name}\n                  value={prop}\n                  key={prop}\n                />\n              ))}\n            </Picker>\n\n            <p>:</p>\n\n            <FloatInput\n              id={`artifact-${artifact.type}-sub-stat-${i}-value`}\n              label=''\n              defaultValue={NaN}\n              value={statObj.rawValue}\n              onInput={this.setArtifactSubStatValue(i)}\n              isLabelShown={false}\n              className='stat-input'\n            />\n          </InputRow>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default ArtifactBlock;\n","import React from 'react';\n\ntype ColumnProps = {\n  className?: string;\n};\n\nclass Column extends React.Component<ColumnProps> {\n  render() {\n    return (\n      <div className={`column ${this.props.className ?? ''}`}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default Column;\n","import React from 'react';\nimport { AppState } from '../App';\nimport Artifact from '../js/artifact/Artifact';\nimport ArtifactBlock from './ArtifactBlock';\nimport Column from './Column';\n\ntype ArtifactColumnProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateTotalStats: ({ artifacts }: { artifacts?: Artifact[] }) => void;\n};\n\nclass ArtifactColumn extends React.Component<ArtifactColumnProps> {\n  updateArtifactState = () => {\n    const artifacts = [...this.props.appState.artifacts];\n    this.props.updateTotalStats({ artifacts });\n    this.props.setAppState({ artifacts });\n  };\n\n  render() {\n    const appState = this.props.appState;\n\n    return (\n      <Column className='input-column'>\n        <h2>Artifacts</h2>\n        {appState.artifacts.map((artifact) => (\n          <ArtifactBlock\n            artifact={artifact}\n            updateArtifactState={this.updateArtifactState}\n            key={artifact.type}\n          />\n        ))}\n      </Column>\n    );\n  }\n}\n\nexport default ArtifactColumn;\n","import React from 'react';\nimport Picker from './Picker';\n\nimport * as data from '../js/Data';\n\ntype ArtifactSetPickerProps = {\n  index: number;\n  artifactSetId: string;\n  setArtifactSetId: (id: string) => void;\n};\n\nclass ArtifactSetPicker extends React.Component<ArtifactSetPickerProps> {\n  onChange = (value: string) => {\n    this.props.setArtifactSetId(value);\n  };\n\n  render() {\n    return (\n      <Picker\n        id={`artifact-set-${this.props.index}`}\n        label=''\n        defaultValue=''\n        value={this.props.artifactSetId}\n        onChange={this.onChange}\n        isLabelShown={false}\n      >\n        <Picker.Item label='' value='' />\n        {data.getSortedArtifactSetList().map((artifactSetId) => (\n          <Picker.Item\n            label={data.getArtifactSetData(artifactSetId).name}\n            value={artifactSetId}\n            key={artifactSetId}\n          />\n        ))}\n      </Picker>\n    );\n  }\n}\n\nexport default ArtifactSetPicker;\n","import NumberInput from './NumberInput';\n\nclass IntInput extends NumberInput {\n  override parseInput = (value: string) => {\n    return parseInt(value);\n  };\n}\n\nexport default IntInput;\n","import React from 'react';\n\ntype CheckboxProps = {\n  id: string;\n  label: string;\n  defaultValue: boolean;\n  value?: boolean;\n  onChange?: (value: boolean) => void;\n  isLabelShown?: boolean;\n  className?: string;\n};\n\ntype CheckboxState = {\n  value: boolean;\n};\n\nclass Checkbox extends React.Component<CheckboxProps, CheckboxState> {\n  // Boilerplate for making this an optionally controllable component\n  // https://medium.com/quick-code/writing-ui-components-with-optionally-controllable-state-86e396a6f1ec\n  state: CheckboxState = {\n    value: this.props.defaultValue,\n  };\n\n  isControlled = () => this.props.value !== undefined;\n\n  isLabelShown = () => this.props.isLabelShown ?? true;\n\n  onChangeDefault = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.checked;\n    this.setState({ value });\n  };\n\n  handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.checked;\n\n    if (this.isControlled()) {\n      if (this.props.onChange !== undefined) {\n        this.props.onChange(value);\n      }\n    } else {\n      this.setState({ value }, () => {\n        // Callback fn\n        if (this.props.onChange) this.props.onChange(value);\n      });\n    }\n  };\n\n  render() {\n    const value = this.isControlled() ? this.props.value : this.state.value;\n    return (\n      <>\n        <label\n          htmlFor={this.props.id}\n          className={this.isLabelShown() ? '' : 'hidden'}\n        >\n          {this.props.label}\n        </label>\n        <input\n          type='checkbox'\n          checked={value}\n          onChange={this.handleChange}\n          className={this.props.className}\n          id={this.props.id}\n        />\n      </>\n    );\n  }\n}\n\nexport default Checkbox;\n","import React from 'react';\nimport Option, {\n  isBooleanOption,\n  isPickerOption,\n  isNumberOption,\n} from '../js/option';\nimport {\n  IOptionBoolean,\n  IOptionNumber,\n  IOptionPicker,\n} from '../js/option/Option';\nimport { capitalize, getOptionName } from '../js/Stat';\nimport Checkbox from './Checkbox';\nimport IntInput from './IntInput';\nimport Picker from './Picker';\n\ntype OptionInputProps = {\n  option: Option;\n  updateOptions: () => void;\n};\n\nclass OptionInput extends React.Component<OptionInputProps> {\n  handleBooleanChange = (option: IOptionBoolean) => (value: boolean) => {\n    option.value = value;\n    this.props.updateOptions();\n  };\n\n  handlePickerChange = (option: IOptionPicker) => (value: string) => {\n    option.value = value;\n    this.props.updateOptions();\n  };\n\n  handleNumberChange = (option: IOptionNumber) => (value: number) => {\n    option.value = value;\n    this.props.updateOptions();\n  };\n\n  render() {\n    const { option } = this.props;\n\n    if (isBooleanOption(option)) {\n      return (\n        <Checkbox\n          id={`${option.id}-input`}\n          label={getOptionName(option.id)}\n          defaultValue={option.value}\n          value={option.value}\n          onChange={this.handleBooleanChange(option)}\n        />\n      );\n    } else if (isPickerOption(option)) {\n      return (\n        <Picker\n          id={`${option.id}-input`}\n          label={getOptionName(option.id)}\n          defaultValue={option.value}\n          value={option.value}\n          onChange={this.handlePickerChange(option)}\n        >\n          <Picker.Item label='' value='' />\n          {option.choices.map((choice) => (\n            <Picker.Item\n              label={capitalize(choice)}\n              value={choice}\n              key={choice}\n            />\n          ))}\n        </Picker>\n      );\n    } else if (isNumberOption(option)) {\n      return (\n        <IntInput\n          id={`${option.id}-input`}\n          label={getOptionName(option.id)}\n          defaultValue={option.value}\n          value={option.value}\n          onInput={this.handleNumberChange(option)}\n          className='level-input'\n        />\n      );\n    }\n  }\n}\n\nexport default OptionInput;\n","import React from 'react';\nimport { AppState } from '../App';\nimport ArtifactSet from '../js/artifact/ArtifactSet';\nimport { ArtifactSetOption } from '../js/option/artifactSetOptions';\nimport ArtifactSetPicker from './ArtifactSetPicker';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\nimport OptionInput from './OptionInput';\n\ntype ArtifactSetInputBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateArtifactSetBonuses: ({\n    artifactSets,\n    artifactSetOptions,\n  }: {\n    artifactSets?: ArtifactSet[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => void;\n};\n\nclass ArtifactSetInputBlock extends React.Component<ArtifactSetInputBlockProps> {\n  setArtifactSetId = (i: number) => (id: string) => {\n    const { artifactSets } = this.props.appState;\n    artifactSets[i].id = id;\n    const artifactSetOptions = artifactSets.flatMap(\n      (artifactSet) => artifactSet.options\n    );\n    this.props.updateArtifactSetBonuses({\n      artifactSets,\n    });\n    this.props.setAppState({\n      artifactSets: [...artifactSets],\n      artifactSetOptions,\n    });\n  };\n\n  setArtifactSetPieces = (i: number) => (pieces: number) => {\n    const { artifactSets } = this.props.appState;\n    artifactSets[i].pieces = pieces;\n    const artifactSetOptions = artifactSets.flatMap(\n      (artifactSet) => artifactSet.options\n    );\n    this.props.updateArtifactSetBonuses({\n      artifactSets,\n      artifactSetOptions,\n    });\n    this.props.setAppState({\n      artifactSets: [...artifactSets],\n      artifactSetOptions,\n    });\n  };\n\n  updateOptions = () => {\n    const { artifactSetOptions } = this.props.appState;\n    this.props.updateArtifactSetBonuses({ artifactSetOptions });\n    this.props.setAppState({ artifactSetOptions: [...artifactSetOptions] });\n  };\n\n  render() {\n    const { artifactSets, artifactSetOptions } = this.props.appState;\n\n    return (\n      <div className='input-block'>\n        <InputRow>\n          <p>Artifact Sets</p>\n        </InputRow>\n        {[0, 1, 2].map((i) => (\n          <InputRow key={i}>\n            <ArtifactSetPicker\n              index={i}\n              artifactSetId={artifactSets[i].id}\n              setArtifactSetId={this.setArtifactSetId(i)}\n            />\n\n            <p>:</p>\n\n            <IntInput\n              id={`artifact-set-${i}-pcs`}\n              label=''\n              defaultValue={NaN}\n              value={artifactSets[i].pieces}\n              onInput={this.setArtifactSetPieces(i)}\n              isLabelShown={false}\n              className='level-input'\n            />\n\n            <p>pc</p>\n          </InputRow>\n        ))}\n\n        {artifactSetOptions.map((option) => (\n          <InputRow key={option.id}>\n            <OptionInput option={option} updateOptions={this.updateOptions} />\n          </InputRow>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default ArtifactSetInputBlock;\n","import React from 'react';\nimport Picker from './Picker';\n\nimport * as data from '../js/Data';\n\ntype CharacterPickerProps = {\n  characterId: string;\n  setCharacterId: (id: string) => void;\n};\n\nclass CharacterPicker extends React.Component<CharacterPickerProps> {\n  onChange = (value: string) => {\n    this.props.setCharacterId(value);\n  };\n\n  render() {\n    return (\n      <Picker\n        id='character-picker'\n        label='Character:'\n        defaultValue=''\n        value={this.props.characterId}\n        onChange={this.onChange}\n      >\n        <Picker.Item label='' value='' />\n        {data.getSortedCharacterList().map((id) => (\n          <Picker.Item\n            label={data.getCharacterData(id).name}\n            value={id}\n            key={id}\n          />\n        ))}\n      </Picker>\n    );\n  }\n}\n\nexport default CharacterPicker;\n","import React from 'react';\nimport { AppState } from '../App';\nimport Character from '../js/character/Character';\nimport { CharacterOption } from '../js/option/characterOptions';\nimport CharacterPicker from './CharacterPicker';\nimport Checkbox from './Checkbox';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\nimport OptionInput from './OptionInput';\n\ntype CharacterInputBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateTotalStats: ({\n    character,\n    characterOptions,\n  }: {\n    character?: Character;\n    characterOptions?: CharacterOption[];\n  }) => void;\n};\n\nclass CharacterInputBlock extends React.Component<CharacterInputBlockProps> {\n  setCharacterId = (id: string) => {\n    const character = this.props.appState.character;\n    character.id = id;\n    const characterOptions = character.getOptions();\n    this.props.updateTotalStats({ character, characterOptions });\n    this.props.setAppState({ character, characterOptions });\n  };\n\n  setCharacterLevel = (level: number) => {\n    const character = this.props.appState.character;\n    character.level = level;\n    const characterOptions = character.getOptions();\n    this.props.updateTotalStats({ character, characterOptions });\n    this.props.setAppState({ character, characterOptions });\n  };\n\n  setIsCharacterAscended = (isAscended: boolean) => {\n    const character = this.props.appState.character;\n    character.hasAscended = isAscended;\n    const characterOptions = character.getOptions();\n    this.props.updateTotalStats({ character, characterOptions });\n    this.props.setAppState({ character, characterOptions });\n  };\n\n  updateOptions = () => {\n    const { characterOptions } = this.props.appState;\n    this.props.updateTotalStats({ characterOptions });\n    this.props.setAppState({ characterOptions: [...characterOptions] });\n  };\n\n  render() {\n    const { appState } = this.props;\n\n    return (\n      <div className='input-block'>\n        <InputRow>\n          <CharacterPicker\n            characterId={appState.character.id}\n            setCharacterId={this.setCharacterId}\n          />\n        </InputRow>\n\n        <InputRow>\n          <IntInput\n            id='character-level-input'\n            label='Level:'\n            defaultValue={1}\n            value={appState.character.level}\n            onInput={this.setCharacterLevel}\n            className='level-input'\n          />\n        </InputRow>\n\n        <InputRow>\n          <Checkbox\n            id='character-ascension-checkbox'\n            label='Ascended?'\n            defaultValue={false}\n            value={appState.character.hasAscended}\n            onChange={this.setIsCharacterAscended}\n          />\n        </InputRow>\n\n        {appState.characterOptions.map((option) => {\n          return (\n            <InputRow key={option.id}>\n              <OptionInput option={option} updateOptions={this.updateOptions} />\n            </InputRow>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default CharacterInputBlock;\n","import React from 'react';\nimport { ToggleButton, ToggleButtonGroup } from 'react-bootstrap';\nimport { AppState } from '../App';\nimport CritType from '../js/modifier/CritType';\nimport Resistance from '../js/Resistance';\nimport { capitalize } from '../js/Stat';\nimport { Element } from '../js/talent/types';\nimport FloatInput from './FloatInput';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\n\ntype ModifierInputBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateTalentValues: ({\n    enemyLevel,\n    enemyRes,\n    critType,\n  }: {\n    enemyLevel?: number;\n    enemyRes?: Resistance;\n    critType?: CritType;\n  }) => void;\n};\n\nclass ModifierInputBlock extends React.Component<ModifierInputBlockProps> {\n  setEnemyLevel = (level: number) => {\n    this.props.updateTalentValues({ enemyLevel: level });\n    this.props.setAppState({ enemyLevel: level });\n  };\n\n  setEnemyRes = (type: Element) => (value: number) => {\n    const enemyRes = this.props.appState.enemyRes;\n    enemyRes.set(type, value / 100);\n    this.props.updateTalentValues({ enemyRes });\n    this.props.setAppState({ enemyRes });\n  };\n\n  setCritType = (critType: CritType) => {\n    this.props.updateTalentValues({ critType });\n    this.props.setAppState({ critType });\n  };\n\n  render() {\n    const { enemyLevel, enemyRes, critType } = this.props.appState;\n    return (\n      <div className='input-block'>\n        <InputRow>\n          Crit:\n          <ToggleButtonGroup\n            name='crit-type-input'\n            type='radio'\n            size='sm'\n            value={critType}\n            onChange={this.setCritType}\n          >\n            <ToggleButton value='none' variant='outline-secondary'>\n              None\n            </ToggleButton>\n            <ToggleButton value='crit' variant='outline-secondary'>\n              Crit\n            </ToggleButton>\n            <ToggleButton value='average' variant='outline-secondary'>\n              Average\n            </ToggleButton>\n          </ToggleButtonGroup>\n        </InputRow>\n\n        <InputRow>\n          <IntInput\n            id='enemy-level-input'\n            label='Enemy Level:'\n            defaultValue={1}\n            value={enemyLevel}\n            onInput={this.setEnemyLevel}\n            className='level-input'\n          />\n        </InputRow>\n\n        {Object.values(Element).map((element) => (\n          <InputRow key={element}>\n            <FloatInput\n              id={`enemy-res-${element}-input`}\n              label={`Enemy ${capitalize(element)} RES:`}\n              defaultValue={0}\n              value={enemyRes.get(element) * 100}\n              onInput={this.setEnemyRes(element)}\n              className='level-input'\n            />\n            <p>%</p>\n          </InputRow>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default ModifierInputBlock;\n","import { Stats } from '../../data/types';\nimport { getArtifactSetBonusParams } from '../Data';\nimport archaicPetraOptions from '../option/artifactSetOptions/ArchaicPetraOption';\nimport berserkerOptions from '../option/artifactSetOptions/BerserkerOption';\nimport blizzardStrayerOptions from '../option/artifactSetOptions/BlizzardStrayerOption';\nimport bloodstainedChivalryOptions from '../option/artifactSetOptions/BloodstainedChivalryOption';\nimport braveHeartOptions from '../option/artifactSetOptions/BraveHeartOption';\nimport crimsonWitchOptions from '../option/artifactSetOptions/CrimsonWitchOption';\nimport heartOfDepthOptions from '../option/artifactSetOptions/HeartOfDepthOption';\nimport instructorOptions from '../option/artifactSetOptions/InstructorOption';\nimport lavawalkerOptions from '../option/artifactSetOptions/LavawalkerOption';\nimport maidenBelovedOptions from '../option/artifactSetOptions/MaidenBelovedOption';\nimport martialArtistOptions from '../option/artifactSetOptions/MartialArtistOption';\nimport noblesseObligeOptions from '../option/artifactSetOptions/NoblesseObligeOption';\nimport paleFlameOptions from '../option/artifactSetOptions/PaleFlameOption';\nimport retracingBolideOptions from '../option/artifactSetOptions/RetracingBolideOption';\nimport shimenawaOptions from '../option/artifactSetOptions/ShimenawaOption';\nimport tenacityOptions from '../option/artifactSetOptions/TenacityOption';\nimport thundersootherOptions from '../option/artifactSetOptions/ThundersootherOption';\nimport viridescentVenererOptions from '../option/artifactSetOptions/ViridescentVenererOption';\nimport { ArtifactSetBonus } from './types';\n\n// Placeholder function\nconst defaultSetBonus: ArtifactSetBonus = { options: [] };\n\nconst Relic_ExtraAtkCritUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    return [\n      {\n        stat: 'chargedCritRate',\n        value: params[0],\n      },\n    ];\n  },\n};\n\nconst Relic_AllElemResistUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    const elements = ['anemo', 'cryo', 'electro', 'geo', 'hydro', 'pyro'];\n    return elements.map((element) => {\n      return {\n        stat: `${element}Res`,\n        value: params[0],\n      };\n    });\n  },\n};\n\nconst Relic_AtkAndExtraAtkUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    return [\n      {\n        stat: 'normalDmgBonus',\n        value: params[0],\n      },\n      {\n        stat: 'chargedDmgBonus',\n        value: params[0],\n      },\n    ];\n  },\n};\n\nconst Relic_SkillDamageUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    return [\n      {\n        stat: 'skillDmgBonus',\n        value: params[0],\n      },\n    ];\n  },\n};\n\nconst Relic_MeleeAttackUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    // Only for sword, polearm, claymore characters\n    // Did not make this an Option because this would likely not want to be disabled\n    // Calculation will be wrong if used on a catalyst, bow character\n    // Checking for that would require character weapon type to be implemented first\n    return [\n      {\n        stat: 'normalDmgBonus',\n        value: params[0],\n      },\n    ];\n  },\n};\n\n// Swirl Dmg up not yet implemented. Medium priority.\n// Requires reaction dmg to be implemented first.\n// Elemental Res shred implemented through Options\nconst Relic_ReactionWindEnhance: ArtifactSetBonus = {\n  options: viridescentVenererOptions,\n};\n\nconst Relci_RangerAttackUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    // Typo is present in the game data\n    // Only for catalyst, bow characters\n    // See Relic_MeleeAttackUp for more details\n    return [\n      {\n        stat: 'chargedDmgBonus',\n        value: params[0],\n      },\n    ];\n  },\n};\n\n// Reaction Dmg Up not yet implemented. Medium priority\n// Requires reaction dmg to be implemented first\n// Pyro Dmg Bonus implemented through Options\nconst Relic_ReactionFireEnhance: ArtifactSetBonus = {\n  options: crimsonWitchOptions,\n};\n\nconst Relic_ElementalBurstUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    return [\n      {\n        stat: 'burstDmgBonus',\n        value: params[0],\n      },\n    ];\n  },\n};\n\nconst Relic_ElementalBurstUpByChargeEfficiency: ArtifactSetBonus = {\n  options: [],\n\n  statMixin: (stats: Stats) => {\n    const params = getArtifactSetBonusParams('emblemofseveredfate', 4);\n    let burstDmgBonus = params[0] * stats.energyRecharge;\n    if (burstDmgBonus > params[1]) {\n      burstDmgBonus = params[1];\n    }\n\n    stats.burstDmgBonus = burstDmgBonus + (stats.burstDmgBonus ?? 0);\n  },\n};\n\nconst Relic_GiantKiller: ArtifactSetBonus = {\n  options: braveHeartOptions,\n};\n\nconst Relic_LowHPGainExtraCritRate: ArtifactSetBonus = {\n  options: berserkerOptions,\n};\n\nconst Relic_SkillEnhanceNormalAtkAndExtraAtk: ArtifactSetBonus = {\n  options: martialArtistOptions,\n};\n\nconst Relic_ReactionGainExtraElemMasteryForTeam: ArtifactSetBonus = {\n  options: instructorOptions,\n};\n\nconst Relic_CriticUpAgainstIceAndFrozen: ArtifactSetBonus = {\n  options: blizzardStrayerOptions,\n};\n\nconst Relic_DamageUpAgainstElectric: ArtifactSetBonus = {\n  options: thundersootherOptions,\n};\n\nconst Relic_DamageUpAgainstFireAndBurning: ArtifactSetBonus = {\n  options: lavawalkerOptions,\n};\n\nconst Relic_SkillEnhanceCured: ArtifactSetBonus = {\n  options: maidenBelovedOptions,\n};\n\nconst Relic_TeamAtkupAfterElementalBurst: ArtifactSetBonus = {\n  options: noblesseObligeOptions,\n};\n\nconst Relic_KillEnhanceExtraAtk: ArtifactSetBonus = {\n  options: bloodstainedChivalryOptions,\n};\n\nconst Relic_ElementDmgUpAfterCrystalShield: ArtifactSetBonus = {\n  options: archaicPetraOptions,\n};\n\nconst Relic_ShieldEnhanceAtk: ArtifactSetBonus = {\n  options: retracingBolideOptions,\n};\n\nconst Relic_WaterSkillEnhanceNormalAtkAndExtraAtk: ArtifactSetBonus = {\n  options: heartOfDepthOptions,\n};\n\nconst Relic_ShieldCostUpWhenElementalArtHit: ArtifactSetBonus = {\n  options: tenacityOptions,\n};\n\nconst Relic_AttackUpWhenNormalAtkAndExtraAtkHit: ArtifactSetBonus = {\n  options: paleFlameOptions,\n};\n\nconst Relic_NormalDamageUpIfCostEnergy: ArtifactSetBonus = {\n  options: shimenawaOptions,\n};\n\nexport const artifactSetBonuses: Record<string, ArtifactSetBonus> = {\n  defaultSetBonus,\n  Relic_ExtraAtkCritUp,\n  Relic_AllElemResistUp,\n  Relic_AtkAndExtraAtkUp,\n  Relic_SkillDamageUp,\n  Relic_MeleeAttackUp,\n  Relci_RangerAttackUp,\n  Relic_ElementalBurstUp,\n  Relic_ElementalBurstUpByChargeEfficiency,\n\n  // Options only\n  Relic_GiantKiller,\n  Relic_LowHPGainExtraCritRate,\n  Relic_SkillEnhanceNormalAtkAndExtraAtk,\n  Relic_ReactionGainExtraElemMasteryForTeam,\n  Relic_CriticUpAgainstIceAndFrozen,\n  Relic_DamageUpAgainstElectric,\n  Relic_DamageUpAgainstFireAndBurning,\n  Relic_SkillEnhanceCured,\n  Relic_TeamAtkupAfterElementalBurst,\n  Relic_KillEnhanceExtraAtk,\n  Relic_ElementDmgUpAfterCrystalShield,\n  Relic_ShieldEnhanceAtk,\n  Relic_WaterSkillEnhanceNormalAtkAndExtraAtk,\n  Relic_ShieldCostUpWhenElementalArtHit,\n  Relic_AttackUpWhenNormalAtkAndExtraAtkHit,\n  Relic_NormalDamageUpIfCostEnergy,\n\n  // Swirl Dmg up not yet implemented. Medium priority.\n  // Requires reaction dmg to be implemented first.\n  Relic_ReactionWindEnhance,\n\n  // Reaction Dmg Up not yet implemented. Medium priority\n  // Requires reaction dmg to be implemented first\n  Relic_ReactionFireEnhance,\n\n  // Not yet implemented. Medium priority\n  // Requires reaction dmg to be implemented first\n  Relic_ReactionElectricEnhance: defaultSetBonus,\n\n  // Not yet implemented. Low priority.\n  // Requires info about team composition\n  Relic_AbsorbTeamElemResist: defaultSetBonus,\n\n  // Not yet implemented. Low priority.\n  // Probably can be implemented with a dropdown option for prev received elem dmg\n  Relic_ElemDmgEnhanceElemResist: defaultSetBonus,\n\n  // Not implemented. CD reduction effect.\n  Relic_KillingRefreshSkill: defaultSetBonus,\n\n  // Not implemented. Energy effect.\n  Relic_UltGainEnergyForTeam: defaultSetBonus,\n  Relic_RestoreEnergyGainExtraEnergyForTeam: defaultSetBonus,\n\n  // Not implemented. Healing effect when opening chests.\n  Relic_ChestHealSelf: defaultSetBonus,\n\n  // Not implemented. Healing effect when getting Mora.\n  Relic_CoinHealSelf: defaultSetBonus,\n\n  // Not implemented. Healing effect when burst.\n  Relic_UltHealSelf: defaultSetBonus,\n\n  // Not implemented. Element duration reduction.\n  Relic_FireResistance: defaultSetBonus,\n  Relic_WaterResistance: defaultSetBonus,\n  Relic_ElectricResistance: defaultSetBonus,\n  Relic_IceResistance: defaultSetBonus,\n};\n","import { getArtifactSetData, getArtifactSetBonusData } from '../Data';\nimport { artifactSetBonuses as extraBonuses } from './ArtifactSetBonus';\nimport {\n  ArtifactSetBonusData,\n  ArtifactSetBonusSet,\n  Stats,\n} from '../../data/types';\nimport { ArtifactSetOption } from '../option/artifactSetOptions';\nimport { ModifierMixin, StatMixin } from '../option/Mixin';\nimport { ArtifactSetBonus } from './types';\n\nexport default class ArtifactSet {\n  constructor(id: string, pieces?: number) {\n    if (pieces !== undefined) this._pieces = pieces;\n    this.id = id;\n  }\n\n  private _id: string = '';\n  get id(): string {\n    return this._id;\n  }\n  set id(value: string) {\n    // Essentially replaces the constructor\n    this._id = value;\n\n    const data = getArtifactSetData(value);\n    this.name = data?.name;\n    this.bonusThresholds = data?.bonusThresholds;\n\n    this.setBonusData = getArtifactSetBonusData(value);\n\n    this.setBonusSets = this.getSetBonusSetsAt(this.pieces);\n    this.stats = this.getStats();\n    this.setBonuses = this.getSetBonuses();\n    this.options = this.getOptions(this.pieces);\n  }\n\n  name?: string;\n  bonusThresholds?: number[];\n  setBonusData?: ArtifactSetBonusData;\n\n  private _pieces: number = 0;\n  get pieces(): number {\n    return this._pieces;\n  }\n  set pieces(value: number) {\n    const prevPieces = this.pieces;\n    this._pieces = value;\n\n    this.setBonusSets = this.getSetBonusSetsAt(this.pieces);\n    this.stats = this.getStats();\n    this.setBonuses = this.getSetBonuses();\n    this.options = this.getOptions(this.pieces, prevPieces);\n  }\n\n  options: ArtifactSetOption[] = [];\n  stats: Stats = {};\n  setBonusSets: ArtifactSetBonusSet[] = [];\n  setBonuses: ArtifactSetBonus[] = [];\n\n  getSetBonusSetsAt(pieces: number): ArtifactSetBonusSet[] {\n    if (this.bonusThresholds === undefined) return [];\n\n    return this.bonusThresholds\n      .filter((threshold) => pieces >= threshold)\n      .map((threshold) => this.setBonusData?.[threshold])\n      .filter((bonus): bonus is ArtifactSetBonusSet => bonus !== undefined);\n  }\n\n  getStats() {\n    let stats: Stats = {};\n\n    let setBonuses = this.setBonusSets;\n    setBonuses?.forEach((setBonus) => {\n      // Normal stat bonuses\n      setBonus?.bonuses.forEach((statBonus) => {\n        if (stats[statBonus.stat] !== undefined) {\n          stats[statBonus.stat] += statBonus.value;\n        } else {\n          stats[statBonus.stat] = statBonus.value;\n        }\n      });\n\n      // Special bonuses, has to be handled individually\n      let extraBonus = setBonus?.bonusExtra;\n      if (extraBonus !== undefined && extraBonus.type !== '') {\n        let extraBonusSet =\n          extraBonuses[extraBonus.type] ?? extraBonuses['defaultSetBonus'];\n\n        let params = extraBonus.params;\n\n        let extraStats = extraBonusSet.extraStatsFn?.(params) ?? [];\n\n        extraStats.forEach((statBonus) => {\n          if (stats[statBonus.stat] !== undefined) {\n            stats[statBonus.stat] += statBonus.value;\n          } else {\n            stats[statBonus.stat] = statBonus.value;\n          }\n        });\n      }\n    });\n\n    return stats;\n  }\n\n  getOptions(pieces: number, prevPieces?: number) {\n    if (prevPieces === undefined || isNaN(prevPieces)) {\n      const options = this.setBonuses.flatMap((setBonus) => setBonus.options);\n      return options.map((Option) => new Option());\n    } else if (pieces === prevPieces) {\n      return this.options;\n    } else if (pieces > prevPieces) {\n      const oldOptionIds = this.options.map(({ id }) => id);\n      const newOptions = this.setBonuses\n        .flatMap((setBonus) => setBonus.options)\n        .map((Option) => new Option())\n        .filter(({ id }) => !oldOptionIds.includes(id));\n      return this.options.concat(newOptions);\n    } else {\n      const keptOptionIds = this.setBonuses\n        .flatMap((setBonus) => setBonus.options)\n        .map((Option) => new Option().id);\n      return this.options.filter(({ id }) => keptOptionIds.includes(id));\n    }\n  }\n\n  getSetBonuses(): ArtifactSetBonus[] {\n    const setBonusSets = this.setBonusSets;\n    return setBonusSets.map((setBonusSet) => {\n      const setBonusType = setBonusSet?.bonusExtra.type;\n      return extraBonuses[setBonusType] ?? extraBonuses['defaultSetBonus'];\n    });\n  }\n\n  getStatMixins(): StatMixin[] {\n    return this.setBonuses\n      .map(({ statMixin }) => statMixin)\n      .filter((mixin): mixin is StatMixin => mixin !== undefined);\n  }\n\n  getModifierMixins(): ModifierMixin[] {\n    return this.setBonuses\n      .map(({ modifierMixin }) => modifierMixin)\n      .filter((mixin): mixin is ModifierMixin => mixin !== undefined);\n  }\n}\n","import { AscensionBonus, StatCurveMapping, Stats } from '../../data/types';\nimport {\n  getWeaponData as getData,\n  getWeaponAscensionBonusData as getAscensionBonusData,\n  getWeaponStatCurveAt as getStatCurveAt,\n  getAscensionBonusAt,\n} from '../Data';\nimport type { WeaponType } from './types';\n\nexport default class Weapon {\n  constructor(id: string, level: number, hasAscended: boolean) {\n    this._weaponLevel = level;\n    this._hasAscended = hasAscended;\n\n    this.id = id;\n  }\n\n  private _id: string = '';\n  get id(): string {\n    return this._id;\n  }\n  set id(value: string) {\n    // Essentially replaces the constructor\n    this._id = value;\n\n    const data = getData(value);\n    this.name = data?.name;\n    this.type = data?.type as WeaponType | undefined;\n    this.rank = data?.rank;\n    this.baseStats = data?.baseStats;\n    this.statCurveMapping = data?.statCurves;\n    this.ascensionBonuses = getAscensionBonusData(value);\n\n    this.stats = this.getStatsAt(this.weaponLevel, this.hasAscended);\n  }\n\n  name?: string;\n  type?: WeaponType;\n  rank?: number;\n  baseStats?: Stats;\n  statCurveMapping?: StatCurveMapping;\n  ascensionBonuses?: AscensionBonus[];\n\n  private _weaponLevel: number = 1;\n  get weaponLevel(): number {\n    return this._weaponLevel;\n  }\n  set weaponLevel(value: number) {\n    this._weaponLevel = value;\n    this.stats = this.getStatsAt(value, this.hasAscended);\n  }\n\n  private _hasAscended: boolean = false;\n  get hasAscended(): boolean {\n    return this._hasAscended;\n  }\n  set hasAscended(value: boolean) {\n    this._hasAscended = value;\n    this.stats = this.getStatsAt(this.weaponLevel, value);\n  }\n\n  stats: Stats = {};\n\n  isDefined() {\n    return this.id !== '';\n  }\n\n  // Returns an Object containing the weapons's HP, Atk and Def, taking into account only its level and ascension\n  getStatsAt(weaponLevel: number, hasAscended: boolean) {\n    if (\n      this.rank === undefined ||\n      this.baseStats === undefined ||\n      this.statCurveMapping === undefined ||\n      this.ascensionBonuses === undefined\n    ) {\n      // Weapon is (likely) not defined/stats not found\n      return {};\n    }\n\n    if (\n      isNaN(weaponLevel) ||\n      weaponLevel < 1 ||\n      (this.rank <= 2 && weaponLevel > 70) ||\n      weaponLevel > 90\n    ) {\n      // Return NaNs if weapon level is invalid\n      let weaponStats;\n      if (this.stats !== undefined) {\n        // Copy all of stats' properties to a new object and initialize them to null\n        weaponStats = Object.keys(this.stats).reduce((obj, stat) => {\n          obj[stat] = NaN;\n          return obj;\n        }, {} as Stats);\n      } else {\n        weaponStats = {};\n      }\n\n      return weaponStats;\n    }\n\n    // ELSE\n    // Level 1 weapon stats\n    let weaponStats = { ...this.baseStats };\n\n    let weaponStatCurves = getStatCurveAt(weaponLevel);\n\n    // Calculate stats from weapon level\n    Object.entries(this.statCurveMapping).forEach(([stat, curve]) => {\n      let multiplier = weaponStatCurves[curve];\n      weaponStats[stat] *= multiplier;\n    });\n\n    // Calculate stats from weapon ascension\n    let ascensionLevel;\n    // Only 3-star and above weapons can be ascended beyond level 70\n    if (\n      this.rank > 2 &&\n      (weaponLevel > 80 || (weaponLevel === 80 && hasAscended))\n    ) {\n      ascensionLevel = 6;\n    } else if (\n      this.rank > 2 &&\n      (weaponLevel > 70 || (weaponLevel === 70 && hasAscended))\n    ) {\n      ascensionLevel = 5;\n    } else if (weaponLevel > 60 || (weaponLevel === 60 && hasAscended)) {\n      ascensionLevel = 4;\n    } else if (weaponLevel > 50 || (weaponLevel === 50 && hasAscended)) {\n      ascensionLevel = 3;\n    } else if (weaponLevel > 40 || (weaponLevel === 40 && hasAscended)) {\n      ascensionLevel = 2;\n    } else if (weaponLevel > 20 || (weaponLevel === 20 && hasAscended)) {\n      ascensionLevel = 1;\n    } else {\n      ascensionLevel = 0;\n    }\n    let ascensionBonuses = getAscensionBonusAt(\n      ascensionLevel,\n      this.ascensionBonuses\n    );\n\n    if (ascensionBonuses !== undefined) {\n      Object.entries(ascensionBonuses).forEach(([stat, bonus]) => {\n        if (stat in weaponStats) {\n          weaponStats[stat] += bonus;\n        } else {\n          weaponStats[stat] = bonus;\n        }\n      });\n    }\n\n    return weaponStats;\n  }\n}\n","import { AppState } from '../App';\nimport Artifact from '../js/artifact/Artifact';\nimport ArtifactSet from '../js/artifact/ArtifactSet';\nimport { ArtifactType, InputStat } from '../js/artifact/types';\nimport Character from '../js/character/Character';\nimport CritType from '../js/modifier/CritType';\nimport { getOptionValue, setOptionValue } from '../js/option';\nimport Resistance from '../js/Resistance';\nimport { Element } from '../js/talent/types';\nimport Weapon from '../js/weapon/Weapon';\n\nexport default interface Save {\n  label: string;\n\n  characterId?: string;\n  characterLevel?: number;\n  characterHasAscended?: boolean;\n\n  weaponId?: string;\n  weaponLevel?: number;\n  weaponHasAscended?: boolean;\n\n  artifacts?: ArtifactSave[];\n\n  artifactSets?: { artifactSetId?: string; artifactSetPieces?: number }[];\n\n  talentAttackLevel?: number;\n  talentSkillLevel?: number;\n  talentBurstLevel?: number;\n\n  critType?: CritType;\n  enemyLevel?: number;\n  enemyRes?: {\n    anemo?: number;\n    cryo?: number;\n    electro?: number;\n    geo?: number;\n    hydro?: number;\n    pyro?: number;\n    physical?: number;\n  };\n\n  characterOptions?: { id?: string; value?: unknown }[];\n  artifactSetOptions?: { id?: string; value?: unknown }[];\n}\n\nexport type Saves = Record<string, Save>;\n\ninterface ArtifactSave {\n  type?: ArtifactType;\n  mainStat?: InputStatSave;\n  subStats?: InputStatSave[];\n}\n\ninterface InputStatSave {\n  stat?: string;\n  value?: number;\n  rawValue?: number;\n}\n\nfunction createInputStatSave({\n  stat,\n  value,\n  rawValue,\n}: InputStat): InputStatSave {\n  return { stat, value, rawValue };\n}\n\nexport function createSave(label: string, appState: AppState): Save {\n  const save: Save = {\n    label,\n\n    characterId: appState.character.id,\n    characterLevel: appState.character.level,\n    characterHasAscended: appState.character.hasAscended,\n\n    weaponId: appState.weapon.id,\n    weaponLevel: appState.weapon.weaponLevel,\n    weaponHasAscended: appState.weapon.hasAscended,\n\n    artifacts: appState.artifacts.map((artifact) => {\n      return {\n        type: artifact.type,\n        mainStat: createInputStatSave(artifact.mainStat),\n        subStats: artifact.subStats.map((subStat) =>\n          createInputStatSave(subStat)\n        ),\n      };\n    }),\n\n    artifactSets: appState.artifactSets.map((artifactSet) => {\n      return {\n        artifactSetId: artifactSet.id,\n        artifactSetPieces: artifactSet.pieces,\n      };\n    }),\n\n    talentAttackLevel: appState.talentAttackLevel,\n    talentSkillLevel: appState.talentSkillLevel,\n    talentBurstLevel: appState.talentBurstLevel,\n\n    critType: appState.critType,\n    enemyLevel: appState.enemyLevel,\n    enemyRes: {\n      anemo: appState.enemyRes.get(Element.Anemo),\n      cryo: appState.enemyRes.get(Element.Cryo),\n      electro: appState.enemyRes.get(Element.Electro),\n      geo: appState.enemyRes.get(Element.Geo),\n      hydro: appState.enemyRes.get(Element.Hydro),\n      pyro: appState.enemyRes.get(Element.Pyro),\n      physical: appState.enemyRes.get(Element.Physical),\n    },\n\n    characterOptions: appState.characterOptions.map((option) => {\n      return { id: option.id, value: getOptionValue(option) };\n    }),\n    artifactSetOptions: appState.artifactSetOptions.map((option) => {\n      return { id: option.id, value: getOptionValue(option) };\n    }),\n  };\n\n  return save;\n}\n\nexport function loadSave(\n  save: Save,\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void,\n  refreshApp: () => void\n) {\n  const character = new Character(\n    save.characterId ?? '',\n    save.characterLevel ?? 1,\n    save.characterHasAscended ?? false\n  );\n  const weapon = new Weapon(\n    save.weaponId ?? '',\n    save.weaponLevel ?? 1,\n    save.weaponHasAscended ?? false\n  );\n\n  const artifacts =\n    save.artifacts?.map((savedArtifact, i) => {\n      const artifactType = savedArtifact.type ?? Object.values(ArtifactType)[i];\n      let artifact = new Artifact(artifactType);\n      artifact.mainStat = new InputStat(\n        savedArtifact.mainStat?.stat ?? '',\n        savedArtifact.mainStat?.value ?? NaN,\n        savedArtifact.mainStat?.rawValue ?? NaN\n      );\n      artifact.subStats =\n        savedArtifact.subStats?.map(\n          (subStat) =>\n            new InputStat(\n              subStat.stat ?? '',\n              subStat.value ?? NaN,\n              subStat.rawValue ?? NaN\n            )\n        ) ?? artifact.subStats;\n\n      return artifact;\n    }) ?? Object.values(ArtifactType).map((type) => new Artifact(type));\n\n  const artifactSets = save.artifactSets?.map(\n    (artifactSet) =>\n      new ArtifactSet(\n        artifactSet.artifactSetId ?? '',\n        artifactSet.artifactSetPieces ?? 0\n      )\n  ) ?? [new ArtifactSet(''), new ArtifactSet(''), new ArtifactSet('')];\n\n  const talentAttackLevel = save.talentAttackLevel ?? 1;\n  const talentSkillLevel = save.talentSkillLevel ?? 1;\n  const talentBurstLevel = save.talentBurstLevel ?? 1;\n\n  const critType = save.critType ?? CritType.None;\n  const enemyLevel = save.enemyLevel ?? 1;\n  const enemyRes = save.enemyRes\n    ? new Resistance(save.enemyRes)\n    : new Resistance();\n\n  const characterOptions = character.getOptions();\n  save.characterOptions?.forEach((option) => {\n    let characterOption = characterOptions.find(\n      (characterOption) => characterOption.id === option.id\n    );\n    if (characterOption !== undefined) {\n      setOptionValue(characterOption, option.value);\n    }\n  });\n\n  const artifactSetOptions = artifactSets.flatMap(\n    (artifactSet) => artifactSet.options\n  );\n  save.artifactSetOptions?.forEach((option) => {\n    let artifactSetOption = artifactSetOptions.find(\n      (artifactSetOption) => artifactSetOption.id === option.id\n    );\n    if (artifactSetOption !== undefined) {\n      setOptionValue(artifactSetOption, option.value);\n    }\n  });\n\n  setAppState(\n    {\n      character,\n      weapon,\n      artifacts,\n      artifactSets,\n      talentAttackLevel,\n      talentSkillLevel,\n      talentBurstLevel,\n      critType,\n      enemyLevel,\n      enemyRes,\n      characterOptions,\n      artifactSetOptions,\n    },\n\n    // Update stats and talents\n    refreshApp\n  );\n}\n\nexport function addSave(save: Save, saves: Saves) {\n  saves[save.label] = save;\n  window.localStorage.setItem('saves', JSON.stringify(saves));\n}\n\nexport function getSave(label: string, saves: Saves): Save | undefined {\n  return saves[label];\n}\n\nexport function deleteSave(label: string, saves: Saves) {\n  delete saves[label];\n  window.localStorage.setItem('saves', JSON.stringify(saves));\n}\n","import React from 'react';\nimport Button from 'react-bootstrap/esm/Button';\nimport Form from 'react-bootstrap/esm/Form';\nimport Modal from 'react-bootstrap/esm/Modal';\nimport { AppState } from '../App';\nimport {\n  createSave,\n  addSave,\n  getSave,\n  loadSave,\n  Saves,\n  deleteSave,\n} from '../save/Save';\nimport InputRow from './InputRow';\nimport Picker from './Picker';\n\ntype SaveBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  refreshApp: () => void;\n};\n\ntype SaveBlockState = {\n  saves: Saves;\n  saveInputName: string;\n  selectedSave: string;\n  showDeleteWarning: boolean;\n};\n\nclass SaveBlock extends React.Component<SaveBlockProps, SaveBlockState> {\n  state: SaveBlockState;\n\n  constructor(props: SaveBlockProps) {\n    super(props);\n\n    // Populate local storage if empty\n    if (window.localStorage.getItem('saves') === null) {\n      window.localStorage.setItem('saves', '{}');\n    }\n\n    // Initialize saves in memory\n    const saves = JSON.parse(window.localStorage.getItem('saves') ?? '{}');\n    // Initialize state\n    this.state = {\n      saves,\n      saveInputName: '',\n      selectedSave: '',\n      showDeleteWarning: false,\n    };\n  }\n\n  onSaveClick = () => {\n    if (this.state.saveInputName !== '') {\n      const save = createSave(this.state.saveInputName, this.props.appState);\n      const saves = this.state.saves;\n      addSave(save, saves);\n      this.setState({ saves });\n    }\n  };\n\n  onSaveInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ saveInputName: e.target.value });\n  };\n\n  onLoadClick = () => {\n    if (this.state.selectedSave !== '') {\n      const save = getSave(this.state.selectedSave, this.state.saves);\n      if (save !== undefined) {\n        loadSave(save, this.props.setAppState, this.props.refreshApp);\n      }\n    }\n  };\n\n  onLoadInputChange = (value: string) => {\n    this.setState({ selectedSave: value });\n  };\n\n  onDeleteClick = () => {\n    if (this.state.selectedSave !== '') {\n      this.setState({ showDeleteWarning: true });\n    }\n  };\n\n  onModalConfirm = () => {\n    const saves = this.state.saves;\n    deleteSave(this.state.selectedSave, saves);\n    this.setState({ saves });\n\n    this.setState({ showDeleteWarning: false });\n  };\n\n  onModalHide = () => {\n    this.setState({ showDeleteWarning: false });\n  };\n\n  render() {\n    return (\n      <div className='input-block'>\n        <InputRow>\n          <Button variant='secondary' size='sm' onClick={this.onSaveClick}>\n            Save\n          </Button>\n\n          <Form.Control\n            type='text'\n            size='sm'\n            placeholder='Save label (cannot be empty)'\n            onChange={this.onSaveInputChange}\n          />\n        </InputRow>\n\n        <InputRow>\n          <Button variant='secondary' size='sm' onClick={this.onLoadClick}>\n            Load\n          </Button>\n\n          <Picker\n            id='save-picker'\n            label=''\n            defaultValue=''\n            value={this.state.selectedSave}\n            onChange={this.onLoadInputChange}\n            isLabelShown={false}\n          >\n            <Picker.Item label='' value='' />\n            {Object.values(this.state.saves).map((save) => (\n              <Picker.Item\n                label={save.label}\n                value={save.label}\n                key={save.label}\n              />\n            ))}\n          </Picker>\n\n          <>\n            <Button variant='danger' size='sm' onClick={this.onDeleteClick}>\n              Delete\n            </Button>\n\n            <Modal\n              show={this.state.showDeleteWarning}\n              onHide={this.onModalHide}\n            >\n              <Modal.Body>\n                Are you sure you want to delete the save configuration? This\n                action is irreversible!\n              </Modal.Body>\n              <Modal.Footer>\n                <Button variant='secondary' onClick={this.onModalHide}>\n                  Cancel\n                </Button>\n                <Button variant='danger' onClick={this.onModalConfirm}>\n                  Delete\n                </Button>\n              </Modal.Footer>\n            </Modal>\n          </>\n        </InputRow>\n      </div>\n    );\n  }\n}\n\nexport default SaveBlock;\n","import React from 'react';\nimport { AppState } from '../App';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\n\ntype TalentInputBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateTotalStats: ({\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n  }: {\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n  }) => void;\n};\n\nclass TalentInputBlock extends React.Component<TalentInputBlockProps> {\n  setTalentAttackLevel = (level: number) => {\n    this.props.updateTotalStats({ talentAttackLevel: level });\n    this.props.setAppState({ talentAttackLevel: level });\n  };\n\n  setTalentSkillLevel = (level: number) => {\n    this.props.updateTotalStats({ talentSkillLevel: level });\n    this.props.setAppState({ talentSkillLevel: level });\n  };\n\n  setTalentBurstLevel = (level: number) => {\n    this.props.updateTotalStats({ talentBurstLevel: level });\n    this.props.setAppState({ talentBurstLevel: level });\n  };\n\n  render() {\n    const { appState } = this.props;\n    return (\n      <div className='input-block'>\n        {' '}\n        <InputRow>\n          <IntInput\n            id='talent-attack-level-input'\n            label='Attack Talent Level:'\n            defaultValue={1}\n            value={appState.talentAttackLevel}\n            onInput={this.setTalentAttackLevel}\n            className='level-input'\n          />\n        </InputRow>\n        <InputRow>\n          <IntInput\n            id='talent-skill-level-input'\n            label='Skill Talent Level:'\n            defaultValue={1}\n            value={appState.talentSkillLevel}\n            onInput={this.setTalentSkillLevel}\n            className='level-input'\n          />\n        </InputRow>\n        <InputRow>\n          <IntInput\n            id='talent-burst-level-input'\n            label='Burst Talent Level:'\n            defaultValue={1}\n            value={appState.talentBurstLevel}\n            onInput={this.setTalentBurstLevel}\n            className='level-input'\n          />\n        </InputRow>\n      </div>\n    );\n  }\n}\n\nexport default TalentInputBlock;\n","import React from 'react';\nimport Picker from './Picker';\n\nimport * as data from '../js/Data';\n\ntype WeaponPickerProps = {\n  weaponId: string;\n  setWeaponId: (id: string) => void;\n};\n\nclass WeaponPicker extends React.Component<WeaponPickerProps> {\n  onChange = (value: string) => {\n    this.props.setWeaponId(value);\n  };\n\n  render() {\n    return (\n      <Picker\n        id='weapon-picker'\n        label='Weapon:'\n        defaultValue=''\n        value={this.props.weaponId}\n        onChange={this.onChange}\n      >\n        <Picker.Item label='' value='' />\n        {data.getSortedWeaponList().map((id) => (\n          <Picker.Item\n            label={data.getWeaponData(id).name}\n            value={id}\n            key={id}\n          />\n        ))}\n      </Picker>\n    );\n  }\n}\n\nexport default WeaponPicker;\n","import React from 'react';\nimport { AppState } from '../App';\nimport Weapon from '../js/weapon/Weapon';\nimport Checkbox from './Checkbox';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\nimport WeaponPicker from './WeaponPicker';\n\ntype WeaponInputBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateTotalStats: ({ weapon }: { weapon?: Weapon }) => void;\n};\n\nclass WeaponInputBlock extends React.Component<WeaponInputBlockProps> {\n  setWeaponId = (id: string) => {\n    const weapon = this.props.appState.weapon;\n    weapon.id = id;\n    this.props.updateTotalStats({ weapon });\n    this.props.setAppState({ weapon });\n  };\n\n  setWeaponLevel = (level: number) => {\n    const weapon = this.props.appState.weapon;\n    weapon.weaponLevel = level;\n    this.props.updateTotalStats({ weapon });\n    this.props.setAppState({ weapon });\n  };\n\n  setIsWeaponAscended = (isAscended: boolean) => {\n    const weapon = this.props.appState.weapon;\n    weapon.hasAscended = isAscended;\n    this.props.updateTotalStats({ weapon });\n    this.props.setAppState({ weapon });\n  };\n\n  render() {\n    const { appState } = this.props;\n    return (\n      <div className='input-block'>\n        <InputRow>\n          <WeaponPicker\n            weaponId={appState.weapon.id}\n            setWeaponId={this.setWeaponId}\n          />\n        </InputRow>\n\n        <InputRow>\n          <IntInput\n            id='weapon-level-input'\n            label='Level:'\n            defaultValue={1}\n            value={appState.weapon.weaponLevel}\n            onInput={this.setWeaponLevel}\n            className='level-input'\n          />\n        </InputRow>\n\n        <InputRow>\n          <Checkbox\n            id='weapon-ascension-checkbox'\n            label='Ascended?'\n            defaultValue={false}\n            value={appState.weapon.hasAscended}\n            onChange={this.setIsWeaponAscended}\n          />\n        </InputRow>\n      </div>\n    );\n  }\n}\n\nexport default WeaponInputBlock;\n","import React from 'react';\nimport { AppState } from '../App';\nimport { Stats } from '../data/types';\nimport Artifact from '../js/artifact/Artifact';\nimport ArtifactSet from '../js/artifact/ArtifactSet';\nimport Character from '../js/character/Character';\nimport CritType from '../js/modifier/CritType';\nimport { ArtifactSetOption } from '../js/option/artifactSetOptions';\nimport { CharacterOption } from '../js/option/characterOptions';\nimport Resistance from '../js/Resistance';\nimport Weapon from '../js/weapon/Weapon';\nimport ArtifactSetInputBlock from './ArtifactSetInputBlock';\nimport CharacterInputBlock from './CharacterInputBlock';\nimport Column from './Column';\nimport ModifierInputBlock from './ModifierInputBlock';\nimport SaveBlock from './SaveBlock';\nimport TalentInputBlock from './TalentInputBlock';\nimport WeaponInputBlock from './WeaponInputBlock';\n\ntype InputColumnProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateArtifactSetBonuses: ({\n    artifactSets,\n  }: {\n    artifactSets?: ArtifactSet[];\n  }) => void;\n  updateTotalStats: ({\n    character,\n    weapon,\n    artifacts,\n    artifactSetBonuses,\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n    characterOptions,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    weapon?: Weapon;\n    artifacts?: Artifact[];\n    artifactSetBonuses?: Stats;\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n    characterOptions?: CharacterOption[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => void;\n  updateTalentValues: ({\n    character,\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n    enemyLevel,\n    enemyRes,\n    critType,\n    characterOptions,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n    enemyLevel?: number;\n    enemyRes?: Resistance;\n    critType?: CritType;\n    characterOptions?: CharacterOption[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => void;\n  refreshApp: () => void;\n};\n\nclass InputColumn extends React.Component<InputColumnProps> {\n  render() {\n    const {\n      appState,\n      setAppState,\n      updateArtifactSetBonuses,\n      updateTotalStats,\n      updateTalentValues,\n      refreshApp,\n    } = this.props;\n\n    return (\n      <Column className='input-column'>\n        <SaveBlock\n          appState={appState}\n          setAppState={setAppState}\n          refreshApp={refreshApp}\n        />\n\n        <CharacterInputBlock\n          appState={appState}\n          setAppState={setAppState}\n          updateTotalStats={updateTotalStats}\n        />\n\n        <WeaponInputBlock\n          appState={appState}\n          setAppState={setAppState}\n          updateTotalStats={updateTotalStats}\n        />\n\n        <ArtifactSetInputBlock\n          appState={appState}\n          setAppState={setAppState}\n          updateArtifactSetBonuses={updateArtifactSetBonuses}\n        />\n\n        <TalentInputBlock\n          appState={appState}\n          setAppState={setAppState}\n          updateTotalStats={updateTotalStats}\n        />\n\n        <ModifierInputBlock\n          appState={appState}\n          setAppState={setAppState}\n          updateTalentValues={updateTalentValues}\n        />\n      </Column>\n    );\n  }\n}\n\nexport default InputColumn;\n","import React from 'react';\nimport { Stats } from '../data/types';\nimport { propMapping } from '../js/Data';\nimport { getStatDisplayValue } from '../js/Stat';\n\ntype ArtifactSetStatBlockProps = {\n  artifactSetBonuses: Stats;\n};\n\nclass ArtifactSetStatBlock extends React.Component<ArtifactSetStatBlockProps> {\n  render() {\n    const { artifactSetBonuses } = this.props;\n\n    if (Object.keys(artifactSetBonuses).length === 0) {\n      return null;\n    }\n\n    return (\n      <div className='result-block'>\n        <h2>Artifact Sets</h2>\n        {Object.entries(artifactSetBonuses)\n          .filter(\n            ([prop, _]) =>\n              // Temporary(?) way to not display these fake stats\n              prop !== 'burstDmgBonusByEnergyRechargeRatio' &&\n              prop !== 'burstDmgBonusByEnergyRechargeMax' &&\n              prop !== 'severedFateBonus'\n          )\n          .map(([prop, value]) => (\n            <p key={prop}>\n              {propMapping[prop].name}:{' '}\n              {getStatDisplayValue(value, propMapping[prop].isPercentage)}\n            </p>\n          ))}\n      </div>\n    );\n  }\n}\n\nexport default ArtifactSetStatBlock;\n","import React from 'react';\nimport Character from '../js/character/Character';\nimport { propMapping } from '../js/Data';\nimport { getStatDisplayValue } from '../js/Stat';\n\ntype CharacterStatBlockProps = {\n  character: Character;\n};\n\nclass CharacterStatBlock extends React.Component<CharacterStatBlockProps> {\n  render() {\n    const character = this.props.character;\n\n    if (!character.isDefined()) {\n      return null;\n    }\n\n    return (\n      <div className='result-block'>\n        <h2>Character</h2>\n        <img\n          src={`https://rerollcdn.com/GENSHIN/Characters/${character.name}.png`}\n          width={70}\n          height={70}\n          alt='Character thumbnail'\n        />\n        <p>{character.name ?? ''}</p>\n        {Object.entries(character.innateStats).map(([prop, value]) => (\n          <p key={prop}>\n            {propMapping[prop].name}:{' '}\n            {getStatDisplayValue(value, propMapping[prop].isPercentage)}\n          </p>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default CharacterStatBlock;\n","import React from 'react';\nimport { Stats } from '../data/types';\nimport { propMapping } from '../js/Data';\nimport { getStatDisplayValue } from '../js/Stat';\n\ntype TotalStatBlockProps = {\n  totalStats: Stats;\n};\n\nclass TotalStatBlock extends React.Component<TotalStatBlockProps> {\n  render() {\n    return (\n      <div className='result-block'>\n        <h2>Total Stats</h2>\n        {Object.entries(this.props.totalStats).map(\n          ([prop, value]) =>\n            // Temporary way to exclude Base Atk from being displayed\n            // Potential method is to hardcode the stats that should be displayed\n            // (similar to how it is done in getTotalStatsAt)\n            prop !== 'baseAtk' && (\n              <p key={prop}>\n                {propMapping[prop].name}:{' '}\n                {getStatDisplayValue(value, propMapping[prop].isPercentage)}\n              </p>\n            )\n        )}\n      </div>\n    );\n  }\n}\n\nexport default TotalStatBlock;\n","import React from 'react';\nimport { propMapping } from '../js/Data';\nimport { getStatDisplayValue } from '../js/Stat';\nimport Weapon from '../js/weapon/Weapon';\n\ntype WeaponStatBlockProps = {\n  weapon: Weapon;\n};\n\nclass WeaponStatBlock extends React.Component<WeaponStatBlockProps> {\n  render() {\n    const weapon = this.props.weapon;\n\n    if (!weapon.isDefined()) {\n      return null;\n    }\n\n    return (\n      <div className='result-block'>\n        <h2>Weapon</h2>\n        <p>{weapon.name ?? ''}</p>\n        {Object.entries(weapon.stats).map(([prop, value]) => (\n          <p key={prop}>\n            {propMapping[prop].name}:{' '}\n            {getStatDisplayValue(value, propMapping[prop].isPercentage)}\n          </p>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default WeaponStatBlock;\n","import React from 'react';\nimport { AppState } from '../App';\nimport { Stats } from '../data/types';\nimport ArtifactSetStatBlock from './ArtifactSetStatBlock';\nimport CharacterStatBlock from './CharacterStatBlock';\nimport Column from './Column';\nimport TotalStatBlock from './TotalStatBlock';\nimport WeaponStatBlock from './WeaponStatBlock';\n\ntype StatColumnProps = {\n  appState: AppState;\n  totalStats: Stats;\n  artifactSetBonuses: Stats;\n};\n\nclass StatColumn extends React.Component<StatColumnProps> {\n  render() {\n    const { character, weapon } = this.props.appState;\n\n    return (\n      <Column className='stat-column'>\n        <TotalStatBlock totalStats={this.props.totalStats} />\n        <CharacterStatBlock character={character} />\n        <WeaponStatBlock weapon={weapon} />\n        <ArtifactSetStatBlock\n          artifactSetBonuses={this.props.artifactSetBonuses}\n        />\n      </Column>\n    );\n  }\n}\n\nexport default StatColumn;\n","import React from 'react';\nimport { talentDescMapping } from '../js/Data';\nimport { capitalize, getDamageDisplayValue } from '../js/Stat';\nimport { TalentType, TalentValue } from '../js/talent/types';\n\ntype TalentBlockProps = {\n  type: TalentType;\n  talentValues: TalentValue[];\n};\n\nclass TalentBlock extends React.Component<TalentBlockProps> {\n  render() {\n    return (\n      <div className='sub-block'>\n        <h3>{capitalize(this.props.type)}</h3>\n        {this.props.talentValues.map(({ description, damage }) => (\n          <p key={description}>\n            {talentDescMapping[description]}: {getDamageDisplayValue(damage)}\n          </p>\n        ))}\n      </div>\n    );\n  }\n}\nexport default TalentBlock;\n","import React from 'react';\nimport Column from './Column';\nimport { TalentType, TalentValueSet } from '../js/talent/types';\nimport TalentBlock from './TalentBlock';\n\ntype TalentColumnProps = {\n  talentValues: TalentValueSet;\n};\n\nclass TalentColumn extends React.Component<TalentColumnProps> {\n  render() {\n    const { attack, skill, burst } = this.props.talentValues;\n\n    return (\n      <Column className='talent-column'>\n        <div className='result-block'>\n          <h2>Talents</h2>\n          <TalentBlock type={TalentType.Attack} talentValues={attack} />\n          <TalentBlock type={TalentType.Skill} talentValues={skill} />\n          <TalentBlock type={TalentType.Burst} talentValues={burst} />\n        </div>\n      </Column>\n    );\n  }\n}\n\nexport default TalentColumn;\n","import React from 'react';\nimport './App.css';\nimport ArtifactColumn from './component/ArtifactColumn';\nimport Column from './component/Column';\nimport InputColumn from './component/InputColumn';\nimport StatColumn from './component/StatColumn';\nimport TalentColumn from './component/TalentColumn';\nimport { Stats } from './data/types';\nimport Artifact from './js/artifact/Artifact';\nimport ArtifactSet from './js/artifact/ArtifactSet';\nimport { ArtifactType } from './js/artifact/types';\nimport Character from './js/character/Character';\nimport CritType from './js/modifier/CritType';\nimport DamageModifier from './js/modifier/DamageModifer';\nimport { isModifierApplicable, isStatsApplicable } from './js/option';\nimport { ArtifactSetOption } from './js/option/artifactSetOptions';\nimport { CharacterOption } from './js/option/characterOptions';\nimport { ModifierMixin, StatMixin } from './js/option/Mixin';\nimport { IModifierApplicable, IStatsApplicable } from './js/option/Option';\nimport Resistance from './js/Resistance';\nimport { getTotalStatsAt } from './js/Stat';\nimport { TalentType, TalentValueSet } from './js/talent/types';\nimport Weapon from './js/weapon/Weapon';\n\nexport type AppState = {\n  character: Character;\n  weapon: Weapon;\n  artifacts: Artifact[];\n\n  artifactSets: ArtifactSet[];\n\n  enemyLevel: number;\n  enemyDefReduction: number;\n  enemyRes: Resistance;\n  critType: CritType;\n  flatDmg: number;\n  reaction: string;\n  talentAttackLevel: number;\n  talentSkillLevel: number;\n  talentBurstLevel: number;\n\n  characterOptions: CharacterOption[];\n  artifactSetOptions: ArtifactSetOption[];\n};\n\nclass App extends React.Component<{}, AppState> {\n  state: AppState = {\n    character: new Character('', 1, false),\n    weapon: new Weapon('', 1, false),\n    artifacts: Object.values(ArtifactType).map((type) => new Artifact(type)),\n\n    artifactSets: [\n      new ArtifactSet(''),\n      new ArtifactSet(''),\n      new ArtifactSet(''),\n    ],\n\n    enemyLevel: 1,\n    enemyDefReduction: 0,\n    enemyRes: new Resistance(),\n    critType: CritType.None,\n    flatDmg: 0,\n    reaction: 'none',\n    talentAttackLevel: 1,\n    talentSkillLevel: 1,\n    talentBurstLevel: 1,\n\n    characterOptions: [],\n    artifactSetOptions: [],\n  };\n\n  artifactSetBonuses: Stats = {};\n  totalStats: Stats = {};\n  talentValues: TalentValueSet = { attack: [], skill: [], burst: [] };\n\n  modifierMixins: ModifierMixin[] = [];\n  statMixins: StatMixin[] = [];\n\n  // Gets all modifier mixins and updates cache (modifierMixins)\n  getModifierMixins({\n    character,\n    characterOptions,\n    artifactSets,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    characterOptions?: CharacterOption[];\n    artifactSets?: ArtifactSet[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) {\n    if (\n      character === undefined &&\n      characterOptions === undefined &&\n      artifactSets === undefined &&\n      artifactSetOptions === undefined\n    ) {\n      return this.modifierMixins;\n    }\n\n    const characterPassiveMixins = (\n      character ?? this.state.character\n    ).getPassiveModifierMixins();\n\n    const artifactSetMixins = (artifactSets ?? this.state.artifactSets).flatMap(\n      (artifactSet) => artifactSet.getModifierMixins()\n    );\n\n    const characterOptionMixins = (\n      characterOptions ?? this.state.characterOptions\n    )\n      .filter((option): option is CharacterOption & IModifierApplicable =>\n        isModifierApplicable(option)\n      )\n      .map((option) => option.applyOnModifier);\n\n    const artifactSetOptionMixins = (\n      artifactSetOptions ?? this.state.artifactSetOptions\n    )\n      .filter((option): option is ArtifactSetOption & IModifierApplicable =>\n        isModifierApplicable(option)\n      )\n      .map((option) => option.applyOnModifier);\n\n    this.modifierMixins = characterPassiveMixins\n      .concat(artifactSetMixins)\n      .concat(characterOptionMixins)\n      .concat(artifactSetOptionMixins);\n\n    return this.modifierMixins;\n  }\n\n  // Gets all stat mixins and updates cache (statMixins)\n  getStatMixins({\n    character,\n    characterOptions,\n    artifactSets,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    characterOptions?: CharacterOption[];\n    artifactSets?: ArtifactSet[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) {\n    if (\n      character === undefined &&\n      characterOptions === undefined &&\n      artifactSetOptions === undefined\n    ) {\n      return this.statMixins;\n    }\n\n    const characterPassiveMixins = (\n      character ?? this.state.character\n    ).getPassiveStatMixins();\n\n    const artifactSetMixins = (artifactSets ?? this.state.artifactSets).flatMap(\n      (artifactSet) => artifactSet.getStatMixins()\n    );\n\n    const characterOptionMixins = (\n      characterOptions ?? this.state.characterOptions\n    )\n      .filter((option): option is CharacterOption & IStatsApplicable =>\n        isStatsApplicable(option)\n      )\n      .map((option) => option.applyOnStats);\n\n    const artifactSetOptionMixins = (\n      artifactSetOptions ?? this.state.artifactSetOptions\n    )\n      .filter((option): option is ArtifactSetOption & IStatsApplicable =>\n        isStatsApplicable(option)\n      )\n      .map((option) => option.applyOnStats);\n\n    this.statMixins = characterPassiveMixins\n      .concat(artifactSetMixins)\n      .concat(characterOptionMixins)\n      .concat(artifactSetOptionMixins);\n\n    return this.statMixins;\n  }\n\n  getDamageModifier({\n    characterLevel,\n    enemyLevel,\n    enemyRes,\n    critType,\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n    modifierMixins,\n  }: {\n    characterLevel?: number;\n    enemyLevel?: number;\n    enemyRes?: Resistance;\n    critType?: CritType;\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n    modifierMixins?: ModifierMixin[];\n  } = {}): DamageModifier {\n    const modifier: DamageModifier = {\n      characterLevel: characterLevel ?? this.state.character.level,\n      enemyLevel: enemyLevel ?? this.state.enemyLevel,\n      enemyDefReduction: this.state.enemyDefReduction,\n      enemyRes: enemyRes ?? this.state.enemyRes,\n      enemyResReduction: new Resistance(),\n      critType: critType ?? this.state.critType,\n      flatDmg: this.state.flatDmg,\n      reaction: this.state.reaction,\n      talentAttackLevel: talentAttackLevel ?? this.state.talentAttackLevel,\n      talentSkillLevel: talentSkillLevel ?? this.state.talentSkillLevel,\n      talentBurstLevel: talentBurstLevel ?? this.state.talentBurstLevel,\n    };\n\n    // Apply modifier mixins\n    modifierMixins?.forEach((mixin) => mixin(modifier));\n\n    return modifier;\n  }\n\n  setAppState = <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => {\n    this.setState(state, callback);\n  };\n\n  updateArtifactSetBonuses = ({\n    artifactSets,\n    artifactSetOptions,\n  }: {\n    artifactSets?: ArtifactSet[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => {\n    const newArtifactSets = artifactSets ?? this.state.artifactSets;\n    this.artifactSetBonuses = newArtifactSets\n      .map((artifactSet) => artifactSet.stats)\n      .reduce((acc, stats) => {\n        Object.entries(stats).forEach(([stat, value]) => {\n          acc[stat] = value + (acc[stat] ?? 0);\n        });\n        return acc;\n      }, {} as Stats);\n\n    this.updateTotalStats({\n      artifactSets,\n      artifactSetBonuses: this.artifactSetBonuses,\n      artifactSetOptions,\n    });\n  };\n\n  updateTotalStats = ({\n    character,\n    weapon,\n    artifacts,\n    artifactSets,\n    artifactSetBonuses,\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n    characterOptions,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    weapon?: Weapon;\n    artifacts?: Artifact[];\n    artifactSets?: ArtifactSet[];\n    artifactSetBonuses?: Stats;\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n    characterOptions?: CharacterOption[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => {\n    const statMixins = this.getStatMixins({\n      character,\n      characterOptions,\n      artifactSets,\n      artifactSetOptions,\n    });\n\n    this.totalStats = getTotalStatsAt(\n      character ?? this.state.character,\n      weapon ?? this.state.weapon,\n      artifactSetBonuses ?? this.artifactSetBonuses,\n      artifacts ?? this.state.artifacts,\n      talentAttackLevel ?? this.state.talentAttackLevel,\n      talentSkillLevel ?? this.state.talentSkillLevel,\n      talentBurstLevel ?? this.state.talentBurstLevel,\n      statMixins\n    );\n\n    this.updateTalentValues({\n      character,\n      talentAttackLevel,\n      talentSkillLevel,\n      talentBurstLevel,\n      characterOptions,\n      artifactSetOptions,\n    });\n  };\n\n  updateTalentValues = ({\n    character: newChar,\n    artifactSets,\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n    enemyLevel,\n    enemyRes,\n    critType,\n    characterOptions,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    artifactSets?: ArtifactSet[];\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n    enemyLevel?: number;\n    enemyRes?: Resistance;\n    critType?: CritType;\n    characterOptions?: CharacterOption[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => {\n    const character = newChar ?? this.state.character;\n\n    const modifierMixins = this.getModifierMixins({\n      character,\n      characterOptions,\n      artifactSets,\n      artifactSetOptions,\n    });\n\n    const damageModifer = this.getDamageModifier({\n      characterLevel: newChar?.level,\n      enemyLevel,\n      enemyRes,\n      critType,\n      talentAttackLevel,\n      talentSkillLevel,\n      talentBurstLevel,\n      modifierMixins,\n    });\n\n    this.talentValues.attack = character.getTalentDamageAt({\n      type: TalentType.Attack,\n      talentLevel: talentAttackLevel ?? this.state.talentAttackLevel,\n      totalStats: this.totalStats,\n      modifier: damageModifer,\n    });\n    this.talentValues.skill = character.getTalentDamageAt({\n      type: TalentType.Skill,\n      talentLevel: talentSkillLevel ?? this.state.talentSkillLevel,\n      totalStats: this.totalStats,\n      modifier: damageModifer,\n    });\n    this.talentValues.burst = character.getTalentDamageAt({\n      type: TalentType.Burst,\n      talentLevel: talentBurstLevel ?? this.state.talentBurstLevel,\n      totalStats: this.totalStats,\n      modifier: damageModifer,\n    });\n  };\n\n  refreshApp = () => {\n    this.getStatMixins({\n      character: this.state.character,\n      characterOptions: this.state.characterOptions,\n      artifactSetOptions: this.state.artifactSetOptions,\n    });\n    this.getModifierMixins({\n      character: this.state.character,\n      characterOptions: this.state.characterOptions,\n      artifactSetOptions: this.state.artifactSetOptions,\n    });\n\n    this.updateArtifactSetBonuses({});\n    this.setState({});\n  };\n\n  render() {\n    return (\n      <div className='app'>\n        <InputColumn\n          appState={this.state}\n          setAppState={this.setAppState}\n          updateArtifactSetBonuses={this.updateArtifactSetBonuses}\n          updateTotalStats={this.updateTotalStats}\n          updateTalentValues={this.updateTalentValues}\n          refreshApp={this.refreshApp}\n        />\n        <ArtifactColumn\n          appState={this.state}\n          setAppState={this.setAppState}\n          updateTotalStats={this.updateTotalStats}\n        />\n        <StatColumn\n          appState={this.state}\n          totalStats={this.totalStats}\n          artifactSetBonuses={this.artifactSetBonuses}\n        />\n        <TalentColumn talentValues={this.talentValues} />\n        <Column></Column>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}