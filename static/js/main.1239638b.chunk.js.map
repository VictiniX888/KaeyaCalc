{"version":3,"sources":["js/Data.ts","js/talent/types.ts","js/Resistance.ts","js/talent/DefaultTalent.ts","js/talent/Talent.ts","js/modifier/Reaction.ts","js/talent/AyakaTalent.ts","js/talent/JeanTalent.ts","js/talent/LisaTalent.ts","js/talent/BarbaraTalent.ts","js/talent/KaeyaTalent.ts","js/talent/DilucTalent.ts","js/talent/RazorTalent.ts","js/talent/AmberTalent.ts","js/talent/VentiTalent.ts","js/talent/XianglingTalent.ts","js/talent/BeidouTalent.ts","js/talent/XingqiuTalent.ts","js/talent/XiaoTalent.ts","js/talent/NingguangTalent.ts","js/talent/KleeTalent.ts","js/talent/ZhongliTalent.ts","js/talent/FischlTalent.ts","js/talent/BennettTalent.ts","js/talent/TartagliaTalent.ts","js/talent/NoelleTalent.ts","js/talent/QiqiTalent.ts","js/talent/ChongyunTalent.ts","js/talent/GanyuTalent.ts","js/talent/AlbedoTalent.ts","js/talent/DionaTalent.ts","js/talent/MonaTalent.ts","js/talent/KeqingTalent.ts","js/talent/SucroseTalent.ts","js/talent/XinyanTalent.ts","js/talent/RosariaTalent.ts","js/talent/HutaoTalent.ts","js/talent/KazuhaTalent.ts","js/talent/YanfeiTalent.ts","js/talent/YoimiyaTalent.ts","js/talent/EulaTalent.ts","js/talent/TalentUtil.ts","js/talent/RaidenTalent.ts","js/talent/SayuTalent.ts","js/talent/KokomiTalent.ts","js/talent/SaraTalent.ts","js/talent/AloyTalent.ts","js/modifier/CritType.ts","js/option/Option.ts","js/option/artifactSetOptions/ArtifactSetOption.ts","js/option/artifactSetOptions/ArchaicPetraOption.ts","js/option/artifactSetOptions/BerserkerOption.ts","js/option/artifactSetOptions/BlizzardStrayerOption.ts","js/option/artifactSetOptions/BloodstainedChivalryOption.ts","js/option/artifactSetOptions/BraveHeartOption.ts","js/option/artifactSetOptions/CrimsonWitchOption.ts","js/option/artifactSetOptions/HeartOfDepthOption.ts","js/option/artifactSetOptions/InstructorOption.ts","js/option/artifactSetOptions/LavawalkerOption.ts","js/option/artifactSetOptions/MaidenBelovedOption.ts","js/option/artifactSetOptions/MartialArtistOption.ts","js/option/artifactSetOptions/NoblesseObligeOption.ts","js/option/artifactSetOptions/PaleFlameOption.ts","js/option/artifactSetOptions/RetracingBolideOption.ts","js/option/artifactSetOptions/ShimenawaOption.ts","js/option/artifactSetOptions/TenacityOption.ts","js/option/artifactSetOptions/ThundersootherOption.ts","js/option/artifactSetOptions/ViridescentVenererOption.ts","js/option/characterOptions/CharacterOption.ts","js/option/characterOptions/AloyOption.ts","js/option/characterOptions/AyakaOption.ts","js/option/characterOptions/ChongyunOption.ts","js/option/characterOptions/DilucOption.ts","js/option/characterOptions/HuTaoOption.ts","js/option/characterOptions/ElementalAbsorptionOption.ts","js/option/characterOptions/KazuhaOption.ts","js/option/characterOptions/KokomiOption.ts","js/option/characterOptions/NoelleOption.ts","js/option/characterOptions/RaidenOption.ts","js/option/characterOptions/SayuOption.ts","js/option/characterOptions/SucroseOption.ts","js/option/characterOptions/index.ts","js/option/characterOptions/VentiOption.ts","js/option/characterOptions/XiaoOption.ts","js/option/characterOptions/YanfeiOption.ts","js/option/characterOptions/YoimiyaOption.ts","js/option/OptionUtils.ts","js/option/index.ts","js/option/Mixin.ts","js/passive/characterPassives/CharacterPassive.ts","js/passive/characterPassives/BeidouPassive.ts","js/passive/characterPassives/HuTaoPassive.ts","js/passive/characterPassives/YoimiyaPassive.ts","js/passive/characterPassives/RaidenPassive.ts","js/passive/characterPassives/KokomiPassive.ts","js/passive/characterPassives/AloyPassive.ts","js/character/Character.ts","js/Stat.ts","js/artifact/types.ts","js/artifact/Artifact.ts","component/NumberInput.tsx","component/FloatInput.tsx","component/InputRow.tsx","component/IntInput.tsx","component/Picker.tsx","component/ArtifactBlock.tsx","js/optimization/Optimization.ts","component/Checkbox.tsx","component/OptimizerBlock.tsx","component/ArtifactColumn.tsx","component/ArtifactSetPicker.tsx","component/InputBlock.tsx","component/OptionInput.tsx","component/ArtifactSetInputBlock.tsx","component/CharacterPicker.tsx","component/CharacterInputBlock.tsx","component/ModifierInputBlock.tsx","js/artifact/ArtifactSetBonus.ts","js/artifact/ArtifactSet.ts","js/option/weaponOptions/WeaponOption.ts","js/passive/weaponPassives/WeaponPassive.ts","js/passive/weaponPassives/DragonsBanePassive.ts","js/passive/weaponPassives/StaffOfHomaPassive.ts","js/passive/weaponPassives/TheCatchPassive.ts","js/passive/weaponPassives/EngulfingLightningPassive.ts","js/passive/weaponPassives/LuxuriousSeaLordPassive.ts","js/passive/weaponPassives/SolarPearlPassive.ts","js/passive/weaponPassives/EverlastingMoonglowPassive.ts","js/weapon/Weapon.ts","component/SaveBlock.tsx","save/Save.ts","component/TalentInputBlock.tsx","component/WeaponPicker.tsx","component/WeaponInputBlock.tsx","component/InputColumn.tsx","component/ArtifactSetStatBlock.tsx","component/CharacterStatBlock.tsx","component/TotalStatBlock.tsx","component/WeaponStatBlock.tsx","component/StatColumn.tsx","component/TalentBlock.tsx","component/TalentColumn.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["sortedCharacterList","sortedWeaponList","sortedArtifactSetList","propMapping","propMappingRaw","talentDescMapping","talentDescMappingRaw","optionMapping","optionMappingRaw","characterData","characterDataRaw","reduce","acc","charData","id","characterAscensionBonusData","rawData","characterId","ascensionBonusSet","map","bonusData","ascensionBonuses","processCharacterAscensionBonusData","characterAscensionBonusDataRaw","characterStatCurveData","curveData","level","statCurves","processCharacterStatCurveData","characterStatCurveDataRaw","weaponData","processWeaponData","weaponDataRaw","weaponAscensionBonusData","weaponId","processWeaponAscensionBonusData","weaponAscensionBonusDataRaw","weaponStatCurveData","processWeaponStatCurveData","weaponStatCurveDataRaw","talentData","talentDataRaw","talentDataSetRaw","talents","attack","curveAcc","params","skill","burst","passives","processTalentData","artifactSetData","setData","processArtifactSetData","artifactSetDataRaw","artifactSetBonusData","setId","setBonusSet","bonusAcc","bonusThreshold","processArtifactSetBonusData","artifactSetBonusDataRaw","artifactMainStatData","artifactMainStatDataRaw","weaponPassiveData","weaponPassiveDataRaw","getData","dataObj","getAscensionBonusData","getStatCurveAt","getCharacterData","getWeaponData","getAscensionBonusAt","getTalentData","TalentType","Element","AttackType","ScalingType","emptyTalentParams","Array","fill","NaN","getTalentStatsAt","type","talentStats","undefined","getArtifactSetData","getArtifactSetBonusData","getArtifactSetBonusParams","pieces","bonusExtra","getWeaponPassiveAt","refinement","passive","Resistance","anemo","cryo","electro","geo","hydro","pyro","physical","_resistance","this","Map","set","Anemo","Cryo","Electro","Geo","Hydro","Pyro","Physical","element","get","value","isNaN","prevValue","defaultTalentFn","Reaction","defaultTalent","ayaka","stats","modifier","attackLightMulti","normalHits","chargedHits","infusion","slice","concat","skillDefault","burstBase","description","multiplier","jean","attackLightDefault","healingSkillBase","scalingType","Attack","lisa","talentDmg","push","skillBase","i","burstDefault","barbara","kaeya","diluc","attackHeavyDefault","talentDamage","razor","attackParams","talentAttackLevel","amber","attackBowDefault","chargedElement","hpBase","flatBonus","damage","venti","talentValues","elementalAbsorption","xiangling","beidou","shieldBase","xingqiu","skillMultiBase","hits","xiao","ningguang","normalAtkDmg","calculateTotalDamage","attackType","Normal","chargedAttackDefault","starJadeDmg","Charged","plungeAttackDefault","klee","zhongli","fischl","bennett","baseAtkBuff","tartaglia","riptideFlashDmg","riptideBurstDmg","normalAttackMulti","chargedAttackMulti","noelle","skillDamage","Defense","Skill","qiqi","chongyun","ganyu","normalAttackDefault","aimedShotDmg","chargedDmg","albedo","transientBlossomDmg","diona","holdModifier","dionaHoldSkill","mona","modifiedStats","dmgBonus","keqing","hit4Dmg","hit5Dmg","consecutiveSlashDmg","Burst","sucrose","xinyan","rosaria","burstMultiBase","hutao","hit6Dmg","forEach","kazuha","hit3Dmg","hit5DmgSingle","infusionPlunge","yanfei","yoimiya","normalAttackParams","yoimiyaSkill","skillParams","talentSkillLevel","param","chargedAimedShotDmg","kindlingArrowDmg","eula","length","chargedAttackHeavy","attackHeavyMulti","lightfallSwordParams","lightfallSwordTalent","raiden","initialResolveBonus","resolveStacks","attackResolveBonus","sayu","elementalParams","kokomi","newModifier","kokomiBurst","burstParams","talentBurstLevel","normalAttackBonusDmg","kokomiHealingBonusDmg","healingBonus","flatHp","normalAttackFlatDmg","chargedAttackBonusDmg","chargedAttackFlatDmg","skillBonusDmg","skillFlatDmg","rippleDmg","burstDmg","Hp","sara","aloy","hit1Dmg","dmg","aimShotDefault","CritType","calculateBaseDamage","flatDmg","flatAtk","flatDef","calculateAmplifyingReactionMultiplier","reaction","amplifyingStrength","triggerElement","Melt","Vaporize","calculateAmplifyingStrengthMultiplier","reactionBonus","vaporizeDmgBonus","meltDmgBonus","elementalMastery","baseDmg","getDamageBonus","crit","critType","Crit","critDmg","Average","critRate","chargedCritRate","burstCritRate","Math","min","characterLevel","enemyLevel","enemyDefReduction","res","resReduction","totalRes","calculateResMultiplier","enemyRes","enemyResReduction","calculateHp","hitCount","damages","hit","Plunge","flatHealing","calculateHealing","dmgAbsorption","shieldStrength","calculateDmgAbsorption","baseAtk","Option","ArtifactSetOption","threshold","archaicPetraOptions","choices","statMixin","apply","berserkerOptions","blizzardStrayerOptions","bloodstainedChivalryOptions","chargedDmgBonus","braveHeartOptions","crimsonWitchOptions","bonuses","find","stat","stacks","pyroDmgBonus","heartOfDepthOptions","normalDmgBonus","instructorOptions","lavawalkerOptions","maidenBelovedOptions","healedBonus","martialArtistOptions","noblesseObligeOptions","atkBonus","paleFlameOptions","physicalDmgBonus","retracingBolideOptions","shimenawaOptions","plungeDmgBonus","tenacityOptions","thundersootherOptions","viridescentVenererOptions","modifierMixin","add","CharacterOption","aloyOptions","_talentAttackLevel","_talentBurstLevel","ayakaOptions","chongyunOptions","dilucOptions","_talentSkillLevel","ascensionLevel","passiveData","hutaoOptions","flatAtkBonus","baseHp","hpBonus","ElementalAbsoprtionOption","kazuhaOptions","kokomiOptions","noelleOptions","totalDef","baseDef","defBonus","raidenOptions","burstDmgBonus","sayuOptions","sucroseOptions","characterOptions","defaultOptions","isBooleanOption","option","isPickerOption","isNumberOption","isStatsApplicable","isModifierApplicable","getOptionValue","setOptionValue","includes","Priority","characterPassives","Beidou_PermanentSkill_2","options","Hutao_PermanentSkill_2","Yoimiya_PermanentSkill_1","Shougun_PermanentSkill_2","priority","Last","energyRecharge","electroDmgBonus","Kokomi_ProudSkill_SwimStamina_Reduction","_params","Kokomi_PermanentSkill_2","Aloy_PermanentSkill_1","Aloy_PermanentSkill_2","cryoDmgBonus","defaultPassiveFn","Character","hasAscended","_id","name","baseStats","statCurveMapping","_level","_hasAscended","innateStats","passiveOptions","data","getInnateStatsAt","getCharacterOptions","getAscensionLevel","getPassives","getPassiveOptions","prevAscensionLevel","Object","keys","obj","charStatCurves","entries","curve","bonus","talentLevel","totalStats","getTalentFn","damageFn","filter","flatMap","passiveId","getCharacterPassiveFn","oldOptionIds","newOptions","keptOptionIds","mixin","getStatDisplayValue","prop","isPercentage","toFixed","round","toString","getDamageDisplayValue","values","str","every","getOptionName","convertStatValue","getTotalStatsAt","character","weapon","artifactSetBonuses","artifacts","statMixins","characterStats","weaponStats","getBaseStatsAt","combinedStats","artifactStats","artifact","getStats","anemoDmgBonus","geoDmgBonus","hydroDmgBonus","anemoRes","cryoRes","electroRes","geoRes","hydroRes","pyroRes","physicalRes","skillDmgBonus","overloadDmgBonus","burningDmgBonus","capitalize","toUpperCase","ArtifactType","InputStat","rawValue","convertStatToDisplayValue","Artifact","rarity","mainStatProp","_rarity","mainStat","subStats","updateMainStat","setMainStatValue","getArtifactMainStatValue","setProp","setInputValue","setValue","subStat","mainStatProps","flower","feather","sands","goblet","circlet","subStatProps","NumberInput","state","props","defaultValue","isControlled","isLabelShown","onChangeDefault","e","parseInt","currentTarget","setState","parseInput","Number","handleInput","onInput","displayString","Form","Label","htmlFor","srOnly","label","Control","size","className","React","Component","FloatInput","parseFloat","InputRow","Row","children","IntInput","Picker","selectedValue","target","handleChange","onChange","as","Item","ArtifactBlock","setArtifactMainStatProp","setMainStatProp","updateArtifactState","setArtifactRarity","setArtifactLevel","setArtifactSubStatProp","setSubStatProp","setArtifactSubStatValue","setSubStatInputValue","statObj","substats","optimizeSubstats","possibleStats","maxRolls","erThreshold","optimizeTalentType","optimizeTalentId","appState","damageModifier","maxDmg","optimalSubstatRolls","optimalArtifacts","baseArtifacts","generateBaseArtifacts","baseEr","baseErRolls","ceil","erMainStatCount","generateRollCombinationsKqm","combination","erDistribution","rolls","inputStat","sIndex","setSubStatValue","addRollsToArtifacts","getTalentDamageAt","talentValue","subStatRolls","mainStats","sameMainStatCount","currentMaxRolls","combinations","current","backCombinations","prevArtifacts","iArtifact","jArtifact","Checkbox","checked","Check","Input","OptimizerBlock","substatRolls","selectedSubstats","targetTalentId","setMaxRolls","setSelectedSubstats","selected","substat","setErThreshold","setTargetTalentType","targetTalentType","setTargetTalentId","onOptimizeClick","result","updateTotalStats","setAppState","Accordion","Card","Toggle","Header","eventKey","Collapse","Body","Button","variant","onClick","ArtifactColumn","Col","md","xs","ArtifactSetPicker","setArtifactSetId","index","artifactSetId","sort","name1","name2","localeCompare","InputBlock","OptionInput","handleBooleanChange","updateOptions","handlePickerChange","handleNumberChange","choice","ArtifactSetInputBlock","artifactSets","artifactSetOptions","artifactSet","updateArtifactSetBonuses","setArtifactSetPieces","CharacterPicker","setCharacterId","CharacterInputBlock","getOptions","setCharacterLevel","setIsCharacterAscended","isAscended","ModifierInputBlock","setEnemyLevel","updateTalentValues","setEnemyRes","setCritType","setReaction","ToggleButtonGroup","ToggleButton","None","defaultSetBonus","Relic_ReactionWindEnhance","Relic_ReactionFireEnhance","extraStatsFn","Relic_ExtraAtkCritUp","Relic_AllElemResistUp","Relic_AtkAndExtraAtkUp","Relic_SkillDamageUp","Relic_MeleeAttackUp","Relci_RangerAttackUp","Relic_ElementalBurstUp","Relic_ElementalBurstUpByChargeEfficiency","Relic_GiantKiller","Relic_LowHPGainExtraCritRate","Relic_SkillEnhanceNormalAtkAndExtraAtk","Relic_ReactionGainExtraElemMasteryForTeam","Relic_CriticUpAgainstIceAndFrozen","Relic_DamageUpAgainstElectric","Relic_DamageUpAgainstFireAndBurning","Relic_SkillEnhanceCured","Relic_TeamAtkupAfterElementalBurst","Relic_KillEnhanceExtraAtk","Relic_ElementDmgUpAfterCrystalShield","Relic_ShieldEnhanceAtk","Relic_WaterSkillEnhanceNormalAtkAndExtraAtk","Relic_ShieldCostUpWhenElementalArtHit","Relic_AttackUpWhenNormalAtkAndExtraAtkHit","Relic_NormalDamageUpIfCostEnergy","Relic_ReactionElectricEnhance","Relic_AbsorbTeamElemResist","Relic_ElemDmgEnhanceElemResist","Relic_KillingRefreshSkill","Relic_UltGainEnergyForTeam","Relic_RestoreEnergyGainExtraEnergyForTeam","Relic_ChestHealSelf","Relic_CoinHealSelf","Relic_UltHealSelf","Relic_FireResistance","Relic_WaterResistance","Relic_ElectricResistance","Relic_IceResistance","ArtifactSet","bonusThresholds","setBonusData","_pieces","setBonusSets","setBonuses","getSetBonusSetsAt","getSetBonuses","prevPieces","setBonus","statBonus","extraBonus","extraBonusSet","extraBonuses","setBonusType","WeaponOption","weaponPassives","Weapon_Pole_DamageUpToWaterEnemy","Weapon_Pole_Homa","totalHp","Weapon_Pole_Mori","Weapon_Pole_Narukami","Weapon_Claymore_MillenniaTuna","Weapon_Catalyst_NormalAttackAndSkillAttack","Weapon_Catalyst_Kaleido","getWeaponPassiveFn","Weapon","rank","passiveDataSet","_weaponLevel","_refinement","getWeaponPassiveData","getPassive","getStatsAt","weaponLevel","weaponStatCurves","passiveParams","shouldKeepValue","newOption","statBonuses","SaveBlock","onSaveClick","saveInputName","save","characterHasAscended","weaponHasAscended","weaponRefinement","artifactSetPieces","weaponOptions","saves","window","localStorage","setItem","JSON","stringify","addSave","onSaveInputChange","onLoadClick","selectedSave","refreshApp","savedArtifact","artifactType","characterOption","weaponOption","artifactSetOption","loadSave","onLoadInputChange","onDeleteClick","showDeleteWarning","onModalConfirm","deleteSave","onModalHide","getItem","parse","placeholder","Modal","show","onHide","Footer","TalentInputBlock","setTalentAttackLevel","setTalentSkillLevel","setTalentBurstLevel","WeaponPicker","setWeaponId","WeaponInputBlock","setWeaponLevel","setIsWeaponAscended","setWeaponRefinement","InputColumn","ArtifactSetStatBlock","CharacterStatBlock","isDefined","src","width","height","alt","TotalStatBlock","WeaponStatBlock","StatColumn","TalentBlock","TalentColumn","App","modifierMixins","callback","newArtifactSets","getStatMixins","newChar","getModifierMixins","damageModifer","getDamageModifier","characterPassiveMixins","getPassiveModifierMixins","weaponPassiveMixins","artifactSetMixins","characterOptionMixins","weaponOptionMixins","artifactSetOptionMixins","unarrangedMixins","groupedMixins","array","getPassiveStatMixins","Container","fluid","Navbar","sticky","bg","Nav","Link","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1239638b.chunk.js","sourcesContent":["import type * as Data from '../data/types';\nimport type { TalentType } from './talent/types';\n\nimport characterDataRaw from '../data/characterdata.json';\nimport characterAscensionBonusDataRaw from '../data/characterascensionbonusdata.json';\nimport characterStatCurveDataRaw from '../data/characterstatcurvedata.json';\nimport weaponDataRaw from '../data/weapondata.json';\nimport weaponAscensionBonusDataRaw from '../data/weaponascensionbonusdata.json';\nimport weaponStatCurveDataRaw from '../data/weaponstatcurvedata.json';\nimport weaponPassiveDataRaw from '../data/weaponpassivedata.json';\nimport talentDataRaw from '../data/talentdata.json';\nimport artifactSetDataRaw from '../data/artifactsetdata.json';\nimport artifactSetBonusDataRaw from '../data/artifactsetbonusdata.json';\nimport artifactMainStatDataRaw from '../data/artifactmainstatdata.json';\n\nimport propMappingRaw from '../data/propmapping.json';\nimport talentDescMappingRaw from '../data/talentdescmapping.json';\nimport optionMappingRaw from '../data/optionmapping.json';\n\n// Mappings\nexport const propMapping = propMappingRaw as Data.PropMapping;\nexport const talentDescMapping = talentDescMappingRaw as Data.LanguageMapping;\nexport const optionMapping = optionMappingRaw as Data.LanguageMapping;\n\n// Pre-processed data, coverting from arrays to objects (map-like) for faster lookup\nconst characterData = processCharacterData(\n  characterDataRaw as Data.CharacterData[]\n);\nconst characterAscensionBonusData = processCharacterAscensionBonusData(\n  characterAscensionBonusDataRaw as Data.CharacterAscensionBonusDataRaw[]\n);\nconst characterStatCurveData = processCharacterStatCurveData(\n  characterStatCurveDataRaw as Data.StatCurveData[]\n);\nconst weaponData = processWeaponData(\n  weaponDataRaw as unknown as Data.WeaponData[]\n);\nconst weaponAscensionBonusData = processWeaponAscensionBonusData(\n  weaponAscensionBonusDataRaw as Data.WeaponAscensionBonusDataRaw[]\n);\nconst weaponStatCurveData = processWeaponStatCurveData(\n  weaponStatCurveDataRaw as Data.StatCurveData[]\n);\nconst talentData = processTalentData(\n  talentDataRaw as Data.CharacterTalentDataRaw[]\n);\nconst artifactSetData = processArtifactSetData(\n  artifactSetDataRaw as Data.ArtifactSetData[]\n);\nconst artifactSetBonusData = processArtifactSetBonusData(\n  artifactSetBonusDataRaw as Data.ArtifactSetBonusDataRaw[]\n);\nconst artifactMainStatData =\n  artifactMainStatDataRaw as Data.ArtifactMainStatData;\nconst weaponPassiveData = weaponPassiveDataRaw as Record<\n  string,\n  Data.WeaponPassiveSetData\n>;\n\n// Pre-processed data, lists\nlet sortedCharacterList: string[]; // lazy loading implemented with getSortedCharacterList()\nlet sortedWeaponList: string[]; // lazy loading implemented with getSortedWeaponList()\nlet sortedArtifactSetList: string[]; // lazy loading implemented with getSortedArtifactSetList()\n\n// Functions for pre-processing data\nfunction processCharacterData(rawData: Data.CharacterData[]) {\n  return rawData.reduce((acc, charData) => {\n    acc[charData.id] = charData;\n    return acc;\n  }, {} as Record<string, Data.CharacterData>);\n}\n\nfunction processCharacterAscensionBonusData(\n  rawData: Data.CharacterAscensionBonusDataRaw[]\n) {\n  return rawData.reduce((acc, charData) => {\n    acc[charData.characterId] = charData.ascensionBonusSet.map(\n      (bonusData) => bonusData.ascensionBonuses\n    );\n    return acc;\n  }, {} as Record<string, Data.AscensionBonus[]>);\n}\n\nfunction processCharacterStatCurveData(rawData: Data.StatCurveData[]) {\n  return rawData.reduce((acc, curveData) => {\n    acc[curveData.level] = curveData.statCurves;\n    return acc;\n  }, {} as Record<number, Data.StatCurves>);\n}\n\nfunction processWeaponData(rawData: Data.WeaponData[]) {\n  return rawData.reduce((acc, weaponData) => {\n    acc[weaponData.id] = weaponData;\n    return acc;\n  }, {} as Record<string, Data.WeaponData>);\n}\n\nfunction processWeaponAscensionBonusData(\n  rawData: Data.WeaponAscensionBonusDataRaw[]\n) {\n  return rawData.reduce((acc, weaponData) => {\n    acc[weaponData.weaponId] = weaponData.ascensionBonusSet.map(\n      (bonusData) => bonusData.ascensionBonuses\n    );\n    return acc;\n  }, {} as Record<string, Data.AscensionBonus[]>);\n}\n\nfunction processWeaponStatCurveData(rawData: Data.StatCurveData[]) {\n  return rawData.reduce((acc, curveData) => {\n    acc[curveData.level] = curveData.statCurves;\n    return acc;\n  }, {} as Record<number, Data.StatCurves>);\n}\n\nfunction processTalentData(rawData: Data.CharacterTalentDataRaw[]) {\n  return rawData.reduce((acc, talentDataRaw) => {\n    const talentDataSetRaw = talentDataRaw.talents;\n\n    let talentData: Data.TalentDataSet = {\n      attack: talentDataSetRaw.attack.reduce((curveAcc, curveData) => {\n        curveAcc[curveData.level] = curveData.params;\n        return curveAcc;\n      }, {} as Data.TalentData),\n\n      skill: talentDataSetRaw.skill.reduce((curveAcc, curveData) => {\n        curveAcc[curveData.level] = curveData.params;\n        return curveAcc;\n      }, {} as Data.TalentData),\n\n      burst: talentDataSetRaw.burst.reduce((curveAcc, curveData) => {\n        curveAcc[curveData.level] = curveData.params;\n        return curveAcc;\n      }, {} as Data.TalentData),\n\n      passives: talentDataSetRaw.passives,\n    };\n\n    acc[talentDataRaw.characterId] = talentData;\n    return acc;\n  }, {} as Record<string, Data.TalentDataSet>);\n}\n\nfunction processArtifactSetData(rawData: Data.ArtifactSetData[]) {\n  return rawData.reduce((acc, setData) => {\n    acc[setData.id] = setData;\n    return acc;\n  }, {} as Record<string, Data.ArtifactSetData>);\n}\n\nfunction processArtifactSetBonusData(rawData: Data.ArtifactSetBonusDataRaw[]) {\n  return rawData.reduce((acc, setData) => {\n    acc[setData.setId] = setData.setBonusSet.reduce((bonusAcc, bonusData) => {\n      bonusAcc[bonusData.bonusThreshold] = bonusData;\n      return bonusAcc;\n    }, {} as Record<number, Data.ArtifactSetBonusSet>);\n    return acc;\n  }, {} as Record<string, Data.ArtifactSetBonusData>);\n}\n\n// Helper functions for accessing data properties\nfunction getData<T>(id: string, dataObj: Record<string, T>) {\n  return dataObj[id];\n}\n\nfunction getAscensionBonusData(\n  id: string,\n  dataObj: Record<string, Data.AscensionBonus[]>\n) {\n  return dataObj[id];\n}\n\nfunction getStatCurveAt(\n  level: number,\n  statCurves: Record<number, Data.StatCurves>\n) {\n  return statCurves[level];\n}\n\n// \"Public\" functions for accessing data properties\nexport function getCharacterData(id: string): Data.CharacterData {\n  return getData(id, characterData);\n}\n\nexport function getCharacterAscensionBonusData(id: string) {\n  return getAscensionBonusData(id, characterAscensionBonusData);\n}\n\nexport function getCharacterStatCurveAt(level: number) {\n  return getStatCurveAt(level, characterStatCurveData);\n}\n\nexport function getWeaponData(id: string): Data.WeaponData {\n  return getData(id, weaponData);\n}\n\nexport function getWeaponAscensionBonusData(id: string) {\n  return getAscensionBonusData(id, weaponAscensionBonusData);\n}\n\nexport function getWeaponStatCurveAt(level: number) {\n  return getStatCurveAt(level, weaponStatCurveData);\n}\n\nexport function getWeaponPassiveData(id: string) {\n  return getData(id, weaponPassiveData);\n}\n\nexport function getAscensionBonusAt(\n  level: number,\n  ascensionBonuses: Data.AscensionBonus[]\n) {\n  return ascensionBonuses[level];\n}\n\nexport function getTalentData(id: string) {\n  return talentData[id];\n}\n\nconst emptyTalentParams: number[] = Array(19).fill(NaN);\n\nexport function getTalentStatsAt(\n  type: TalentType,\n  level: number,\n  talents: Data.TalentDataSet\n) {\n  const talentStats = talents[type][level];\n  if (talentStats !== undefined) {\n    return talentStats;\n  } else {\n    return emptyTalentParams;\n  }\n}\n\nexport function getArtifactSetData(id: string): Data.ArtifactSetData {\n  return getData(id, artifactSetData);\n}\n\nexport function getArtifactSetBonusData(id: string): Data.ArtifactSetBonusData {\n  return getData(id, artifactSetBonusData);\n}\n\nexport function getArtifactSetBonusParams(id: string, pieces: number) {\n  const params = getArtifactSetBonusData(id)?.[pieces]?.bonusExtra?.params;\n  return params ?? emptyTalentParams;\n}\n\nexport function getArtifactMainStatValue(\n  rarity: number,\n  level: number,\n  prop: string\n) {\n  return artifactMainStatData[rarity]?.[level]?.[prop] ?? NaN;\n}\n\nexport function getWeaponPassiveAt(\n  refinement: number,\n  passives: Data.WeaponPassiveSetData\n): Data.WeaponPassiveData | undefined {\n  return passives.passive[refinement];\n}\n\n// \"Public\" functions for getting data collections\nexport function getSortedCharacterList() {\n  if (sortedCharacterList === undefined) {\n    sortedCharacterList = Object.entries(characterData)\n      .sort(([_1, { name: name1 }], [_2, { name: name2 }]) =>\n        name1.localeCompare(name2)\n      )\n      .map(([id, _]) => id);\n  }\n\n  return sortedCharacterList;\n}\n\nexport function getSortedWeaponList() {\n  if (sortedWeaponList === undefined) {\n    sortedWeaponList = Object.entries(weaponData)\n      .sort(([_1, { name: name1 }], [_2, { name: name2 }]) =>\n        name1.localeCompare(name2)\n      )\n      .map(([id, _]) => id);\n  }\n\n  return sortedWeaponList;\n}\n\nexport function getSortedArtifactSetList() {\n  if (sortedArtifactSetList === undefined) {\n    sortedArtifactSetList = Object.entries(artifactSetData)\n      .sort(([_1, { name: name1 }], [_2, { name: name2 }]) =>\n        name1.localeCompare(name2)\n      )\n      .map(([id, _]) => id);\n  }\n\n  return sortedArtifactSetList;\n}\n","import { Stats, TalentParams } from '../../data/types';\nimport DamageModifier from '../modifier/DamageModifer';\n\nexport interface TalentValue {\n  description: string;\n  damage: number[];\n}\n\nexport interface TalentValueSet {\n  attack: TalentValue[];\n  skill: TalentValue[];\n  burst: TalentValue[];\n}\n\nexport interface TalentProps {\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}\n\nexport enum TalentType {\n  Attack = 'attack',\n  Skill = 'skill',\n  Burst = 'burst',\n}\n\nexport enum Element {\n  Anemo = 'anemo',\n  Cryo = 'cryo',\n  Electro = 'electro',\n  Geo = 'geo',\n  Hydro = 'hydro',\n  Pyro = 'pyro',\n  Physical = 'physical',\n}\n\nexport enum AttackType {\n  Normal = 'normal',\n  Charged = 'charged',\n  Plunge = 'plunge',\n  Skill = 'skill',\n  Burst = 'burst',\n}\n\nexport enum ScalingType {\n  Attack = 'attack',\n  Defense = 'defense',\n  Hp = 'hp',\n}\n","import { Element } from './talent/types';\n\nexport default class Resistance {\n  private _resistance: Map<Element, number>;\n\n  constructor({\n    anemo = 0,\n    cryo = 0,\n    electro = 0,\n    geo = 0,\n    hydro = 0,\n    pyro = 0,\n    physical = 0,\n  } = {}) {\n    this._resistance = new Map();\n    this._resistance.set(Element.Anemo, anemo);\n    this._resistance.set(Element.Cryo, cryo);\n    this._resistance.set(Element.Electro, electro);\n    this._resistance.set(Element.Geo, geo);\n    this._resistance.set(Element.Hydro, hydro);\n    this._resistance.set(Element.Pyro, pyro);\n    this._resistance.set(Element.Physical, physical);\n  }\n\n  get(element: Element) {\n    return this._resistance.get(element) ?? NaN;\n  }\n\n  set(element: Element, value: number) {\n    this._resistance.set(element, value);\n  }\n\n  add(element: Element, value: number) {\n    if (!isNaN(value)) {\n      const prevValue = this._resistance.get(element) ?? 0;\n      this._resistance.set(element, prevValue + value);\n    }\n  }\n}\n","import Talent from './Talent';\nimport { TalentValue } from './types';\n\nconst defaultTalent: Talent = {\n  attack: defaultTalentFn,\n  skill: defaultTalentFn,\n  burst: defaultTalentFn,\n};\n\nexport default defaultTalent;\n\n// Placeholder function\nexport function defaultTalentFn(): TalentValue[] {\n  return [];\n}\n","import { TalentProps, TalentValue } from './types';\n\nimport defaultTalent from './DefaultTalent';\nimport lisaTalent from './LisaTalent';\nimport barbaraTalent from './BarbaraTalent';\nimport kaeyaTalent from './KaeyaTalent';\nimport dilucTalent from './DilucTalent';\nimport razorTalent from './RazorTalent';\nimport amberTalent from './AmberTalent';\nimport ventiTalent from './VentiTalent';\nimport xianglingTalent from './XianglingTalent';\nimport beidouTalent from './BeidouTalent';\nimport xingqiuTalent from './XingqiuTalent';\nimport xiaoTalent from './XiaoTalent';\nimport ningguangTalent from './NingguangTalent';\nimport kleeTalent from './KleeTalent';\nimport zhongliTalent from './ZhongliTalent';\nimport fischlTalent from './FischlTalent';\nimport bennettTalent from './BennettTalent';\nimport tartagliaTalent from './TartagliaTalent';\nimport noelleTalent from './NoelleTalent';\nimport qiqiTalent from './QiqiTalent';\nimport chongyunTalent from './ChongyunTalent';\nimport ganyuTalent from './GanyuTalent';\nimport albedoTalent from './AlbedoTalent';\nimport dionaTalent from './DionaTalent';\nimport monaTalent from './MonaTalent';\nimport keqingTalent from './KeqingTalent';\nimport sucroseTalent from './SucroseTalent';\nimport xinyanTalent from './XinyanTalent';\nimport rosariaTalent from './RosariaTalent';\nimport hutaoTalent from './HutaoTalent';\nimport yanfeiTalent from './YanfeiTalent';\nimport eulaTalent from './EulaTalent';\nimport jeanTalent from './JeanTalent';\nimport ayakaTalent from './AyakaTalent';\nimport yoimiyaTalent from './YoimiyaTalent';\nimport sayuTalent from './SayuTalent';\nimport kazuhaTalent from './KazuhaTalent';\nimport raidenTalent from './RaidenTalent';\nimport kokomiTalent from './KokomiTalent';\nimport saraTalent from './SaraTalent';\nimport aloyTalent from './AloyTalent';\n\nexport default interface Talent {\n  attack: (props: TalentProps) => TalentValue[];\n  skill: (props: TalentProps) => TalentValue[];\n  burst: (props: TalentProps) => TalentValue[];\n}\n\nexport const talents: Record<string, Talent> = {\n  defaultTalent,\n  ayaka: ayakaTalent,\n  jean: jeanTalent,\n  lisa: lisaTalent,\n  barbara: barbaraTalent,\n  kaeya: kaeyaTalent,\n  diluc: dilucTalent,\n  razor: razorTalent,\n  amber: amberTalent,\n  venti: ventiTalent,\n  xiangling: xianglingTalent,\n  beidou: beidouTalent,\n  xingqiu: xingqiuTalent,\n  xiao: xiaoTalent,\n  ningguang: ningguangTalent,\n  klee: kleeTalent,\n  zhongli: zhongliTalent,\n  fischl: fischlTalent,\n  bennett: bennettTalent,\n  tartaglia: tartagliaTalent,\n  noelle: noelleTalent,\n  qiqi: qiqiTalent,\n  chongyun: chongyunTalent,\n  ganyu: ganyuTalent,\n  albedo: albedoTalent,\n  diona: dionaTalent,\n  mona: monaTalent,\n  keqing: keqingTalent,\n  sucrose: sucroseTalent,\n  xinyan: xinyanTalent,\n  rosaria: rosariaTalent,\n  hutao: hutaoTalent,\n  kazuha: kazuhaTalent,\n  yanfei: yanfeiTalent,\n  yoimiya: yoimiyaTalent,\n  eula: eulaTalent,\n  raiden: raidenTalent,\n  sayu: sayuTalent,\n  kokomi: kokomiTalent,\n  sara: saraTalent,\n  aloy: aloyTalent,\n};\n","enum Reaction {\r\n  None = 'None',\r\n  Swirl = 'Swirl',\r\n  Crystallize = 'Crystallize',\r\n  Melt = 'Melt',\r\n  Vaporize = 'Vaporize',\r\n  Overload = 'Overload',\r\n  Superconduct = 'Superconduct',\r\n  Electrocharged = 'Electrocharged',\r\n  Frozen = 'Frozen',\r\n}\r\n\r\nexport default Reaction;\r\n","import Talent from './Talent';\nimport { attackLightMulti, burstBase, skillDefault } from './TalentUtil';\nimport { Element, TalentProps } from './types';\n\nconst ayakaTalent: Talent = {\n  attack: ayakaAttack,\n  skill: ayakaSkill,\n  burst: ayakaBurst,\n};\n\nexport default ayakaTalent;\n\nfunction ayakaAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 1, 3, 1],\n    chargedHits: 3,\n    element: modifier.infusion ?? Element.Physical,\n    params: params\n      .slice(0, 4)\n      .concat([params[6], params[7], params[7]])\n      .concat(params.slice(7, 12)),\n    stats,\n    modifier,\n  });\n}\n\nfunction ayakaSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Cryo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction ayakaBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'cuttingDmg',\n      element: Element.Cryo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'bloomDmg',\n      element: Element.Cryo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackLightDefault,\n  burstBase,\n  healingSkillBase,\n  skillDefault,\n} from './TalentUtil';\nimport { Element, ScalingType, TalentProps } from './types';\n\nconst jeanTalent: Talent = {\n  attack: jeanAttack,\n  skill: jeanSkill,\n  burst: jeanBurst,\n};\n\nexport default jeanTalent;\n\nfunction jeanAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({ normalHits: 5, params, stats, modifier });\n}\n\nfunction jeanSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({ element: Element.Anemo, params, stats, modifier });\n}\n\nfunction jeanBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Anemo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'fieldEnterExitDmg',\n      element: Element.Anemo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'fieldActivationHealing',\n      scalingType: ScalingType.Attack,\n      params: params.slice(2, 4),\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenContinuous',\n      scalingType: ScalingType.Attack,\n      params: params.slice(4, 6),\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport { attackLightDefault, skillBase, burstDefault } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst lisaTalent: Talent = {\n  attack: lisaAttack,\n  skill: lisaSkill,\n  burst: lisaBurst,\n};\n\nexport default lisaTalent;\n\nfunction lisaAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({\n    normalHits: 4,\n    element: Element.Electro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction lisaSkill({ params, stats, modifier }: TalentProps) {\n  let talentDmg = [];\n\n  talentDmg.push(\n    skillBase({\n      description: 'pressDmg',\n      element: Element.Electro,\n      multiplier: params[5],\n      stats,\n      modifier,\n    })\n  );\n\n  for (let i = 0; i <= 3; i++) {\n    talentDmg.push(\n      skillBase({\n        description: `holdDmgStack${i}`,\n        element: Element.Electro,\n        multiplier: params[i],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return talentDmg;\n}\n\nfunction lisaBurst({ params, stats, modifier }: TalentProps) {\n  return burstDefault({\n    element: Element.Electro,\n    params,\n    stats,\n    modifier,\n  });\n}\n","import Talent from './Talent';\nimport { attackLightDefault, healingSkillBase, skillBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst barbaraTalent: Talent = {\n  attack: barbaraAttack,\n  skill: barbaraSkill,\n  burst: barbaraBurst,\n};\n\nexport default barbaraTalent;\n\nfunction barbaraAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({\n    normalHits: 4,\n    element: Element.Hydro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction barbaraSkill({ params, stats, modifier }: TalentProps) {\n  let talentDmg = [\n    healingSkillBase({\n      description: 'hpRegenContinuous',\n      params: params.slice(0, 2),\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenOnHit',\n      params: params.slice(2, 4),\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'dropletDmg',\n      element: Element.Hydro,\n      multiplier: params[4],\n      stats,\n      modifier,\n    }),\n  ];\n\n  return talentDmg;\n}\n\nfunction barbaraBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    healingSkillBase({\n      description: 'hpRegen',\n      params,\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport { attackLightMulti, skillDefault, burstDefault } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst kaeyaTalent: Talent = {\n  attack: kaeyaAttack,\n  skill: kaeyaSkill,\n  burst: kaeyaBurst,\n};\n\nexport default kaeyaTalent;\n\nfunction kaeyaAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 1, 1, 1],\n    chargedHits: 2,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction kaeyaSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Cryo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction kaeyaBurst({ params, stats, modifier }: TalentProps) {\n  return burstDefault({\n    element: Element.Cryo,\n    params,\n    stats,\n    modifier,\n  });\n}\n","import Talent from './Talent';\nimport { attackHeavyDefault, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst dilucTalent: Talent = {\n  attack: dilucAttack,\n  skill: dilucSkill,\n  burst: dilucBurst,\n};\n\nexport default dilucTalent;\n\nfunction dilucAttack({ params, stats, modifier }: TalentProps) {\n  const element = modifier.infusion ?? Element.Physical;\n  return attackHeavyDefault({\n    normalHits: 4,\n    element,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction dilucSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n  for (let i = 0; i < 3; i++) {\n    talentDamage.push(\n      skillBase({\n        description: `${i + 1}HitDmg`,\n        element: Element.Pyro,\n        multiplier: params[i],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return talentDamage;\n}\n\nfunction dilucBurst({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['slashingDmg', 'dot', 'explosionDmg'];\n  let talentDamage = descriptions.map((description, i) => {\n    return burstBase({\n      description,\n      element: Element.Pyro,\n      multiplier: params[i],\n      stats,\n      modifier,\n    });\n  });\n\n  return talentDamage;\n}\n","import { getTalentStatsAt, getTalentData } from '../Data';\nimport Talent from './Talent';\nimport {\n  attackHeavyDefault,\n  skillBase,\n  burstDefault,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, TalentType, Element } from './types';\n\nconst razorTalent: Talent = {\n  attack: razorAttack,\n  skill: razorSkill,\n  burst: razorBurst,\n};\n\nexport default razorTalent;\n\nfunction razorAttack({ params, stats, modifier }: TalentProps) {\n  return attackHeavyDefault({\n    normalHits: 4,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction razorSkill({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['pressDmg', 'holdDmg'];\n  return descriptions.map((description, i) => {\n    return skillBase({\n      description,\n      element: Element.Electro,\n      multiplier: params[i],\n      stats,\n      modifier,\n    });\n  });\n}\n\nfunction razorBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = burstDefault({\n    element: Element.Electro,\n    params,\n    stats,\n    modifier,\n  });\n\n  let attackParams = getTalentStatsAt(\n    TalentType.Attack,\n    modifier.talentAttackLevel,\n    getTalentData('razor')\n  );\n\n  for (let i = 0; i < 4; i++) {\n    talentDamage.push(\n      burstBase({\n        description: `${i + 1}HitDmgSoulCompanion`,\n        element: Element.Electro,\n        multiplier: params[1] * attackParams[i],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport { attackBowDefault, skillBase, hpBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst amberTalent: Talent = {\n  attack: amberAttack,\n  skill: amberSkill,\n  burst: amberBurst,\n};\n\nexport default amberTalent;\n\nfunction amberAttack({ params, stats, modifier }: TalentProps) {\n  return attackBowDefault({\n    normalHits: 5,\n    chargedElement: Element.Pyro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction amberSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    skillBase({\n      description: 'explosionDmg',\n      element: Element.Electro,\n      multiplier: params[1],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    hpBase({\n      description: 'baronBunnyHp',\n      multiplier: params[0],\n      flatBonus: 0,\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction amberBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    burstBase({\n      description: 'dmgPerWave',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push({\n    description: 'totalDmg',\n    damage: [talentDamage[0].damage[0] * 18],\n  });\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport { attackBowDefault, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst ventiTalent: Talent = {\n  attack: ventiAttack,\n  skill: ventiSkill,\n  burst: ventiBurst,\n};\n\nexport default ventiTalent;\n\nfunction ventiAttack({ params, stats, modifier }: TalentProps) {\n  return attackBowDefault({\n    normalHits: 6,\n    chargedElement: Element.Anemo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction ventiSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'pressDmg',\n      element: Element.Anemo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'holdDmg',\n      element: Element.Anemo,\n      multiplier: params[2],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction ventiBurst({ params, stats, modifier }: TalentProps) {\n  let talentValues = [];\n  talentValues.push(\n    burstBase({\n      description: 'dot',\n      element: Element.Anemo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  if (modifier.elementalAbsorption !== undefined) {\n    talentValues.push(\n      burstBase({\n        description: 'dotElementalAbsorption',\n        element: modifier.elementalAbsorption,\n        multiplier: params[1],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return talentValues;\n}\n","import Talent from './Talent';\nimport { attackLightMulti, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst xianglingTalent: Talent = {\n  attack: xianglingAttack,\n  skill: xianglingSkill,\n  burst: xianglingBurst,\n};\n\nexport default xianglingTalent;\n\nfunction xianglingAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 2, 4, 1],\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction xianglingSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'guobaDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction xianglingBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  for (let i = 0; i < 3; i++) {\n    talentDamage.push(\n      burstBase({\n        description: `swing${i + 1}HitDmg`,\n        element: Element.Pyro,\n        multiplier: params[i],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  talentDamage.push(\n    burstBase({\n      description: 'pyronadoDmg',\n      element: Element.Pyro,\n      multiplier: params[3],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport {\n  attackHeavyDefault,\n  shieldBase,\n  skillBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst beidouTalent: Talent = {\n  attack: beidouAttack,\n  skill: beidouSkill,\n  burst: beidouBurst,\n};\n\nexport default beidouTalent;\n\nfunction beidouAttack({ params, stats, modifier }: TalentProps) {\n  return attackHeavyDefault({\n    normalHits: 5,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction beidouSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    shieldBase({\n      description: 'shieldHp',\n      multiplier: params[0],\n      flatBonus: params[1],\n      element: Element.Electro,\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    skillBase({\n      description: 'baseDmg',\n      element: Element.Electro,\n      multiplier: params[2],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    skillBase({\n      description: 'dmgBonusOnHitTaken',\n      element: Element.Electro,\n      multiplier: params[3],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction beidouBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    burstBase({\n      description: 'skillDmg',\n      element: Element.Electro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    burstBase({\n      description: 'lightningDmg',\n      element: Element.Electro,\n      multiplier: params[1],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport { attackLightMulti, skillMultiBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst xingqiuTalent: Talent = {\n  attack: xingqiuAttack,\n  skill: xingqiuSkill,\n  burst: xingqiuBurst,\n};\n\nexport default xingqiuTalent;\n\nfunction xingqiuAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 2, 1, 2],\n    chargedHits: 2,\n    params: params\n      .slice(0, 3)\n      .concat(params.slice(4, 6))\n      .concat(params.slice(7)),\n    stats,\n    modifier,\n  });\n}\n\nfunction xingqiuSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillMultiBase({\n      description: 'skillDmg',\n      hits: 2,\n      element: Element.Hydro,\n      params,\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction xingqiuBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'swordRainDmg',\n      element: Element.Hydro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import { defaultTalentFn } from './DefaultTalent';\nimport Talent from './Talent';\nimport { attackLightMulti, skillDefault } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst xiaoTalent: Talent = {\n  attack: xiaoAttack,\n  skill: xiaoSkill,\n  burst: xiaoBurst,\n};\n\nexport default xiaoTalent;\n\nfunction xiaoAttack({ params, stats, modifier }: TalentProps) {\n  const element = modifier.infusion ?? Element.Physical;\n\n  return attackLightMulti({\n    normalHits: [2, 1, 1, 2, 1, 1],\n    element,\n    params: params.slice(1, 5).concat(params.slice(6)),\n    stats,\n    modifier,\n  });\n}\n\nfunction xiaoSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Anemo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction xiaoBurst({ params, stats, modifier }: TalentProps) {\n  return defaultTalentFn();\n}\n","import Talent from './Talent';\nimport {\n  calculateTotalDamage,\n  chargedAttackDefault,\n  plungeAttackDefault,\n  skillBase,\n  hpBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst ningguangTalent: Talent = {\n  attack: ningguangAttack,\n  skill: ningguangSkill,\n  burst: ningguangBurst,\n};\n\nexport default ningguangTalent;\n\nfunction ningguangAttack({ params, stats, modifier }: TalentProps) {\n  let talentDmg = [];\n\n  // Ningguang's normal attack has no combo\n  let normalAtkDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[0],\n    element: Element.Geo,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentDmg.push({\n    description: 'normalAtkDmg',\n    damage: [normalAtkDmg],\n  });\n\n  talentDmg.push(\n    ...chargedAttackDefault({\n      element: Element.Geo,\n      params: params.slice(1, 2),\n      stats,\n      modifier,\n    })\n  );\n\n  // Ningguang's charged attack dmg per star jade\n  let starJadeDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[2],\n    element: Element.Geo,\n    attackType: AttackType.Charged,\n    modifier,\n  });\n  talentDmg.push({\n    description: 'starJadeDmg',\n    damage: [starJadeDmg],\n  });\n\n  talentDmg.push(\n    ...plungeAttackDefault({\n      element: Element.Geo,\n      params: params.slice(4),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDmg;\n}\n\nfunction ningguangSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    skillBase({\n      description: 'skillDmg',\n      element: Element.Geo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    hpBase({\n      description: 'jadeScreenHp',\n      multiplier: params[2],\n      flatBonus: 0,\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction ningguangBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'dmgPerGem',\n      element: Element.Geo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport { attackLightDefault, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst kleeTalent: Talent = {\n  attack: kleeAttack,\n  skill: kleeSkill,\n  burst: kleeBurst,\n};\n\nexport default kleeTalent;\n\nfunction kleeAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({\n    normalHits: 3,\n    element: Element.Pyro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction kleeSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'jumpyDumptyDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'mineDmg',\n      element: Element.Pyro,\n      multiplier: params[3],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction kleeBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'sparksNSplashDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackLightMulti,\n  skillBase,\n  shieldBase,\n  burstDefault,\n} from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst zhongliTalent: Talent = {\n  attack: zhongliAttack,\n  skill: zhongliSkill,\n  burst: zhongliBurst,\n};\n\nexport default zhongliTalent;\n\nfunction zhongliAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 1, 1, 4, 1],\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction zhongliSkill({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['stoneSteeleDmg', 'resonanceDmg'];\n\n  let talentDamage = descriptions.map((description, i) => {\n    return skillBase({\n      description,\n      element: Element.Geo,\n      multiplier: params[i],\n      stats,\n      modifier,\n    });\n  });\n\n  talentDamage.push(\n    skillBase({\n      description: 'holdDmg',\n      element: Element.Geo,\n      multiplier: params[3],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    shieldBase({\n      description: 'shieldHp',\n      multiplier: params[5],\n      flatBonus: params[4],\n      element: Element.Geo,\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction zhongliBurst({ params, stats, modifier }: TalentProps) {\n  return burstDefault({\n    element: Element.Geo,\n    params,\n    stats,\n    modifier,\n  });\n}\n","import Talent from './Talent';\nimport { attackBowDefault, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst fischlTalent: Talent = {\n  attack: fischlAttack,\n  skill: fischlSkill,\n  burst: fischlBurst,\n};\n\nexport default fischlTalent;\n\nfunction fischlAttack({ params, stats, modifier }: TalentProps) {\n  return attackBowDefault({\n    normalHits: 5,\n    chargedElement: Element.Electro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction fischlSkill({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['ozDmg', 'summoningDmg'];\n  return descriptions.map((description, i) =>\n    skillBase({\n      description,\n      element: Element.Electro,\n      multiplier: params[i],\n      stats,\n      modifier,\n    })\n  );\n}\n\nfunction fischlBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'fallingThunderDmg',\n      element: Element.Electro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackLightMulti,\n  skillBase,\n  skillMultiBase,\n  burstBase,\n  healingSkillBase,\n  baseAtkBuff,\n} from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst bennettTalent: Talent = {\n  attack: bennettAttack,\n  skill: bennettSkill,\n  burst: bennettBurst,\n};\n\nexport default bennettTalent;\n\nfunction bennettAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 1, 1, 1],\n    chargedHits: 2,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction bennettSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'pressDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    skillMultiBase({\n      description: 'chargeLevel1Dmg',\n      hits: 2,\n      element: Element.Pyro,\n      params: params.slice(1, 3),\n      stats,\n      modifier,\n    }),\n\n    skillMultiBase({\n      description: 'chargeLevel2Dmg',\n      hits: 2,\n      element: Element.Pyro,\n      params: params.slice(3, 5),\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'explosionDmg',\n      element: Element.Pyro,\n      multiplier: params[5],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction bennettBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenContinuousPerSecond',\n      params: params.slice(1, 3),\n      stats,\n      modifier,\n    }),\n\n    baseAtkBuff({\n      multiplier: params[3],\n      stats,\n      modifier,\n    }),\n  ];\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport {\n  attackBowDefault,\n  calculateTotalDamage,\n  skillBase,\n  normalAttackMulti,\n  chargedAttackMulti,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst tartagliaTalent: Talent = {\n  attack: tartagliaAttack,\n  skill: tartagliaSkill,\n  burst: tartagliaBurst,\n};\n\nexport default tartagliaTalent;\n\nfunction tartagliaAttack({ params, stats, modifier }: TalentProps) {\n  let talentDamage = attackBowDefault({\n    normalHits: 6,\n    chargedElement: Element.Hydro,\n    params: params.slice(0, 8).concat(params.slice(10)),\n    stats,\n    modifier,\n  });\n\n  let riptideFlashDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[8],\n    element: Element.Hydro,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentDamage.push({\n    description: 'riptideFlashDmg',\n    damage: [riptideFlashDmg],\n  });\n\n  let riptideBurstDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[9],\n    element: Element.Hydro,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentDamage.push({\n    description: 'riptideBurstDmg',\n    damage: [riptideBurstDmg],\n  });\n\n  return talentDamage;\n}\n\nfunction tartagliaSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    skillBase({\n      description: 'stanceChangeDmg',\n      element: Element.Hydro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    ...normalAttackMulti({\n      hits: [1, 1, 1, 1, 1, 2],\n      element: Element.Hydro,\n      params: params.slice(1, 8),\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    ...chargedAttackMulti({\n      hits: 2,\n      element: Element.Hydro,\n      params: params.slice(8, 10),\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    skillBase({\n      description: 'riptideSlashDmg',\n      element: Element.Hydro,\n      multiplier: params[10],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction tartagliaBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmgMelee',\n      element: Element.Hydro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'burstDmgRanged',\n      element: Element.Hydro,\n      multiplier: params[2],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'riptideBlastDmg',\n      element: Element.Hydro,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackHeavyDefault,\n  calculateTotalDamage,\n  shieldBase,\n  healingSkillBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, ScalingType, AttackType, Element } from './types';\n\nconst noelleTalent: Talent = {\n  attack: noelleAttack,\n  skill: noelleSkill,\n  burst: noelleBurst,\n};\n\nexport default noelleTalent;\n\nfunction noelleAttack({ params, stats, modifier }: TalentProps) {\n  const element = modifier.infusion ?? Element.Physical;\n\n  return attackHeavyDefault({\n    normalHits: 4,\n    element,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction noelleSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  let skillDamage = calculateTotalDamage({\n    stats,\n    multiplier: params[5],\n    element: Element.Geo,\n    scalingType: ScalingType.Defense,\n    attackType: AttackType.Skill,\n    modifier,\n  });\n  talentDamage.push({\n    description: 'skillDmg',\n    damage: [skillDamage],\n  });\n\n  talentDamage.push(\n    shieldBase({\n      description: 'shieldHp',\n      multiplier: params[0],\n      flatBonus: params[6],\n      element: Element.Geo,\n      scalingType: ScalingType.Defense,\n      stats,\n      modifier,\n    })\n  );\n\n  talentDamage.push(\n    healingSkillBase({\n      description: 'healing',\n      params: [params[1], params[7]],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction noelleBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstInitDmg',\n      element: Element.Geo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'firstSwingDmg',\n      element: Element.Geo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackLightMulti,\n  skillBase,\n  healingSkillBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, ScalingType, Element } from './types';\n\nconst qiqiTalent: Talent = {\n  attack: qiqiAttack,\n  skill: qiqiSkill,\n  burst: qiqiBurst,\n};\n\nexport default qiqiTalent;\n\nfunction qiqiAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 2, 2, 1],\n    chargedHits: 2,\n    params: params.slice(0, 6).concat(params[5]).concat(params.slice(6)),\n    stats,\n    modifier,\n  });\n}\n\nfunction qiqiSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'skillDmg',\n      element: Element.Cryo,\n      multiplier: params[7],\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'heraldOfFrostDmg',\n      element: Element.Cryo,\n      multiplier: params[4],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenOnHit',\n      scalingType: ScalingType.Attack,\n      params: params.slice(0, 2),\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenContinuous',\n      scalingType: ScalingType.Attack,\n      params: params.slice(2, 4),\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction qiqiBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Cryo,\n      multiplier: params[2],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'healing',\n      scalingType: ScalingType.Attack,\n      params,\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport { attackHeavyDefault, skillDefault, burstDefault } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst chongyunTalent: Talent = {\n  attack: chongyunAttack,\n  skill: chongyunSkill,\n  burst: chongyunBurst,\n};\n\nexport default chongyunTalent;\n\nfunction chongyunAttack({ params, stats, modifier }: TalentProps) {\n  const element = modifier.infusion ?? Element.Physical;\n  return attackHeavyDefault({\n    normalHits: 4,\n    element,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction chongyunSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Cryo,\n    params: params,\n    stats,\n    modifier,\n  });\n}\n\nfunction chongyunBurst({ params, stats, modifier }: TalentProps) {\n  return burstDefault({\n    element: Element.Cryo,\n    params: params,\n    stats,\n    modifier,\n  });\n}\n","import Talent from './Talent';\nimport {\n  normalAttackDefault,\n  calculateTotalDamage,\n  plungeAttackDefault,\n  skillBase,\n  hpBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst ganyuTalent: Talent = {\n  attack: ganyuAttack,\n  skill: ganyuSkill,\n  burst: ganyuBurst,\n};\n\nexport default ganyuTalent;\n\nfunction ganyuAttack({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  // Normal attack\n  talentDamage.push(\n    ...normalAttackDefault({\n      hits: 6,\n      element: Element.Physical,\n      params,\n      stats,\n      modifier,\n    })\n  );\n\n  // Charged attack\n  let aimedShotDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[6],\n    element: Element.Physical,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentDamage.push({\n    description: 'aimShotDmg',\n    damage: [aimedShotDmg],\n  });\n\n  let chargedDescriptions = [\n    'aimShotChargeLevel1',\n    'frostflakeArrowDmg',\n    'frostflakeArrowBloomDmg',\n  ];\n  let chargedDmg = chargedDescriptions.map((description, i) => {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i + 7],\n      element: Element.Cryo,\n      attackType: AttackType.Charged,\n      modifier,\n    });\n\n    return {\n      description,\n      damage: [damage],\n    };\n  });\n  talentDamage.push(...chargedDmg);\n\n  talentDamage.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(10),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction ganyuSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'skillDmg',\n      element: Element.Cryo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n\n    hpBase({\n      description: 'iceLotusHp',\n      multiplier: params[0],\n      flatBonus: 0,\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction ganyuBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'iceShardDmg',\n      element: Element.Cryo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackLightMulti,\n  skillBase,\n  calculateTotalDamage,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, ScalingType, AttackType, Element } from './types';\n\nconst albedoTalent: Talent = {\n  attack: albedoAttack,\n  skill: albedoSkill,\n  burst: albedoBurst,\n};\n\nexport default albedoTalent;\n\nfunction albedoAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightMulti({\n    normalHits: [1, 1, 1, 1, 1],\n    chargedHits: 2,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction albedoSkill({ params, stats, modifier }: TalentProps) {\n  let talentDmg = [];\n\n  talentDmg.push(\n    skillBase({\n      description: 'skillDmg',\n      element: Element.Geo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  let transientBlossomDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[1],\n    element: Element.Geo,\n    scalingType: ScalingType.Defense,\n    attackType: AttackType.Skill,\n    modifier,\n  });\n  talentDmg.push({\n    description: 'transientBlossomDmg',\n    damage: [transientBlossomDmg],\n  });\n\n  return talentDmg;\n}\n\nfunction albedoBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Geo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'fatalBlossomDmg',\n      element: Element.Geo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  attackBowDefault,\n  skillBase,\n  shieldBase,\n  burstBase,\n  healingSkillBase,\n} from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst dionaTalent: Talent = {\n  attack: dionaAttack,\n  skill: dionaSkill,\n  burst: dionaBurst,\n};\n\nexport default dionaTalent;\n\nfunction dionaAttack({ params, stats, modifier }: TalentProps) {\n  return attackBowDefault({\n    normalHits: 5,\n    chargedElement: Element.Cryo,\n    params: params.slice(0, 5).concat(params.slice(6)),\n    stats,\n    modifier,\n  });\n}\n\nfunction dionaSkill({ params, stats, modifier }: TalentProps) {\n  let holdModifier = {\n    ...modifier,\n    dionaHoldSkill: true,\n  };\n\n  return [\n    skillBase({\n      description: 'icyPawDmgPerPaw',\n      element: Element.Cryo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    shieldBase({\n      description: 'shieldHpPress',\n      multiplier: params[1],\n      flatBonus: params[2],\n      element: Element.Cryo,\n      stats,\n      modifier,\n    }),\n\n    shieldBase({\n      description: 'shieldHpHold',\n      multiplier: params[1],\n      flatBonus: params[2],\n      element: Element.Cryo,\n      stats,\n      modifier: holdModifier,\n    }),\n  ];\n}\n\nfunction dionaBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Cryo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'continuousFieldDmg',\n      element: Element.Cryo,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'hpRegenContinuousTime',\n      params: params.slice(2),\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport { attackLightDefault, skillBase, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst monaTalent: Talent = {\n  attack: monaAttack,\n  skill: monaSkill,\n  burst: monaBurst,\n};\n\nexport default monaTalent;\n\nfunction monaAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({\n    normalHits: 4,\n    element: Element.Hydro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction monaSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'dot',\n      element: Element.Hydro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    skillBase({\n      description: 'explosionDmg',\n      element: Element.Hydro,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction monaBurst({ params, stats, modifier }: TalentProps) {\n  let modifiedStats = { ...stats };\n  if (modifiedStats.dmgBonus !== undefined) {\n    modifiedStats.dmgBonus += params[9];\n  } else {\n    modifiedStats.dmgBonus = params[9];\n  }\n\n  return [\n    burstBase({\n      description: 'explosionDmg',\n      element: Element.Hydro,\n      multiplier: params[1],\n      stats: modifiedStats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  calculateTotalDamage,\n  chargedAttackMulti,\n  plungeAttackDefault,\n  skillBase,\n  skillMultiBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst keqingTalent: Talent = {\n  attack: keqingAttack,\n  skill: keqingSkill,\n  burst: keqingBurst,\n};\n\nexport default keqingTalent;\n\nfunction keqingAttack({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  // Normal attack\n  for (let i = 0; i < 3; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    });\n    talentDamage.push({\n      description: `${i + 1}HitDmg`,\n      damage: [damage],\n    });\n  }\n\n  let hit4Dmg = [];\n  for (let i = 3; i < 5; i++) {\n    hit4Dmg.push(\n      calculateTotalDamage({\n        stats,\n        multiplier: params[i],\n        element: Element.Physical,\n        attackType: AttackType.Normal,\n        modifier,\n      })\n    );\n  }\n  talentDamage.push({\n    description: '4HitDmg',\n    damage: hit4Dmg,\n  });\n\n  let hit5Dmg = [\n    calculateTotalDamage({\n      stats,\n      multiplier: params[5],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    }),\n  ];\n  talentDamage.push({\n    description: `5HitDmg`,\n    damage: hit5Dmg,\n  });\n\n  // Charged attack\n  talentDamage.push(\n    ...chargedAttackMulti({\n      hits: 2,\n      element: Element.Physical,\n      params: params.slice(6, 8),\n      stats,\n      modifier,\n    })\n  );\n\n  // Plunge attack\n  talentDamage.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(9, 12),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction keqingSkill({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['lightningStilettoDmg', 'slashingDmg'];\n  let talentDamage = descriptions.map((description, i) => {\n    return skillBase({\n      description,\n      element: Element.Electro,\n      multiplier: params[i],\n      stats,\n      modifier,\n    });\n  });\n\n  talentDamage.push(\n    skillMultiBase({\n      description: 'thunderclapSlashDmg',\n      hits: 2,\n      element: Element.Electro,\n      params: [params[2], params[2]],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction keqingBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    burstBase({\n      description: 'burstInitDmg',\n      element: Element.Electro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  let consecutiveSlashDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[1],\n    element: Element.Electro,\n    attackType: AttackType.Burst,\n    modifier,\n  });\n  talentDamage.push({\n    description: 'consecutiveSlashDmg',\n    damage: Array(8).fill(consecutiveSlashDmg),\n  });\n\n  talentDamage.push(\n    burstBase({\n      description: 'lastAttackDmg',\n      element: Element.Electro,\n      multiplier: params[2],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport { attackLightDefault, skillDefault, burstBase } from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst sucroseTalent: Talent = {\n  attack: sucroseAttack,\n  skill: sucroseSkill,\n  burst: sucroseBurst,\n};\n\nexport default sucroseTalent;\n\nfunction sucroseAttack({ params, stats, modifier }: TalentProps) {\n  return attackLightDefault({\n    normalHits: 4,\n    element: Element.Anemo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction sucroseSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Anemo,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction sucroseBurst({ params, stats, modifier }: TalentProps) {\n  let talentValues = [];\n  talentValues.push(\n    burstBase({\n      description: 'dot',\n      element: Element.Anemo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  if (modifier.elementalAbsorption !== undefined) {\n    talentValues.push(\n      burstBase({\n        description: 'dotElementalAbsorption',\n        element: modifier.elementalAbsorption,\n        multiplier: params[1],\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return talentValues;\n}\n","import Talent from './Talent';\nimport {\n  attackHeavyDefault,\n  skillBase,\n  shieldBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, ScalingType, Element } from './types';\n\nconst xinyanTalent: Talent = {\n  attack: xinyanAttack,\n  skill: xinyanSkill,\n  burst: xinyanBurst,\n};\n\nexport default xinyanTalent;\n\nfunction xinyanAttack({ params, stats, modifier }: TalentProps) {\n  return attackHeavyDefault({\n    normalHits: 4,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction xinyanSkill({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  talentDamage.push(\n    skillBase({\n      description: 'swingDmg',\n      element: Element.Pyro,\n      multiplier: params[0],\n      stats,\n      modifier,\n    })\n  );\n\n  // Shields\n  for (let i = 0; i < 3; i++) {\n    talentDamage.push(\n      shieldBase({\n        description: `shieldHpLevel${i + 1}`,\n        multiplier: params[2 * i + 1],\n        flatBonus: params[2 * i + 2],\n        element: Element.Pyro,\n        scalingType: ScalingType.Defense,\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  talentDamage.push(\n    skillBase({\n      description: 'dot',\n      element: Element.Pyro,\n      multiplier: params[7],\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction xinyanBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element: Element.Physical,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'pyroDot',\n      element: Element.Pyro,\n      multiplier: params[1],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  normalAttackMulti,\n  calculateTotalDamage,\n  chargedAttackDefault,\n  plungeAttackDefault,\n  skillMultiBase,\n  burstMultiBase,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst rosariaTalent: Talent = {\n  attack: rosariaAttack,\n  skill: rosariaSkill,\n  burst: rosariaBurst,\n};\n\nexport default rosariaTalent;\n\nfunction rosariaAttack({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  // Normal attack\n  talentDamage.push(\n    ...normalAttackMulti({\n      hits: [1, 1, 2, 1],\n      element: Element.Physical,\n      params,\n      stats,\n      modifier,\n    })\n  );\n\n  let hit5Dmg = [];\n  for (let i = 4; i < 6; i++) {\n    hit5Dmg.push(\n      calculateTotalDamage({\n        stats,\n        multiplier: params[i],\n        element: Element.Physical,\n        attackType: AttackType.Normal,\n        modifier,\n      })\n    );\n  }\n  talentDamage.push({\n    description: '5HitDmg',\n    damage: hit5Dmg,\n  });\n\n  // Charged attack\n  talentDamage.push(\n    ...chargedAttackDefault({\n      element: Element.Physical,\n      params: params.slice(6, 7),\n      stats,\n      modifier,\n    })\n  );\n\n  // Plunge attack\n  talentDamage.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(8, 11),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction rosariaSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillMultiBase({\n      description: 'skillDmg',\n      hits: 2,\n      element: Element.Cryo,\n      params,\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction rosariaBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstMultiBase({\n      description: 'burstDmg',\n      hits: 2,\n      element: Element.Cryo,\n      params,\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'iceLanceDot',\n      element: Element.Cryo,\n      multiplier: params[2],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import Talent from './Talent';\nimport {\n  normalAttackDefault,\n  calculateTotalDamage,\n  chargedAttackDefault,\n  plungeAttackDefault,\n  skillBase,\n  burstBase,\n  healingSkillBase,\n} from './TalentUtil';\nimport { TalentProps, AttackType, TalentValue, Element } from './types';\n\nconst hutaoTalent: Talent = {\n  attack: hutaoAttack,\n  skill: hutaoSkill,\n  burst: hutaoBurst,\n};\n\nexport default hutaoTalent;\n\nfunction hutaoAttack({ params, stats, modifier }: TalentProps) {\n  const element = modifier.infusion ?? Element.Physical;\n\n  let talentDamage = [];\n\n  // Normal attack\n  talentDamage.push(\n    ...normalAttackDefault({\n      hits: 4,\n      element,\n      params,\n      stats,\n      modifier,\n    })\n  );\n\n  let hit5Dmg = [];\n  for (let i = 4; i < 6; i++) {\n    hit5Dmg.push(\n      calculateTotalDamage({\n        stats,\n        multiplier: params[i],\n        element,\n        attackType: AttackType.Normal,\n        modifier,\n      })\n    );\n  }\n  talentDamage.push({\n    description: '5HitDmg',\n    damage: hit5Dmg,\n  });\n\n  let hit6Dmg = [\n    calculateTotalDamage({\n      stats,\n      multiplier: params[6],\n      element,\n      attackType: AttackType.Normal,\n      modifier,\n    }),\n  ];\n  talentDamage.push({\n    description: '6HitDmg',\n    damage: hit6Dmg,\n  });\n\n  // Charged attack\n  talentDamage.push(\n    ...chargedAttackDefault({\n      element,\n      params: params.slice(7, 8),\n      stats,\n      modifier,\n    })\n  );\n\n  // Plunge attack\n  talentDamage.push(\n    ...plungeAttackDefault({\n      element,\n      params: params.slice(9, 12),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction hutaoSkill({ params, stats, modifier }: TalentProps) {\n  return [\n    skillBase({\n      description: 'bloodBlossomDmg',\n      element: Element.Pyro,\n      multiplier: params[2],\n      stats,\n      modifier,\n    }),\n  ];\n}\n\nfunction hutaoBurst({ params, stats, modifier }: TalentProps) {\n  let talentDamage: TalentValue[] = [];\n\n  let dmgDescriptions = ['burstDmg', 'burstDmgLowHp'];\n  dmgDescriptions.forEach((description, i) => {\n    talentDamage.push(\n      burstBase({\n        description,\n        element: Element.Pyro,\n        multiplier: params[i],\n        stats,\n        modifier,\n      })\n    );\n  });\n\n  let regenDescriptions = ['hpRegen', 'hpRegenLowHp'];\n  regenDescriptions.forEach((description, i) => {\n    talentDamage.push(\n      healingSkillBase({\n        description,\n        params: [params[i + 2], 0],\n        stats,\n        modifier,\n      })\n    );\n  });\n\n  return talentDamage;\n}\n","import Talent from './Talent';\nimport {\n  burstBase,\n  calculateTotalDamage,\n  chargedAttackMulti,\n  plungeAttackDefault,\n  skillBase,\n} from './TalentUtil';\nimport { AttackType, Element, TalentProps, TalentValue } from './types';\n\nconst kazuhaTalent: Talent = {\n  attack: kazuhaAttack,\n  skill: kazuhaSkill,\n  burst: kazuhaBurst,\n};\n\nexport default kazuhaTalent;\n\nfunction kazuhaAttack({ params, stats, modifier }: TalentProps) {\n  let talentValues: TalentValue[] = [];\n\n  // Normal attack\n  for (let i = 0; i < 2; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    });\n    talentValues.push({\n      description: `${i + 1}HitDmg`,\n      damage: [damage],\n    });\n  }\n\n  let hit3Dmg = [];\n  for (let i = 2; i < 4; i++) {\n    hit3Dmg.push(\n      calculateTotalDamage({\n        stats,\n        multiplier: params[i],\n        element: Element.Physical,\n        attackType: AttackType.Normal,\n        modifier,\n      })\n    );\n  }\n  talentValues.push({\n    description: '3HitDmg',\n    damage: hit3Dmg,\n  });\n\n  let hit4Dmg = [\n    calculateTotalDamage({\n      stats,\n      multiplier: params[4],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    }),\n  ];\n  talentValues.push({\n    description: `4HitDmg`,\n    damage: hit4Dmg,\n  });\n\n  let hit5Dmg = [];\n  const hit5DmgSingle = calculateTotalDamage({\n    stats,\n    multiplier: params[5],\n    element: Element.Physical,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  for (let i = 0; i < 3; i++) {\n    hit5Dmg.push(hit5DmgSingle);\n  }\n  talentValues.push({\n    description: `5HitDmg`,\n    damage: hit5Dmg,\n  });\n\n  // Charged attack\n  talentValues.push(\n    ...chargedAttackMulti({\n      hits: 2,\n      element: Element.Physical,\n      params: params.slice(6, 8),\n      stats,\n      modifier,\n    })\n  );\n\n  // Plunge attack\n  talentValues.push(\n    ...plungeAttackDefault({\n      element: modifier.infusionPlunge ?? Element.Physical,\n      params: params.slice(9, 12),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n\nfunction kazuhaSkill({ params, stats, modifier }: TalentProps) {\n  const descriptions = ['pressDmg', 'holdDmg'];\n  return descriptions.map((description, i) =>\n    skillBase({\n      description,\n      element: Element.Anemo,\n      multiplier: params[i * 2],\n      stats,\n      modifier,\n    })\n  );\n}\n\nfunction kazuhaBurst({ params, stats, modifier }: TalentProps) {\n  const descriptions = ['slashingDmg', 'dot'];\n  let talentValues = descriptions.map((description, i) =>\n    burstBase({\n      description,\n      element: Element.Anemo,\n      multiplier: params[i],\n      stats,\n      modifier,\n    })\n  );\n\n  if (modifier.elementalAbsorption !== undefined) {\n    talentValues.push(\n      burstBase({\n        description: 'dotElementalAbsorption',\n        element: modifier.elementalAbsorption,\n        multiplier: params[2],\n        stats,\n        modifier,\n      })\n    );\n  }\n  return talentValues;\n}\n","import Talent from './Talent';\nimport {\n  normalAttackDefault,\n  calculateTotalDamage,\n  plungeAttackDefault,\n  skillDefault,\n  burstDefault,\n} from './TalentUtil';\nimport { TalentProps, AttackType, Element } from './types';\n\nconst yanfeiTalent: Talent = {\n  attack: yanfeiAttack,\n  skill: yanfeiSkill,\n  burst: yanfeiBurst,\n};\n\nexport default yanfeiTalent;\n\nfunction yanfeiAttack({ params, stats, modifier }: TalentProps) {\n  let talentDamage = [];\n\n  // Normal attack\n  talentDamage.push(\n    ...normalAttackDefault({\n      hits: 3,\n      element: Element.Pyro,\n      params,\n      stats,\n      modifier,\n    })\n  );\n\n  // Charged attack\n  for (let i = 0; i < 5; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i + 3],\n      element: Element.Pyro,\n      attackType: AttackType.Charged,\n      modifier,\n    });\n    talentDamage.push({\n      description: `chargedDmgSeal${i}`,\n      damage: [damage],\n    });\n  }\n\n  // Plunge attack\n  talentDamage.push(\n    ...plungeAttackDefault({\n      element: Element.Pyro,\n      params: params.slice(15, 18),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentDamage;\n}\n\nfunction yanfeiSkill({ params, stats, modifier }: TalentProps) {\n  return skillDefault({\n    element: Element.Pyro,\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction yanfeiBurst({ params, stats, modifier }: TalentProps) {\n  return burstDefault({\n    element: Element.Pyro,\n    params,\n    stats,\n    modifier,\n  });\n}\n","import { getTalentData, getTalentStatsAt } from '../Data';\nimport { defaultTalentFn } from './DefaultTalent';\nimport Talent from './Talent';\nimport {\n  burstBase,\n  calculateTotalDamage,\n  normalAttackMulti,\n  plungeAttackDefault,\n} from './TalentUtil';\nimport { AttackType, Element, TalentProps, TalentType } from './types';\n\nconst yoimiyaTalent: Talent = {\n  attack: yoimiyaAttack,\n  skill: yoimiyaSkill,\n  burst: yoimiyaBurst,\n};\n\nexport default yoimiyaTalent;\n\nfunction yoimiyaAttack({ params, stats, modifier }: TalentProps) {\n  let talentValues = [];\n\n  // Normal attack\n  let normalAttackParams = params.slice(0, 5);\n  if (modifier.yoimiyaSkill) {\n    const skillParams = getTalentStatsAt(\n      TalentType.Skill,\n      modifier.talentSkillLevel,\n      getTalentData('yoimiya')\n    );\n    normalAttackParams = normalAttackParams.map(\n      (param) => param * skillParams[3]\n    );\n  }\n\n  talentValues.push(\n    ...normalAttackMulti({\n      hits: [2, 1, 1, 2, 1],\n      element: modifier.infusion ?? Element.Physical,\n      params: normalAttackParams,\n      stats,\n      modifier,\n    })\n  );\n\n  // Charged attack\n  let aimedShotDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[5],\n    element: Element.Physical,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentValues.push({\n    description: 'aimShotDmg',\n    damage: [aimedShotDmg],\n  });\n\n  let chargedAimedShotDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[6],\n    element: Element.Pyro,\n    attackType: AttackType.Charged,\n    modifier,\n  });\n  talentValues.push({\n    description: 'chargedAimShotDmg',\n    damage: [chargedAimedShotDmg],\n  });\n\n  let kindlingArrowDmg = calculateTotalDamage({\n    stats,\n    multiplier: params[7],\n    element: Element.Pyro,\n    attackType: AttackType.Charged,\n    modifier,\n  });\n  talentValues.push({\n    description: 'kindlingArrowDmg',\n    damage: [kindlingArrowDmg],\n  });\n\n  // Plunge attack\n  talentValues.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(8, 11),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n\nfunction yoimiyaSkill({ params, stats, modifier }: TalentProps) {\n  return defaultTalentFn();\n}\n\nfunction yoimiyaBurst({ params, stats, modifier }: TalentProps) {\n  const descriptions = ['burstDmg', 'aurousBlazeExplosionDmg'];\n\n  return descriptions.map((description, i) =>\n    burstBase({\n      description,\n      element: Element.Pyro,\n      multiplier: params[i],\n      stats,\n      modifier,\n    })\n  );\n}\n","import Talent from './Talent';\nimport {\n  attackHeavyMulti,\n  skillBase,\n  burstDefault,\n  burstBase,\n} from './TalentUtil';\nimport { TalentProps, Element } from './types';\n\nconst eulaTalent: Talent = {\n  attack: eulaAttack,\n  skill: eulaSkill,\n  burst: eulaBurst,\n};\n\nexport default eulaTalent;\n\nfunction eulaAttack({ params, stats, modifier }: TalentProps) {\n  return attackHeavyMulti({\n    normalHits: [1, 1, 2, 1, 2],\n    params,\n    stats,\n    modifier,\n  });\n}\n\nfunction eulaSkill({ params, stats, modifier }: TalentProps) {\n  let descriptions = ['pressDmg', 'holdDmg', 'icewhirlBrandDmg'];\n  return descriptions.map((description, i) => {\n    return skillBase({\n      description,\n      element: Element.Cryo,\n      multiplier: params[i],\n      stats,\n      modifier,\n    });\n  });\n}\n\nfunction eulaBurst({ params, stats, modifier }: TalentProps) {\n  let talentDmg = [];\n  talentDmg.push(\n    ...burstDefault({\n      element: Element.Cryo,\n      params,\n      stats,\n      modifier,\n    })\n  );\n\n  let descriptions = ['lightfallSwordBaseDmg', 'lightfallSwordStackDmg'];\n  let lightfallSwordParams = params.slice(1, 3);\n  let lightfallSwordTalent = descriptions.map((description, i) => {\n    return burstBase({\n      description,\n      element: Element.Physical,\n      multiplier: lightfallSwordParams[i],\n      stats,\n      modifier,\n    });\n  });\n\n  talentDmg.push(...lightfallSwordTalent);\n\n  return talentDmg;\n}\n","import { Stats, TalentParams } from '../../data/types';\nimport {\n  AttackType,\n  Element,\n  ScalingType,\n  TalentType,\n  TalentValue,\n} from './types';\nimport Resistance from '../Resistance';\nimport DamageModifier from '../modifier/DamageModifer';\nimport { talents } from './Talent';\nimport Reaction from '../modifier/Reaction';\nimport CritType from '../modifier/CritType';\n\n// Function to get specified talent\nexport function getTalentFn(characterId: string, type: TalentType) {\n  return talents[characterId]?.[type] ?? talents.defaultTalent[type];\n}\n\n// Functions to calculate Talent Values\nfunction getDamageBonus({\n  stats,\n  element,\n  attackType,\n}: {\n  stats: Stats;\n  element: Element;\n  attackType: AttackType;\n}) {\n  let dmgBonus = 1;\n  dmgBonus += stats.dmgBonus ?? 0;\n  dmgBonus += stats[`${element}DmgBonus`] ?? 0;\n  dmgBonus += stats[`${attackType}DmgBonus`] ?? 0;\n\n  return dmgBonus;\n}\nfunction calculateBaseDamage({\n  stats,\n  multiplier,\n  scalingType,\n  flatDmg = 0,\n}: {\n  stats: Stats;\n  multiplier: number;\n  scalingType: ScalingType;\n  flatDmg?: number;\n}) {\n  if (scalingType === ScalingType.Attack) {\n    return stats.flatAtk * multiplier + flatDmg;\n  } else if (scalingType === ScalingType.Defense) {\n    return stats.flatDef * multiplier + flatDmg;\n  } else if (scalingType === ScalingType.Hp) {\n    return stats.flatHp * multiplier + flatDmg;\n  } else {\n    return NaN;\n  }\n}\nfunction calculateResMultiplier({\n  element,\n  res = new Resistance(),\n  resReduction = new Resistance(),\n}: {\n  element: Element;\n  res?: Resistance;\n  resReduction?: Resistance;\n}) {\n  let totalRes = res.get(element) - resReduction.get(element);\n\n  if (totalRes < 0) {\n    return 1 - totalRes / 2;\n  } else if (totalRes < 0.75) {\n    return 1 - totalRes;\n  } else {\n    return 1 / (4 * totalRes + 1);\n  }\n}\nfunction calculateAmplifyingStrengthMultiplier(\n  reaction: Reaction,\n  triggerElement: Element\n) {\n  if (reaction === Reaction.Melt) {\n    if (triggerElement === Element.Pyro) {\n      return 2;\n    } else if (triggerElement === Element.Cryo) {\n      return 1.5;\n    } else return 1;\n  } else if (reaction === Reaction.Vaporize) {\n    if (triggerElement === Element.Hydro) {\n      return 2;\n    } else if (triggerElement === Element.Pyro) {\n      return 1.5;\n    } else return 1;\n  } else return 1;\n}\nfunction calculateAmplifyingReactionMultiplier({\n  reaction,\n  stats,\n  element,\n}: {\n  reaction: Reaction;\n  stats: Stats;\n  element: Element;\n}) {\n  const amplifyingStrength = calculateAmplifyingStrengthMultiplier(\n    reaction,\n    element\n  );\n\n  if (amplifyingStrength > 1) {\n    // Caulculate reactionbonus\n    let reactionBonus = 0;\n    switch (reaction) {\n      case Reaction.Vaporize:\n        reactionBonus = stats.vaporizeDmgBonus ?? 0;\n        break;\n      case Reaction.Melt:\n        reactionBonus = stats.meltDmgBonus ?? 0;\n        break;\n      default:\n        break;\n    }\n\n    // Calculate amplifying reaction multiplier\n    const elementalMastery = stats.elementalMastery ?? 0;\n    const baseMultiplier =\n      1 + (2.78 * elementalMastery) / (1400 + elementalMastery) + reactionBonus;\n    return amplifyingStrength * baseMultiplier;\n  } else {\n    return 1;\n  }\n}\nexport function calculateTotalDamage({\n  stats,\n  multiplier,\n  element,\n  scalingType = ScalingType.Attack,\n  attackType,\n  modifier,\n}: {\n  stats: Stats;\n  multiplier: number;\n  element: Element;\n  scalingType?: ScalingType;\n  attackType: AttackType;\n  modifier: DamageModifier;\n}) {\n  let flatDmg = modifier.flatDmg;\n  if (attackType === AttackType.Normal) {\n    flatDmg += modifier.normalAttackFlatDmg ?? 0;\n  } else if (attackType === AttackType.Charged) {\n    flatDmg += modifier.chargedAttackFlatDmg ?? 0;\n  } else if (attackType === AttackType.Skill) {\n    flatDmg += modifier.skillFlatDmg ?? 0;\n  }\n\n  let baseDmg = calculateBaseDamage({\n    stats,\n    multiplier,\n    scalingType,\n    flatDmg,\n  });\n  let dmgBonus = getDamageBonus({ stats, element, attackType });\n\n  let crit = 1;\n  if (modifier.critType === CritType.Crit) {\n    crit += stats.critDmg;\n  } else if (modifier.critType === CritType.Average) {\n    let critRate = stats.critRate;\n    if (attackType === AttackType.Charged) {\n      critRate += stats.chargedCritRate ?? 0;\n    } else if (attackType === AttackType.Burst) {\n      critRate += stats.burstCritRate ?? 0;\n    }\n    crit += Math.min(1, critRate) * stats.critDmg;\n  }\n\n  let enemyDefMultiplier =\n    (modifier.characterLevel + 100) /\n    (modifier.characterLevel +\n      100 +\n      (modifier.enemyLevel + 100) * (1 - modifier.enemyDefReduction));\n  let enemyResMultiplier = calculateResMultiplier({\n    element,\n    res: modifier.enemyRes,\n    resReduction: modifier.enemyResReduction,\n  });\n\n  const reactionMultiplier = calculateAmplifyingReactionMultiplier({\n    reaction: modifier.reaction,\n    stats,\n    element,\n  });\n\n  return (\n    baseDmg *\n    dmgBonus *\n    crit *\n    enemyDefMultiplier *\n    enemyResMultiplier *\n    reactionMultiplier\n  );\n}\nfunction calculateHealing({\n  stats,\n  multiplier,\n  flatHealing,\n  scalingType = ScalingType.Hp,\n}: {\n  stats: Stats;\n  multiplier: number;\n  flatHealing: number;\n  scalingType?: ScalingType;\n}) {\n  const baseHealing = calculateBaseDamage({\n    stats,\n    multiplier,\n    scalingType,\n    flatDmg: flatHealing,\n  });\n\n  // Incoming healing bonus is ignored because the healer's\n  // incoming healing bonus is not necessarily the same as the\n  // character being healed\n  return baseHealing * (1 + (stats.healingBonus ?? 0));\n}\n// Used for calculting hp of summons/shield\nfunction calculateHp({\n  stats,\n  multiplier,\n  flatBonus,\n  scalingType = ScalingType.Hp,\n}: {\n  stats: Stats;\n  multiplier: number;\n  flatBonus: number;\n  scalingType?: ScalingType;\n}) {\n  if (scalingType === ScalingType.Attack) {\n    return stats.flatAtk * multiplier + flatBonus;\n  } else if (scalingType === ScalingType.Defense) {\n    return stats.flatDef * multiplier + flatBonus;\n  } else if (scalingType === ScalingType.Hp) {\n    return stats.flatHp * multiplier + flatBonus;\n  } else {\n    return NaN;\n  }\n}\n// Used for calculating total shield strength\nfunction calculateDmgAbsorption({\n  stats,\n  multiplier,\n  flatBonus,\n  element,\n  scalingType = ScalingType.Hp,\n  modifier,\n}: {\n  stats: Stats;\n  multiplier: number;\n  flatBonus: number;\n  element: Element;\n  scalingType?: ScalingType;\n  modifier: DamageModifier;\n}) {\n  let dmgAbsorption = calculateHp({\n    stats,\n    multiplier,\n    flatBonus,\n    scalingType,\n  });\n\n  // Geo Shields\n  if (element === Element.Geo) dmgAbsorption *= 1.5;\n\n  // Shield bonus from external sources\n  if (stats.shieldStrength !== undefined)\n    dmgAbsorption *= 1 + stats.shieldStrength;\n\n  // Character-specific bonuses\n  // Diona Hold Skill\n  if (modifier.dionaHoldSkill) dmgAbsorption *= 1.75;\n\n  return dmgAbsorption;\n}\n// Used for all default normal attacks\nexport function normalAttackDefault({\n  hits,\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  hits: number;\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues: TalentValue[] = [];\n  for (let i = 0; i < hits; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element,\n      attackType: AttackType.Normal,\n      modifier,\n    });\n\n    talentValues.push({\n      description: `${i + 1}HitDmg`,\n      damage: [damage],\n    });\n  }\n\n  return talentValues;\n}\n// Used for all normal attacks with multiple damage instances in 1 hit e.g. polearms\nexport function normalAttackMulti({\n  hits = [],\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  hits?: number[];\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = hits.map((hitCount, i) => {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element,\n      attackType: AttackType.Normal,\n      modifier,\n    });\n\n    let damages = [];\n    for (let hit = 0; hit < hitCount; hit++) {\n      damages.push(damage);\n    }\n\n    return {\n      description: `${i + 1}HitDmg`,\n      damage: damages,\n    } as TalentValue;\n  });\n\n  return talentValues;\n}\n// Used for all 1-hit charged attacks\nexport function chargedAttackDefault({\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damage = calculateTotalDamage({\n    stats,\n    multiplier: params[0],\n    element,\n    attackType: AttackType.Charged,\n    modifier,\n  });\n\n  return [\n    {\n      description: 'chargedDmg',\n      damage: [damage],\n    },\n  ] as TalentValue[];\n}\n// Used for multi-hit charged attacks\nexport function chargedAttackMulti({\n  hits,\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  hits: number;\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damages = [];\n  for (let i = 0; i < hits; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element,\n      attackType: AttackType.Charged,\n      modifier,\n    });\n    damages.push(damage);\n  }\n\n  return [\n    {\n      description: `chargedDmg`,\n      damage: damages,\n    },\n  ] as TalentValue[];\n}\n// Used for all default claymore charged attacks\nexport function chargedAttackHeavy({\n  element = Element.Physical,\n  params,\n  stats,\n  modifier,\n}: {\n  element?: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let descriptions = ['chargedSpinDmg', 'chargedFinalDmg'];\n  return descriptions.map((description, i) => {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element,\n      attackType: AttackType.Charged,\n      modifier,\n    });\n\n    return {\n      description: description,\n      damage: [damage],\n    } as TalentValue;\n  });\n}\n// Used for all default plunge attacks\nexport function plungeAttackDefault({\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let descriptions = ['plungeDmg', 'lowPlungeDmg', 'highPlungeDmg'];\n  return descriptions.map((description, i) => {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element,\n      attackType: AttackType.Plunge,\n      modifier,\n    });\n\n    return {\n      description: description,\n      damage: [damage],\n    } as TalentValue;\n  });\n}\n// Used for all default sword/polearm/catalyst attacks\nexport function attackLightDefault({\n  normalHits,\n  element = Element.Physical,\n  params,\n  stats,\n  modifier,\n}: {\n  normalHits: number;\n  element?: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = [];\n\n  talentValues.push(\n    ...normalAttackDefault({\n      hits: normalHits,\n      element,\n      params: params.slice(0, normalHits),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...chargedAttackDefault({\n      element,\n      params: params.slice(normalHits, normalHits + 1),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...plungeAttackDefault({\n      element,\n      params: params.slice(normalHits + 1 + 1),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n// Used for all default sword/polearm attacks with multi damage instances\nexport function attackLightMulti({\n  normalHits = [],\n  chargedHits = 1,\n  element = Element.Physical,\n  params,\n  stats,\n  modifier,\n}: {\n  normalHits?: number[];\n  chargedHits?: number;\n  element?: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = [];\n\n  talentValues.push(\n    ...normalAttackMulti({\n      hits: normalHits,\n      element,\n      params: params.slice(0, normalHits.length),\n      stats,\n      modifier,\n    })\n  );\n\n  if (chargedHits === 1) {\n    talentValues.push(\n      ...chargedAttackDefault({\n        element,\n        params: params.slice(normalHits.length, normalHits.length + 1),\n        stats,\n        modifier,\n      })\n    );\n  } else {\n    talentValues.push(\n      ...chargedAttackMulti({\n        hits: chargedHits,\n        element,\n        params: params.slice(\n          normalHits.length,\n          normalHits.length + chargedHits\n        ),\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  talentValues.push(\n    ...plungeAttackDefault({\n      element,\n      params: params.slice(normalHits.length + chargedHits + 1),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n// Used for all default claymore attacks\nexport function attackHeavyDefault({\n  normalHits,\n  element = Element.Physical,\n  params,\n  stats,\n  modifier,\n}: {\n  normalHits: number;\n  element?: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = [];\n\n  talentValues.push(\n    ...normalAttackDefault({\n      hits: normalHits,\n      element,\n      params: params.slice(0, normalHits),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...chargedAttackHeavy({\n      element,\n      params: params.slice(normalHits, normalHits + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...plungeAttackDefault({\n      element,\n      params: params.slice(normalHits + 2 + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n// Used for all claymore attacks with multi damage instances\nexport function attackHeavyMulti({\n  normalHits = [],\n  element = Element.Physical,\n  params,\n  stats,\n  modifier,\n}: {\n  normalHits?: number[];\n  element?: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = [];\n\n  talentValues.push(\n    ...normalAttackMulti({\n      hits: normalHits,\n      element,\n      params: params.slice(0, normalHits.length),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...chargedAttackHeavy({\n      params: params.slice(normalHits.length, normalHits.length + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...plungeAttackDefault({\n      element,\n      params: params.slice(normalHits.length + 2 + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n// Used for all debault bow aim shots (include charged shots)\nexport function aimShotDefault({\n  chargedElement,\n  params,\n  stats,\n  modifier,\n}: {\n  chargedElement: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues: TalentValue[] = [];\n\n  let damage = calculateTotalDamage({\n    stats,\n    multiplier: params[0],\n    element: Element.Physical,\n    attackType: AttackType.Normal,\n    modifier,\n  });\n  talentValues.push({\n    description: 'aimShotDmg',\n    damage: [damage],\n  });\n\n  damage = calculateTotalDamage({\n    stats,\n    multiplier: params[1],\n    element: chargedElement,\n    attackType: AttackType.Charged,\n    modifier,\n  });\n  talentValues.push({\n    description: 'chargedAimShotDmg',\n    damage: [damage],\n  });\n\n  return talentValues;\n}\n// Used for all default bow attacks\nexport function attackBowDefault({\n  normalHits,\n  chargedElement,\n  params,\n  stats,\n  modifier,\n}: {\n  normalHits: number;\n  chargedElement: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let talentValues = [];\n\n  talentValues.push(\n    ...normalAttackDefault({\n      hits: normalHits,\n      element: Element.Physical,\n      params: params.slice(0, normalHits),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...aimShotDefault({\n      chargedElement,\n      params: params.slice(normalHits, normalHits + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  talentValues.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(normalHits + 2),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n// Base function for all damage skills. Returns an object representing a single line to be displayed.\n// The returned object should always be added into an array to construct the list of talent damage.\nexport function skillBase({\n  description,\n  element,\n  multiplier,\n  stats,\n  modifier,\n}: {\n  description: string;\n  element: Element;\n  multiplier: number;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damage = calculateTotalDamage({\n    element,\n    multiplier,\n    attackType: AttackType.Skill,\n    stats,\n    modifier,\n  });\n\n  return {\n    description,\n    damage: [damage],\n  } as TalentValue;\n}\n// Used for all default skill that only does 1-hit elemental dmg\nexport function skillDefault({\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  return [\n    skillBase({\n      description: 'skillDmg',\n      element,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n// Base function for damage skills with multiple damage instances\nexport function skillMultiBase({\n  description,\n  hits,\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  description: string;\n  hits: number;\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damages = [];\n\n  for (let i = 0; i < hits; i++) {\n    damages.push(\n      calculateTotalDamage({\n        element,\n        multiplier: params[i],\n        attackType: AttackType.Skill,\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return {\n    description,\n    damage: damages,\n  } as TalentValue;\n}\n// Base function for all damage bursts. Returns an object representing a single line to be displayed.\n// The returned object should always be added into an array to construct the list of talent damage.\nexport function burstBase({\n  description,\n  element,\n  multiplier,\n  stats,\n  modifier,\n}: {\n  description: string;\n  element: Element;\n  multiplier: number;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damage = calculateTotalDamage({\n    element,\n    multiplier,\n    attackType: AttackType.Burst,\n    stats,\n    modifier,\n  });\n\n  return {\n    description,\n    damage: [damage],\n  } as TalentValue;\n}\n// Used for all default burst that only does 1-hit elemental dmg\nexport function burstDefault({\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  return [\n    burstBase({\n      description: 'burstDmg',\n      element,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n  ];\n}\n// Base function for bursts with multiple damage instances\nexport function burstMultiBase({\n  description,\n  hits,\n  element,\n  params,\n  stats,\n  modifier,\n}: {\n  description: string;\n  hits: number;\n  element: Element;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damages = [];\n\n  for (let i = 0; i < hits; i++) {\n    damages.push(\n      calculateTotalDamage({\n        element,\n        multiplier: params[i],\n        attackType: AttackType.Burst,\n        stats,\n        modifier,\n      })\n    );\n  }\n\n  return {\n    description,\n    damage: damages,\n  } as TalentValue;\n}\n// Base function for all healing skills. Returns an object representing a single line to be displayed.\n// The returned object should always be added into an array to construct the list of talent damage.\nexport function healingSkillBase({\n  description,\n  scalingType = ScalingType.Hp,\n  params,\n  stats,\n  modifier,\n}: {\n  description: string;\n  scalingType?: ScalingType;\n  params: TalentParams;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let damage = calculateHealing({\n    stats,\n    multiplier: params[0],\n    flatHealing: params[1],\n    scalingType,\n  });\n\n  return {\n    description,\n    damage: [damage],\n  } as TalentValue;\n}\n// Base function for all shields/summon HP\nexport function hpBase({\n  description,\n  multiplier,\n  flatBonus,\n  scalingType = ScalingType.Hp,\n  stats,\n  modifier,\n}: {\n  description: string;\n  multiplier: number;\n  flatBonus: number;\n  scalingType?: ScalingType;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let hp = calculateHp({\n    stats,\n    multiplier,\n    flatBonus,\n    scalingType,\n  });\n\n  return {\n    description,\n    damage: [hp],\n  } as TalentValue;\n}\nexport function shieldBase({\n  description,\n  multiplier,\n  flatBonus,\n  element,\n  scalingType = ScalingType.Hp,\n  stats,\n  modifier,\n}: {\n  description: string;\n  multiplier: number;\n  flatBonus: number;\n  element: Element;\n  scalingType?: ScalingType;\n  stats: Stats;\n  modifier: DamageModifier;\n}) {\n  let dmgAbsorption = calculateDmgAbsorption({\n    stats,\n    multiplier,\n    flatBonus,\n    element,\n    scalingType,\n    modifier,\n  });\n\n  return {\n    description,\n    damage: [dmgAbsorption],\n  } as TalentValue;\n}\n\nexport function baseAtkBuff({\n  multiplier,\n  stats,\n  modifier,\n}: {\n  multiplier: number;\n  stats: Stats;\n  modifier: DamageModifier;\n}): TalentValue {\n  let atkBonus = stats.baseAtk * multiplier;\n  return {\n    description: 'atkBonus',\n    damage: [atkBonus],\n  };\n}\n","import Talent from './Talent';\r\nimport {\r\n  attackLightMulti,\r\n  burstBase,\r\n  burstMultiBase,\r\n  skillBase,\r\n} from './TalentUtil';\r\nimport { Element, TalentProps, TalentValue } from './types';\r\n\r\nconst raidenTalent: Talent = {\r\n  attack: raidenAttack,\r\n  skill: raidenSkill,\r\n  burst: raidenBurst,\r\n};\r\n\r\nexport default raidenTalent;\r\n\r\nfunction raidenAttack({ params, stats, modifier }: TalentProps) {\r\n  return attackLightMulti({\r\n    normalHits: [1, 1, 1, 2, 1],\r\n    params: params.slice(0, 4).concat(params.slice(5)),\r\n    stats,\r\n    modifier,\r\n  });\r\n}\r\n\r\nfunction raidenSkill({ params, stats, modifier }: TalentProps) {\r\n  return [\r\n    skillBase({\r\n      description: 'skillDmg',\r\n      element: Element.Electro,\r\n      multiplier: params[0],\r\n      stats,\r\n      modifier,\r\n    }),\r\n\r\n    skillBase({\r\n      description: 'coordinatedAtkDmg',\r\n      element: Element.Electro,\r\n      multiplier: params[1],\r\n      stats,\r\n      modifier,\r\n    }),\r\n  ];\r\n}\r\n\r\nfunction raidenBurst({ params, stats, modifier }: TalentProps) {\r\n  let talentValues: TalentValue[] = [];\r\n\r\n  // Musou no Hitotachi\r\n  const initialResolveBonus = params[1] * (modifier.resolveStacks ?? 0);\r\n  talentValues.push(\r\n    burstBase({\r\n      description: 'musouNoHitotachiDmg',\r\n      element: Element.Electro,\r\n      multiplier: params[0] + initialResolveBonus,\r\n      stats,\r\n      modifier,\r\n    })\r\n  );\r\n\r\n  /* Musou Isshin*/\r\n  const attackResolveBonus = params[2] * (modifier.resolveStacks ?? 0);\r\n  // 1-3 hit\r\n  for (let i = 0; i < 3; i++) {\r\n    talentValues.push(\r\n      burstBase({\r\n        description: `${i + 1}HitDmg`,\r\n        element: Element.Electro,\r\n        multiplier: params[i + 4] + attackResolveBonus,\r\n        stats,\r\n        modifier,\r\n      })\r\n    );\r\n  }\r\n\r\n  // 4 hit\r\n  talentValues.push(\r\n    burstMultiBase({\r\n      description: '4HitDmg',\r\n      hits: 2,\r\n      element: Element.Electro,\r\n      params: params.slice(7, 9).map((param) => param + attackResolveBonus),\r\n      stats,\r\n      modifier,\r\n    })\r\n  );\r\n\r\n  // 5 hit\r\n  talentValues.push(\r\n    burstBase({\r\n      description: '5HitDmg',\r\n      element: Element.Electro,\r\n      multiplier: params[9] + attackResolveBonus,\r\n      stats,\r\n      modifier,\r\n    })\r\n  );\r\n\r\n  // Charged attack\r\n  talentValues.push(\r\n    burstMultiBase({\r\n      description: 'chargedDmg',\r\n      hits: 2,\r\n      element: Element.Electro,\r\n      params: params.slice(10, 12).map((param) => param + attackResolveBonus),\r\n      stats,\r\n      modifier,\r\n    })\r\n  );\r\n\r\n  // Plunge\r\n  let plungeDescriptions = ['plungeDmg', 'lowPlungeDmg', 'highPlungeDmg'];\r\n  plungeDescriptions.forEach((description, i) => {\r\n    talentValues.push(\r\n      burstBase({\r\n        description,\r\n        element: Element.Electro,\r\n        multiplier: params[13 + i] + attackResolveBonus,\r\n        stats,\r\n        modifier,\r\n      })\r\n    );\r\n  });\r\n\r\n  return talentValues;\r\n}\r\n","import Talent from './Talent';\nimport {\n  burstBase,\n  calculateTotalDamage,\n  chargedAttackHeavy,\n  healingSkillBase,\n  plungeAttackDefault,\n  skillBase,\n} from './TalentUtil';\nimport {\n  AttackType,\n  Element,\n  ScalingType,\n  TalentProps,\n  TalentValue,\n} from './types';\n\nconst sayuTalent: Talent = {\n  attack: sayuAttack,\n  skill: sayuSkill,\n  burst: sayuBurst,\n};\n\nexport default sayuTalent;\n\nfunction sayuAttack({ params, stats, modifier }: TalentProps) {\n  let talentValues: TalentValue[] = [];\n\n  // Normal attack\n  for (let i = 0; i < 2; i++) {\n    let damage = calculateTotalDamage({\n      stats,\n      multiplier: params[i],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    });\n    talentValues.push({\n      description: `${i + 1}HitDmg`,\n      damage: [damage],\n    });\n  }\n\n  let hit3Dmg = [];\n  for (let i = 2; i < 4; i++) {\n    hit3Dmg.push(\n      calculateTotalDamage({\n        stats,\n        multiplier: params[i],\n        element: Element.Physical,\n        attackType: AttackType.Normal,\n        modifier,\n      })\n    );\n  }\n  talentValues.push({\n    description: '3HitDmg',\n    damage: hit3Dmg,\n  });\n\n  let hit4Dmg = [\n    calculateTotalDamage({\n      stats,\n      multiplier: params[4],\n      element: Element.Physical,\n      attackType: AttackType.Normal,\n      modifier,\n    }),\n  ];\n  talentValues.push({\n    description: `4HitDmg`,\n    damage: hit4Dmg,\n  });\n\n  // Charged attack\n  talentValues.push(\n    ...chargedAttackHeavy({ params: params.slice(5, 7), stats, modifier })\n  );\n\n  // Plunge attack\n  talentValues.push(\n    ...plungeAttackDefault({\n      element: Element.Physical,\n      params: params.slice(9, 12),\n      stats,\n      modifier,\n    })\n  );\n\n  return talentValues;\n}\n\nfunction sayuSkill({ params, stats, modifier }: TalentProps) {\n  const talentValues: TalentValue[] = [];\n\n  const skillDescriptions = [\n    'fuufuuWindwheelDmg',\n    'fuufuuWhirlwindKickPressDmg',\n    'fuufuuWhirlwindKickHoldDmg',\n  ];\n  const skillParams = [params[0], params[2], params[3]];\n\n  skillDescriptions.forEach((description, i) =>\n    talentValues.push(\n      skillBase({\n        description,\n        element: Element.Anemo,\n        multiplier: skillParams[i],\n        stats,\n        modifier,\n      })\n    )\n  );\n\n  if (modifier.elementalAbsorption !== undefined) {\n    const elementalAbsorption = modifier.elementalAbsorption;\n    const elementalDescriptions = [\n      'fuufuuWindwheelElementalDmg',\n      'fuufuuWhirlwindKickElementalDmg',\n    ];\n    const elementalParams = [params[1], params[4]];\n\n    elementalDescriptions.forEach((description, i) =>\n      talentValues.push(\n        skillBase({\n          description,\n          element: elementalAbsorption,\n          multiplier: elementalParams[i],\n          stats,\n          modifier,\n        })\n      )\n    );\n  }\n\n  return talentValues;\n}\n\nfunction sayuBurst({ params, stats, modifier }: TalentProps) {\n  return [\n    burstBase({\n      description: 'activationDmg',\n      element: Element.Anemo,\n      multiplier: params[0],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'activationHealing',\n      scalingType: ScalingType.Attack,\n      params: [params[2], params[1]],\n      stats,\n      modifier,\n    }),\n\n    burstBase({\n      description: 'mujimujiDarumaDmg',\n      element: Element.Anemo,\n      multiplier: params[3],\n      stats,\n      modifier,\n    }),\n\n    healingSkillBase({\n      description: 'mujimujiDarumaHealing',\n      scalingType: ScalingType.Attack,\n      params: [params[5], params[4]],\n      stats,\n      modifier,\n    }),\n  ];\n}\n","import { getTalentData, getTalentStatsAt } from '../Data';\r\nimport Talent from './Talent';\r\nimport {\r\n  attackLightDefault,\r\n  calculateTotalDamage,\r\n  healingSkillBase,\r\n  skillBase,\r\n} from './TalentUtil';\r\nimport {\r\n  AttackType,\r\n  Element,\r\n  ScalingType,\r\n  TalentProps,\r\n  TalentType,\r\n  TalentValue,\r\n} from './types';\r\n\r\nconst kokomiTalent: Talent = {\r\n  attack: kokomiAttack,\r\n  skill: kokomiSkill,\r\n  burst: kokomiBurst,\r\n};\r\n\r\nexport default kokomiTalent;\r\n\r\nfunction kokomiAttack({ params, stats, modifier }: TalentProps) {\r\n  let newModifier = { ...modifier };\r\n\r\n  if (newModifier.kokomiBurst) {\r\n    const burstParams = getTalentStatsAt(\r\n      TalentType.Burst,\r\n      newModifier.talentBurstLevel,\r\n      getTalentData('kokomi')\r\n    );\r\n\r\n    const normalAttackBonusDmg =\r\n      (burstParams[3] +\r\n        (newModifier.kokomiHealingBonusDmg ?? 0) * (stats.healingBonus ?? 0)) *\r\n      stats.flatHp;\r\n\r\n    newModifier.normalAttackFlatDmg =\r\n      normalAttackBonusDmg + (newModifier.normalAttackFlatDmg ?? 0);\r\n\r\n    const chargedAttackBonusDmg =\r\n      (burstParams[4] +\r\n        (newModifier.kokomiHealingBonusDmg ?? 0) * (stats.healingBonus ?? 0)) *\r\n      stats.flatHp;\r\n\r\n    newModifier.chargedAttackFlatDmg =\r\n      chargedAttackBonusDmg + (newModifier.chargedAttackFlatDmg ?? 0);\r\n  }\r\n\r\n  return attackLightDefault({\r\n    normalHits: 3,\r\n    element: Element.Hydro,\r\n    params,\r\n    stats,\r\n    modifier: newModifier,\r\n  });\r\n}\r\n\r\nfunction kokomiSkill({ params, stats, modifier }: TalentProps) {\r\n  let talentValues = [];\r\n\r\n  talentValues.push(\r\n    healingSkillBase({\r\n      description: 'hpRegen',\r\n      params,\r\n      stats,\r\n      modifier,\r\n    })\r\n  );\r\n\r\n  let newModifier = { ...modifier };\r\n\r\n  if (newModifier.kokomiBurst) {\r\n    const burstParams = getTalentStatsAt(\r\n      TalentType.Burst,\r\n      newModifier.talentBurstLevel,\r\n      getTalentData('kokomi')\r\n    );\r\n\r\n    const skillBonusDmg = burstParams[8] * stats.flatHp;\r\n    newModifier.skillFlatDmg = skillBonusDmg + (newModifier.skillFlatDmg ?? 0);\r\n  }\r\n\r\n  let rippleDmg = skillBase({\r\n    description: 'rippleDmg',\r\n    element: Element.Hydro,\r\n    multiplier: params[2],\r\n    stats,\r\n    modifier: newModifier,\r\n  });\r\n  talentValues.push(rippleDmg);\r\n\r\n  return talentValues;\r\n}\r\n\r\nfunction kokomiBurst({ params, stats, modifier }: TalentProps) {\r\n  let talentValues: TalentValue[] = [];\r\n\r\n  let burstDmg = calculateTotalDamage({\r\n    element: Element.Hydro,\r\n    multiplier: params[0],\r\n    attackType: AttackType.Burst,\r\n    scalingType: ScalingType.Hp,\r\n    stats,\r\n    modifier,\r\n  });\r\n  talentValues.push({\r\n    description: 'burstDmg',\r\n    damage: [burstDmg],\r\n  });\r\n\r\n  talentValues.push(\r\n    healingSkillBase({\r\n      description: 'hpRegenOnHit',\r\n      params: params.slice(1, 3),\r\n      stats,\r\n      modifier,\r\n    })\r\n  );\r\n\r\n  return talentValues;\r\n}\r\n","import Talent from './Talent';\r\nimport {\r\n  attackBowDefault,\r\n  baseAtkBuff,\r\n  burstBase,\r\n  skillBase,\r\n} from './TalentUtil';\r\nimport { Element, TalentProps } from './types';\r\n\r\nconst saraTalent: Talent = {\r\n  attack: saraAttack,\r\n  skill: saraSkill,\r\n  burst: saraBurst,\r\n};\r\n\r\nexport default saraTalent;\r\n\r\nfunction saraAttack({ params, stats, modifier }: TalentProps) {\r\n  return attackBowDefault({\r\n    normalHits: 5,\r\n    chargedElement: Element.Electro,\r\n    params,\r\n    stats,\r\n    modifier,\r\n  });\r\n}\r\n\r\nfunction saraSkill({ params, stats, modifier }: TalentProps) {\r\n  return [\r\n    skillBase({\r\n      description: 'tenguJuuraiAmbushDmg',\r\n      element: Element.Electro,\r\n      multiplier: params[0],\r\n      stats,\r\n      modifier,\r\n    }),\r\n\r\n    baseAtkBuff({\r\n      multiplier: params[1],\r\n      stats,\r\n      modifier,\r\n    }),\r\n  ];\r\n}\r\n\r\nfunction saraBurst({ params, stats, modifier }: TalentProps) {\r\n  return [\r\n    burstBase({\r\n      description: 'tenguJuuraiTitanbreakerDmg',\r\n      element: Element.Electro,\r\n      multiplier: params[0],\r\n      stats,\r\n      modifier,\r\n    }),\r\n\r\n    burstBase({\r\n      description: 'tenguJuuraiStormclusterDmg',\r\n      element: Element.Electro,\r\n      multiplier: params[1],\r\n      stats,\r\n      modifier,\r\n    }),\r\n  ];\r\n}\r\n","import Talent from './Talent';\r\nimport {\r\n  aimShotDefault,\r\n  burstDefault,\r\n  calculateTotalDamage,\r\n  plungeAttackDefault,\r\n  skillBase,\r\n} from './TalentUtil';\r\nimport { AttackType, Element, TalentProps, TalentValue } from './types';\r\n\r\nconst aloyTalent: Talent = {\r\n  attack: aloyAttack,\r\n  skill: aloySkill,\r\n  burst: aloyBurst,\r\n};\r\n\r\nexport default aloyTalent;\r\n\r\nfunction aloyAttack({ params, stats, modifier }: TalentProps) {\r\n  let talentValues: TalentValue[] = [];\r\n\r\n  // 1-hit\r\n  const hit1Dmg = params.slice(0, 2).map((multiplier) =>\r\n    calculateTotalDamage({\r\n      stats,\r\n      multiplier,\r\n      element: modifier.infusion ?? Element.Physical,\r\n      attackType: AttackType.Normal,\r\n      modifier,\r\n    })\r\n  );\r\n  talentValues.push({ description: '1HitDmg', damage: hit1Dmg });\r\n\r\n  // 2-4 hit\r\n  for (let i = 2; i <= 4; i++) {\r\n    const dmg = calculateTotalDamage({\r\n      stats,\r\n      multiplier: params[i],\r\n      element: modifier.infusion ?? Element.Physical,\r\n      attackType: AttackType.Normal,\r\n      modifier,\r\n    });\r\n    talentValues.push({ description: `${i}HitDmg`, damage: [dmg] });\r\n  }\r\n\r\n  // Charged attack\r\n  talentValues.push(\r\n    ...aimShotDefault({\r\n      chargedElement: Element.Cryo,\r\n      params: params.slice(5, 7),\r\n      stats,\r\n      modifier,\r\n    })\r\n  );\r\n\r\n  // Plunge attack\r\n  talentValues.push(\r\n    ...plungeAttackDefault({\r\n      element: Element.Physical,\r\n      params: params.slice(7, 10),\r\n      stats,\r\n      modifier,\r\n    })\r\n  );\r\n\r\n  return talentValues;\r\n}\r\n\r\nfunction aloySkill({ params, stats, modifier }: TalentProps) {\r\n  return [\r\n    skillBase({\r\n      description: 'freezeBombDmg',\r\n      element: Element.Cryo,\r\n      multiplier: params[0],\r\n      stats,\r\n      modifier,\r\n    }),\r\n\r\n    skillBase({\r\n      description: 'chillwaterBombletDmg',\r\n      element: Element.Cryo,\r\n      multiplier: params[1],\r\n      stats,\r\n      modifier,\r\n    }),\r\n  ];\r\n}\r\n\r\nfunction aloyBurst({ params, stats, modifier }: TalentProps) {\r\n  return burstDefault({\r\n    element: Element.Cryo,\r\n    params,\r\n    stats,\r\n    modifier,\r\n  });\r\n}\r\n","enum CritType {\n  None = 'none',\n  Crit = 'crit',\n  Average = 'average',\n}\n\nexport default CritType;\n","import { ModifierMixin, StatMixin } from './Mixin';\n\nexport default class Option {\n  id: string;\n\n  constructor(id: string) {\n    this.id = id;\n  }\n}\n\nexport interface IOptionBoolean {\n  value: boolean;\n}\n\nexport interface IOptionPicker {\n  value: string;\n  choices: string[];\n}\n\nexport interface IOptionNumber {\n  value: number;\n}\n\nexport interface IStatsApplicable {\n  statMixin: StatMixin;\n}\n\nexport interface IModifierApplicable {\n  modifierMixin: ModifierMixin;\n}\n","import Option from '../Option';\n\nexport default class ArtifactSetOption extends Option {\n  threshold: number;\n\n  constructor(id: string = '', threshold: number = 0) {\n    super(id);\n    this.threshold = threshold;\n  }\n}\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionPicker, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass ArchaicPetra4PcOption\n  extends ArtifactSetOption\n  implements IOptionPicker, IStatsApplicable\n{\n  value = '';\n  choices = ['cryo', 'electro', 'hydro', 'pyro'];\n\n  constructor() {\n    super('archaicPetra4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value !== '') {\n        const params = getArtifactSetBonusParams('archaicpetra', 4);\n        stats[`${this.value}DmgBonus`] =\n          params[0] + (stats[`${this.value}DmgBonus`] ?? 0);\n      }\n    },\n  };\n}\n\nconst archaicPetraOptions = [ArchaicPetra4PcOption];\nexport default archaicPetraOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass Berserker4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('berserker4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('berserker', 4);\n        stats.critRate = params[0] + (stats.critRate ?? 0);\n      }\n    },\n  };\n}\n\nconst berserkerOptions = [Berserker4PcOption];\nexport default berserkerOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass BlizzardStrayer4PcCryoOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('blizzardStrayer4PcCryo', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('blizzardstrayer', 4);\n        stats.critRate = params[0] + (stats.critRate ?? 0);\n      }\n    },\n  };\n}\n\nclass BlizzardStrayer4PcFrozenOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('blizzardStrayer4PcFrozen', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('blizzardstrayer', 4);\n        stats.critRate = params[1] + (stats.critRate ?? 0);\n      }\n    },\n  };\n}\n\nconst blizzardStrayerOptions = [\n  BlizzardStrayer4PcCryoOption,\n  BlizzardStrayer4PcFrozenOption,\n];\nexport default blizzardStrayerOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass BloodStainedChivalry4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('bloodstainedChivalry4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('bloodstainedchivalry', 4);\n        stats.chargedDmgBonus = params[1] + (stats.chargedDmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst bloodstainedChivalryOptions = [BloodStainedChivalry4PcOption];\nexport default bloodstainedChivalryOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass BraveHeart4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('braveHeart4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('braveheart', 4);\n        stats.dmgBonus = params[0] + (stats.dmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst braveHeartOptions = [BraveHeart4PcOption];\nexport default braveHeartOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusData } from '../../Data';\nimport { IOptionNumber, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass CrimsonWitch4PcOption\n  extends ArtifactSetOption\n  implements IOptionNumber, IStatsApplicable\n{\n  value = 0;\n\n  constructor() {\n    super('crimsonWitch4PcStacks', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value > 0) {\n        const setBonusData = getArtifactSetBonusData('crimsonwitchofflames');\n        const param = setBonusData[2].bonuses.find(\n          ({ stat }) => stat === 'pyroDmgBonus'\n        )?.value!!;\n\n        let stacks = this.value;\n        if (stacks > 3) stacks = 3;\n        stats.pyroDmgBonus = stacks * (param / 2) + (stats.pyroDmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst crimsonWitchOptions = [CrimsonWitch4PcOption];\nexport default crimsonWitchOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass HeartOfDepth4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('heartOfDepth4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('heartofdepth', 4);\n        stats.normalDmgBonus = params[0] + (stats.normalDmgBonus ?? 0);\n        stats.chargedDmgBonus = params[0] + (stats.chargedDmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst heartOfDepthOptions = [HeartOfDepth4PcOption];\nexport default heartOfDepthOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass Instructor4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('instructor4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('instructor', 4);\n        stats.elementalMastery = params[1] + (stats.elementalMastery ?? 0);\n      }\n    },\n  };\n}\n\nconst instructorOptions = [Instructor4PcOption];\nexport default instructorOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass Lavawalker4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('lavawalker4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('lavawalker', 4);\n        stats.dmgBonus = params[0] + (stats.dmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst lavawalkerOptions = [Lavawalker4PcOption];\nexport default lavawalkerOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass MaidenBeloved4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('maidenBeloved4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('maidenbeloved', 4);\n        stats.healedBonus = params[0] + (stats.healedBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst maidenBelovedOptions = [MaidenBeloved4PcOption];\nexport default maidenBelovedOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass MartialArtist4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('martialArtist4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('martialartist', 4);\n        stats.normalDmgBonus = params[2] + (stats.normalDmgBonus ?? 0);\n        stats.chargedDmgBonus = params[2] + (stats.chargedDmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst martialArtistOptions = [MartialArtist4PcOption];\nexport default martialArtistOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass NoblesseOblige4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('noblesseOblige4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('noblesseoblige', 4);\n        stats.atkBonus = params[0] + (stats.atkBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst noblesseObligeOptions = [NoblesseOblige4PcOption];\nexport default noblesseObligeOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionNumber, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass PaleFlame4PcOption\n  extends ArtifactSetOption\n  implements IOptionNumber, IStatsApplicable\n{\n  value = 0;\n\n  constructor() {\n    super('paleFlame4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      const params = getArtifactSetBonusParams('paleflame', 4);\n\n      if (this.value >= 1) {\n        stats.atkBonus = params[0] + (stats.atkBonus ?? 0);\n      }\n\n      if (this.value >= 2) {\n        stats.atkBonus = params[0] + (stats.atkBonus ?? 0);\n        stats.physicalDmgBonus = params[3] + (stats.physicalDmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst paleFlameOptions = [PaleFlame4PcOption];\nexport default paleFlameOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass RetracingBolide4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('retracingBolide4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('retracingbolide', 4);\n        stats.normalDmgBonus = params[0] + (stats.normalDmgBonus ?? 0);\n        stats.chargedDmgBonus = params[0] + (stats.chargedDmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst retracingBolideOptions = [RetracingBolide4PcOption];\nexport default retracingBolideOptions;\n","import { Stats } from '../../../data/types';\nimport { getArtifactSetBonusData } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport ArtifactSetOption from './ArtifactSetOption';\n\nclass Shimenawa4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('shimenawa4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const setBonusData = getArtifactSetBonusData('shimenawasreminiscence');\n        const param = setBonusData[4].bonusExtra.params[1];\n        stats.normalDmgBonus = param + (stats.normalDmgBonus ?? 0);\n        stats.chargedDmgBonus = param + (stats.chargedDmgBonus ?? 0);\n        stats.plungeDmgBonus = param + (stats.plungeDmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst shimenawaOptions = [Shimenawa4PcOption];\nexport default shimenawaOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass Tenacity4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('tenacity4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('tenacityofthemillelith', 4);\n        stats.atkBonus = params[0] + (stats.atkBonus ?? 0);\n        stats.shieldStrength = params[1] + (stats.shieldStrength ?? 0);\n      }\n    },\n  };\n}\n\nconst tenacityOptions = [Tenacity4PcOption];\nexport default tenacityOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass Thundersoother4PcOption\n  extends ArtifactSetOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = true;\n\n  constructor() {\n    super('thundersoother4Pc', 4);\n  }\n\n  statMixin = {\n    apply: (stats: Stats) => {\n      if (this.value) {\n        const params = getArtifactSetBonusParams('thundersoother', 4);\n        stats.dmgBonus = params[0] + (stats.dmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst thundersootherOptions = [Thundersoother4PcOption];\nexport default thundersootherOptions;\n","import ArtifactSetOption from './ArtifactSetOption';\nimport { getArtifactSetBonusParams } from '../../Data';\nimport { IModifierApplicable, IOptionPicker } from '../Option';\nimport DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\n\nclass ViridescentVenerer4PcOption\n  extends ArtifactSetOption\n  implements IOptionPicker, IModifierApplicable\n{\n  value = '';\n  choices = [Element.Cryo, Element.Electro, Element.Hydro, Element.Pyro];\n\n  constructor() {\n    super('viridescentVenerer4Pc', 4);\n  }\n\n  modifierMixin = {\n    apply: (modifier: DamageModifier) => {\n      if (this.value !== '') {\n        const params = getArtifactSetBonusParams('viridescentvenerer', 4);\n        modifier.enemyResReduction.add(this.value as Element, params[1]);\n      }\n    },\n  };\n}\n\nconst viridescentVenererOptions = [ViridescentVenerer4PcOption];\nexport default viridescentVenererOptions;\n","import Option from '../Option';\n\nexport default class CharacterOption extends Option {\n  constructor(id: string = '') {\n    super(id);\n  }\n}\n","import CharacterOption from './CharacterOption';\r\nimport { Stats } from '../../../data/types';\r\nimport { getTalentData, getTalentStatsAt } from '../../Data';\r\nimport DamageModifier from '../../modifier/DamageModifer';\r\nimport { Element, TalentType } from '../../talent/types';\r\nimport {\r\n  IOptionNumber,\r\n  IStatsApplicable,\r\n  IModifierApplicable,\r\n} from '../Option';\r\n\r\nclass AloyOptionCoil\r\n  extends CharacterOption\r\n  implements IOptionNumber, IStatsApplicable, IModifierApplicable\r\n{\r\n  value = 0;\r\n\r\n  constructor() {\r\n    super('coil');\r\n  }\r\n\r\n  statMixin = {\r\n    apply: (\r\n      stats: Stats,\r\n      _talentAttackLevel: number,\r\n      talentSkillLevel: number,\r\n      _talentBurstLevel: number\r\n    ) => {\r\n      if (this.value > 0) {\r\n        const skillParams = getTalentStatsAt(\r\n          TalentType.Skill,\r\n          talentSkillLevel,\r\n          getTalentData('aloy')\r\n        );\r\n\r\n        if (this.value >= 4) {\r\n          // Rushing Ice state\r\n          stats.normalDmgBonus = skillParams[7] + (stats.normalDmgBonus ?? 0);\r\n        } else {\r\n          stats.normalDmgBonus =\r\n            skillParams[this.value + 3] + (stats.normalDmgBonus ?? 0);\r\n        }\r\n      }\r\n    },\r\n  };\r\n\r\n  modifierMixin = {\r\n    apply: (modifier: DamageModifier) => {\r\n      if (this.value >= 4) {\r\n        modifier.infusion = Element.Cryo;\r\n      }\r\n    },\r\n  };\r\n}\r\n\r\nconst aloyOptions = [AloyOptionCoil];\r\nexport default aloyOptions;\r\n","import DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport { IModifierApplicable, IOptionBoolean } from '../Option';\nimport CharacterOption from './CharacterOption';\n\nclass AyakaOptionInfusion\n  extends CharacterOption\n  implements IOptionBoolean, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('infusionCryo');\n  }\n\n  modifierMixin = {\n    apply: (modifier: DamageModifier) => {\n      if (this.value) {\n        modifier.infusion = Element.Cryo;\n      }\n    },\n  };\n}\n\nconst ayakaOptions = [AyakaOptionInfusion];\nexport default ayakaOptions;\n","import DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport { IModifierApplicable, IOptionBoolean } from '../Option';\nimport CharacterOption from './CharacterOption';\n\nclass ChongyunOptionInfusion\n  extends CharacterOption\n  implements IOptionBoolean, IModifierApplicable\n{\n  value = false; // set default value\n\n  constructor() {\n    super('infusionCryo'); // set ID\n  }\n\n  modifierMixin = {\n    apply: (modifier: DamageModifier) => {\n      if (this.value) {\n        modifier.infusion = Element.Cryo;\n      }\n    },\n  };\n}\n\nconst chongyunOptions: typeof CharacterOption[] = [ChongyunOptionInfusion];\nexport default chongyunOptions;\n","import { Stats } from '../../../data/types';\nimport { getTalentData } from '../../Data';\nimport DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport {\n  IModifierApplicable,\n  IOptionBoolean,\n  IStatsApplicable,\n} from '../Option';\nimport CharacterOption from './CharacterOption';\n\nclass DilucOptionInfusion\n  extends CharacterOption\n  implements IOptionBoolean, IModifierApplicable, IStatsApplicable\n{\n  value = false;\n\n  constructor() {\n    super('dilucBurst');\n  }\n\n  modifierMixin = {\n    apply: (modifier: DamageModifier) => {\n      if (this.value) {\n        modifier.infusion = Element.Pyro;\n      }\n    },\n  };\n\n  statMixin = {\n    apply: (\n      stats: Stats,\n      _talentAttackLevel: number,\n      _talentSkillLevel: number,\n      _talentBurstLevel: number,\n      ascensionLevel: number\n    ) => {\n      if (this.value && ascensionLevel >= 4) {\n        const params = getTalentData('diluc').passives.find(\n          (passiveData) => passiveData.id === 'Diluc_PermanentSkill_2'\n        )?.params;\n        const pyroDmgBonus = params?.[1] ?? NaN;\n\n        stats.pyroDmgBonus = pyroDmgBonus + (stats.pyroDmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst dilucOptions: typeof CharacterOption[] = [DilucOptionInfusion];\nexport default dilucOptions;\n","import CharacterOption from './CharacterOption';\nimport { getTalentStatsAt, getTalentData } from '../../Data';\nimport DamageModifier from '../../modifier/DamageModifer';\nimport { Element, TalentType } from '../../talent/types';\nimport {\n  IOptionBoolean,\n  IStatsApplicable,\n  IModifierApplicable,\n} from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass HuTaoOptionSkill\n  extends CharacterOption\n  implements IOptionBoolean, IStatsApplicable, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('paramitaPapilioState');\n  }\n\n  statMixin = {\n    apply: (\n      stats: Stats,\n      _talentAttackLevel: number,\n      talentSkillLevel: number,\n      _talentBurstLevel: number\n    ) => {\n      if (this.value) {\n        let skillParams = getTalentStatsAt(\n          TalentType.Skill,\n          talentSkillLevel,\n          getTalentData('hutao')\n        );\n\n        const totalHp =\n          (stats.baseHp ?? 0) * (1 + (stats.hpBonus ?? 0)) +\n          (stats.flatHp ?? 0);\n        let flatAtkBonus = totalHp * skillParams[1];\n        if (flatAtkBonus > stats.baseAtk * skillParams[6]) {\n          flatAtkBonus = stats.baseAtk * skillParams[6];\n        }\n\n        stats.flatAtk = flatAtkBonus + (stats.flatAtk ?? 0);\n      }\n    },\n  };\n\n  modifierMixin = {\n    apply: (modifier: DamageModifier) => {\n      if (this.value) {\n        modifier.infusion = Element.Pyro;\n      }\n    },\n  };\n}\n\nconst hutaoOptions = [HuTaoOptionSkill];\nexport default hutaoOptions;\n","import DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport { IModifierApplicable, IOptionPicker } from '../Option';\nimport CharacterOption from './CharacterOption';\n\nclass ElementalAbsoprtionOption\n  extends CharacterOption\n  implements IOptionPicker, IModifierApplicable\n{\n  value = '';\n  choices = [Element.Cryo, Element.Electro, Element.Hydro, Element.Pyro];\n\n  constructor() {\n    super('elementalAbsorption');\n  }\n\n  modifierMixin = {\n    apply: (modifier: DamageModifier) => {\n      if (this.value !== '') {\n        modifier.elementalAbsorption = this.value as Element;\n      }\n    },\n  };\n}\n\nexport default ElementalAbsoprtionOption;\n","import DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport { IModifierApplicable, IOptionBoolean } from '../Option';\nimport CharacterOption from './CharacterOption';\nimport ElementalAbsoprtionOption from './ElementalAbsorptionOption';\n\nclass KazuhaOptionInfusion\n  extends CharacterOption\n  implements IOptionBoolean, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('infusionAnemoPlunge');\n  }\n\n  modifierMixin = {\n    apply: (modifier: DamageModifier) => {\n      if (this.value) {\n        modifier.infusionPlunge = Element.Anemo;\n      }\n    },\n  };\n}\n\nconst kazuhaOptions = [KazuhaOptionInfusion, ElementalAbsoprtionOption];\nexport default kazuhaOptions;\n","import DamageModifier from '../../modifier/DamageModifer';\r\nimport { IModifierApplicable, IOptionBoolean } from '../Option';\r\nimport CharacterOption from './CharacterOption';\r\n\r\nclass KokomiOptionBurst\r\n  extends CharacterOption\r\n  implements IOptionBoolean, IModifierApplicable\r\n{\r\n  value = false;\r\n\r\n  constructor() {\r\n    super('kokomiBurst');\r\n  }\r\n\r\n  modifierMixin = {\r\n    apply: (modifier: DamageModifier) => {\r\n      if (this.value) {\r\n        modifier.kokomiBurst = true;\r\n      }\r\n    },\r\n  };\r\n}\r\n\r\nconst kokomiOptions = [KokomiOptionBurst];\r\nexport default kokomiOptions;\r\n","import CharacterOption from './CharacterOption';\nimport { getTalentStatsAt, getTalentData } from '../../Data';\nimport DamageModifier from '../../modifier/DamageModifer';\nimport { Element, TalentType } from '../../talent/types';\nimport {\n  IOptionBoolean,\n  IStatsApplicable,\n  IModifierApplicable,\n} from '../Option';\nimport { Stats } from '../../../data/types';\n\nclass NoelleOptionBurst\n  extends CharacterOption\n  implements IOptionBoolean, IStatsApplicable, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('noelleBurst');\n  }\n\n  statMixin = {\n    apply: (\n      stats: Stats,\n      _talentAttackLevel: number,\n      _talentSkillLevel: number,\n      talentBurstLevel: number\n    ) => {\n      if (this.value) {\n        let burstParams = getTalentStatsAt(\n          TalentType.Burst,\n          talentBurstLevel,\n          getTalentData('noelle')\n        );\n\n        const totalDef =\n          (stats.baseDef ?? 0) * (1 + (stats.defBonus ?? 0)) +\n          (stats.flatDef ?? 0);\n\n        stats.flatAtk = (stats.flatAtk ?? 0) + totalDef * burstParams[2];\n      }\n    },\n  };\n\n  modifierMixin = {\n    apply: (modifier: DamageModifier) => {\n      if (this.value) {\n        modifier.infusion = Element.Geo;\n      }\n    },\n  };\n}\n\nconst noelleOptions = [NoelleOptionBurst];\nexport default noelleOptions;\n","import { Stats } from '../../../data/types';\r\nimport { getTalentStatsAt, getTalentData } from '../../Data';\r\nimport DamageModifier from '../../modifier/DamageModifer';\r\nimport { TalentType } from '../../talent/types';\r\nimport {\r\n  IModifierApplicable,\r\n  IOptionBoolean,\r\n  IOptionNumber,\r\n  IStatsApplicable,\r\n} from '../Option';\r\nimport CharacterOption from './CharacterOption';\r\n\r\nclass RaidenOptionSkill\r\n  extends CharacterOption\r\n  implements IOptionBoolean, IStatsApplicable\r\n{\r\n  value = false;\r\n\r\n  constructor() {\r\n    super('raidenSkill');\r\n  }\r\n\r\n  statMixin = {\r\n    apply: (\r\n      stats: Stats,\r\n      _talentAttackLevel: number,\r\n      talentSkillLevel: number,\r\n      _talentBurstLevel: number\r\n    ) => {\r\n      if (this.value) {\r\n        const params = getTalentStatsAt(\r\n          TalentType.Skill,\r\n          talentSkillLevel,\r\n          getTalentData('raiden')\r\n        );\r\n\r\n        const burstDmgBonus = params[3] * 90;\r\n        stats.burstDmgBonus = burstDmgBonus + (stats.burstDmgBonus ?? 0);\r\n      }\r\n    },\r\n  };\r\n}\r\n\r\nclass RaidenOptionResolve\r\n  extends CharacterOption\r\n  implements IOptionNumber, IModifierApplicable\r\n{\r\n  value = 0;\r\n\r\n  constructor() {\r\n    super('resolve');\r\n  }\r\n\r\n  modifierMixin = {\r\n    apply: (modifier: DamageModifier) => {\r\n      if (this.value < 0) modifier.resolveStacks = 0;\r\n      else if (this.value > 60) modifier.resolveStacks = 60;\r\n      else modifier.resolveStacks = this.value;\r\n    },\r\n  };\r\n}\r\n\r\nconst raidenOptions = [RaidenOptionSkill, RaidenOptionResolve];\r\nexport default raidenOptions;\r\n","import ElementalAbsoprtionOption from './ElementalAbsorptionOption';\n\nconst sayuOptions = [ElementalAbsoprtionOption];\nexport default sayuOptions;\n","import ElementalAbsoprtionOption from './ElementalAbsorptionOption';\n\nconst sucroseOptions = [ElementalAbsoprtionOption];\nexport default sucroseOptions;\n","import aloyOptions from './AloyOption';\nimport ayakaOptions from './AyakaOption';\nimport CharacterOption from './CharacterOption';\nimport chongyunOptions from './ChongyunOption';\nimport dilucOptions from './DilucOption';\nimport hutaoOptions from './HuTaoOption';\nimport kazuhaOptions from './KazuhaOption';\nimport kokomiOptions from './KokomiOption';\nimport noelleOptions from './NoelleOption';\nimport raidenOptions from './RaidenOption';\nimport sayuOptions from './SayuOption';\nimport sucroseOptions from './SucroseOption';\nimport ventiOptions from './VentiOption';\nimport xiaoOptions from './XiaoOption';\nimport yanfeiOptions from './YanfeiOption';\nimport yoimiyaOptions from './YoimiyaOption';\n\nexport { default as CharacterOption } from './CharacterOption';\n\nexport const characterOptions: Record<string, typeof CharacterOption[]> = {\n  ayaka: ayakaOptions,\n  diluc: dilucOptions,\n  venti: ventiOptions,\n  xiao: xiaoOptions,\n  noelle: noelleOptions,\n  chongyun: chongyunOptions,\n  sucrose: sucroseOptions,\n  hutao: hutaoOptions,\n  kazuha: kazuhaOptions,\n  yanfei: yanfeiOptions,\n  yoimiya: yoimiyaOptions,\n  raiden: raidenOptions,\n  sayu: sayuOptions,\n  kokomi: kokomiOptions,\n  aloy: aloyOptions,\n};\n","import ElementalAbsoprtionOption from './ElementalAbsorptionOption';\n\nconst ventiOptions = [ElementalAbsoprtionOption];\nexport default ventiOptions;\n","import CharacterOption from './CharacterOption';\nimport { getTalentStatsAt, getTalentData } from '../../Data';\nimport {\n  IModifierApplicable,\n  IOptionBoolean,\n  IStatsApplicable,\n} from '../Option';\nimport { Stats } from '../../../data/types';\nimport { Element, TalentType } from '../../talent/types';\nimport DamageModifier from '../../modifier/DamageModifer';\n\nclass XiaoOptionBurst\n  extends CharacterOption\n  implements IOptionBoolean, IStatsApplicable, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('xiaoBurst');\n  }\n\n  statMixin = {\n    apply: (\n      stats: Stats,\n      _talentAttackLevel: number,\n      _talentSkillLevel: number,\n      talentBurstLevel: number\n    ) => {\n      if (this.value) {\n        let burstParams = getTalentStatsAt(\n          TalentType.Burst,\n          talentBurstLevel,\n          getTalentData('xiao')\n        );\n\n        stats.normalDmgBonus = burstParams[0] + (stats.normalDmgBonus ?? 0);\n        stats.chargedDmgBonus = burstParams[0] + (stats.chargedDmgBonus ?? 0);\n        stats.plungeDmgBonus = burstParams[0] + (stats.plungeDmgBonus ?? 0);\n      }\n    },\n  };\n\n  modifierMixin = {\n    apply: (modifier: DamageModifier) => {\n      if (this.value) {\n        modifier.infusion = Element.Anemo;\n      }\n    },\n  };\n}\n\nconst xiaoOptions = [XiaoOptionBurst];\nexport default xiaoOptions;\n","import CharacterOption from './CharacterOption';\nimport { getTalentStatsAt, getTalentData } from '../../Data';\nimport { IOptionBoolean, IStatsApplicable } from '../Option';\nimport { Stats } from '../../../data/types';\nimport { TalentType } from '../../talent/types';\n\nclass YanfeiOptionBurst\n  extends CharacterOption\n  implements IOptionBoolean, IStatsApplicable\n{\n  value = false;\n\n  constructor() {\n    super('brilliance');\n  }\n\n  statMixin = {\n    apply: (\n      stats: Stats,\n      _talentAttackLevel: number,\n      _talentSkillLevel: number,\n      talentBurstLevel: number\n    ) => {\n      if (this.value) {\n        const burstParams = getTalentStatsAt(\n          TalentType.Burst,\n          talentBurstLevel,\n          getTalentData('yanfei')\n        );\n        stats.chargedDmgBonus = burstParams[1] + (stats.chargedDmgBonus ?? 0);\n      }\n    },\n  };\n}\n\nconst yanfeiOptions = [YanfeiOptionBurst];\nexport default yanfeiOptions;\n","import DamageModifier from '../../modifier/DamageModifer';\nimport { Element } from '../../talent/types';\nimport { IModifierApplicable, IOptionBoolean } from '../Option';\nimport CharacterOption from './CharacterOption';\n\nclass YoimiyaOptionSkill\n  extends CharacterOption\n  implements IOptionBoolean, IModifierApplicable\n{\n  value = false;\n\n  constructor() {\n    super('yoimiyaSkill');\n  }\n\n  modifierMixin = {\n    apply: (modifier: DamageModifier) => {\n      if (this.value) {\n        modifier.infusion = Element.Pyro;\n        modifier.yoimiyaSkill = true;\n      }\n    },\n  };\n}\n\nconst yoimiyaOptions = [YoimiyaOptionSkill];\nexport default yoimiyaOptions;\n","import { artifactSetOptions } from './artifactSetOptions';\nimport { characterOptions } from './characterOptions';\nimport Option, {\n  IModifierApplicable,\n  IOptionBoolean,\n  IOptionNumber,\n  IOptionPicker,\n  IStatsApplicable,\n} from './Option';\n\nconst defaultOptions: typeof Option[] = [];\n\nexport function getCharacterOptions(id: string) {\n  return characterOptions[id] ?? defaultOptions;\n}\n\nexport function getArtifactSetOptions(id: string) {\n  return artifactSetOptions[id] ?? defaultOptions;\n}\n\nexport function isBooleanOption(\n  option: Option\n): option is Option & IOptionBoolean {\n  return typeof (option as unknown as IOptionBoolean).value === 'boolean';\n}\n\nexport function isPickerOption(\n  option: Option\n): option is Option & IOptionPicker {\n  return (option as unknown as IOptionPicker).choices !== undefined;\n}\n\nexport function isNumberOption(\n  option: Option\n): option is Option & IOptionNumber {\n  return typeof (option as unknown as IOptionNumber).value === 'number';\n}\n\nexport function isStatsApplicable(\n  option: Option\n): option is Option & IStatsApplicable {\n  return (option as unknown as IStatsApplicable).statMixin !== undefined;\n}\n\nexport function isModifierApplicable(\n  option: Option\n): option is Option & IModifierApplicable {\n  return (option as unknown as IModifierApplicable).modifierMixin !== undefined;\n}\n\nexport function getOptionValue(option: Option) {\n  if (\n    isBooleanOption(option) ||\n    isPickerOption(option) ||\n    isNumberOption(option)\n  ) {\n    return option.value;\n  }\n}\n\nexport function setOptionValue(option: Option, value: unknown) {\n  if (\n    (isBooleanOption(option) && typeof value === 'boolean') ||\n    (isPickerOption(option) &&\n      typeof value === 'string' &&\n      (value === '' || option.choices.includes(value))) ||\n    (isNumberOption(option) && typeof value === 'number')\n  ) {\n    option.value = value;\n  }\n}\n","import Option from './Option';\n\nexport default Option;\nexport * from './OptionUtils';\n","import { Stats } from '../../data/types';\nimport DamageModifier from '../modifier/DamageModifer';\n\nexport enum Priority {\n  Normal,\n  Last,\n}\n\ninterface Mixin {\n  priority?: Priority;\n}\n\nexport interface StatMixin extends Mixin {\n  apply: (\n    stats: Stats,\n    talentAttackLevel: number,\n    talentSkillLevel: number,\n    talentBurstLevel: number,\n    ascensionLevel: number\n  ) => void;\n}\n\n// Do not modify stats here, use StatMixin for that purpose\nexport interface ModifierMixin extends Mixin {\n  apply: (modifier: DamageModifier, stats: Stats) => void;\n}\n","import { CharacterPassive, CharacterPassiveFn } from '../types';\nimport { aloyAscension1, aloyAscension4 } from './AloyPassive';\nimport { beidouAscension4 } from './BeidouPassive';\nimport { hutaoAscension4 } from './HuTaoPassive';\nimport { kokomiAscension0, kokomiAscension4 } from './KokomiPassive';\nimport { raidenAscension4 } from './RaidenPassive';\nimport { yoimiyaAscension1 } from './YoimiyaPassive';\n\nconst characterPassives: Record<string, CharacterPassiveFn> = {\n  Beidou_PermanentSkill_2: beidouAscension4,\n  Hutao_PermanentSkill_2: hutaoAscension4,\n  Yoimiya_PermanentSkill_1: yoimiyaAscension1,\n  Shougun_PermanentSkill_2: raidenAscension4,\n  // Workaround because Kokomi's A0 passive has no associated id\n  Kokomi_ProudSkill_SwimStamina_Reduction: kokomiAscension0,\n  Kokomi_PermanentSkill_2: kokomiAscension4,\n  Aloy_PermanentSkill_1: aloyAscension1,\n  Aloy_PermanentSkill_2: aloyAscension4,\n};\n\nfunction defaultPassiveFn(): CharacterPassive[] {\n  return [];\n}\n\nexport function getCharacterPassiveFn(passiveId: string) {\n  return characterPassives[passiveId] ?? defaultPassiveFn;\n}\n","import { Stats, TalentParams } from '../../../data/types';\nimport { CharacterOption } from '../../option/characterOptions';\nimport { IOptionBoolean, IStatsApplicable } from '../../option/Option';\nimport { CharacterPassive } from '../types';\n\nexport function beidouAscension4(params: TalentParams): CharacterPassive {\n  class BeidouOptionAscension4\n    extends CharacterOption\n    implements IOptionBoolean, IStatsApplicable\n  {\n    value = false;\n\n    constructor() {\n      super('beidouAscension4');\n    }\n\n    statMixin = {\n      apply: (stats: Stats) => {\n        if (this.value) {\n          stats.normalDmgBonus = params[0] + (stats.normalDmgBonus ?? 0);\n          stats.chargedDmgBonus = params[0] + (stats.chargedDmgBonus ?? 0);\n        }\n      },\n    };\n  }\n\n  return {\n    id: 'beidouAscension4',\n    options: [BeidouOptionAscension4],\n  };\n}\n","import { Stats, TalentParams } from '../../../data/types';\nimport { CharacterOption } from '../../option/characterOptions';\nimport { IOptionBoolean, IStatsApplicable } from '../../option/Option';\nimport { CharacterPassive } from '../types';\n\nexport function hutaoAscension4(params: TalentParams): CharacterPassive {\n  class HuTaoOptionAscension4\n    extends CharacterOption\n    implements IOptionBoolean, IStatsApplicable\n  {\n    value = false;\n\n    constructor() {\n      super('hutaoAscension4');\n    }\n\n    statMixin = {\n      apply: (stats: Stats) => {\n        if (this.value) {\n          stats.pyroDmgBonus = params[1] + (stats.pyroDmgBonus ?? 0);\n        }\n      },\n    };\n  }\n\n  return {\n    id: 'hutaoAscension4',\n    options: [HuTaoOptionAscension4],\n  };\n}\n","import { Stats, TalentParams } from '../../../data/types';\nimport { CharacterOption } from '../../option/characterOptions';\nimport { IOptionNumber, IStatsApplicable } from '../../option/Option';\nimport { CharacterPassive } from '../types';\n\nexport function yoimiyaAscension1(params: TalentParams): CharacterPassive {\n  class YoimiyaOptionAscension1\n    extends CharacterOption\n    implements IOptionNumber, IStatsApplicable\n  {\n    value = 0;\n\n    constructor() {\n      super('yoimiyaAscension1');\n    }\n\n    statMixin = {\n      apply: (stats: Stats) => {\n        let pyroDmgBonus = this.value * params[0];\n        if (this.value < 0 || this.value > 10) {\n          pyroDmgBonus = NaN;\n        }\n\n        stats.pyroDmgBonus = pyroDmgBonus + (stats.pyroDmgBonus ?? 0);\n      },\n    };\n  }\n\n  return {\n    id: 'yoimiyaAscension1',\n    options: [YoimiyaOptionAscension1],\n  };\n}\n","import { Stats, TalentParams } from '../../../data/types';\r\nimport { Priority } from '../../option/Mixin';\r\nimport { CharacterPassive } from '../types';\r\n\r\nexport function raidenAscension4(params: TalentParams): CharacterPassive {\r\n  return {\r\n    id: 'raidenAscension4',\r\n    options: [],\r\n    statMixin: {\r\n      priority: Priority.Last,\r\n      apply: (stats: Stats) => {\r\n        const energyRecharge = stats.energyRecharge ?? 1;\r\n        const electroDmgBonus = params[2] * (energyRecharge - 1) * 100;\r\n        stats.electroDmgBonus = electroDmgBonus + (stats.electroDmgBonus ?? 0);\r\n      },\r\n    },\r\n  };\r\n}\r\n","import { Stats, TalentParams } from '../../../data/types';\r\nimport DamageModifier from '../../modifier/DamageModifer';\r\nimport { CharacterPassive } from '../types';\r\n\r\nexport function kokomiAscension0(_params: TalentParams): CharacterPassive {\r\n  return {\r\n    id: 'kokomiAscension0',\r\n    options: [],\r\n    statMixin: {\r\n      apply: (stats: Stats) => {\r\n        stats.critRate = (stats.critRate ?? 0) - 1;\r\n        if (stats.critRate < 0) {\r\n          stats.critRate = 0;\r\n        }\r\n\r\n        stats.healingBonus = 0.25 + (stats.healingBonus ?? 0);\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport function kokomiAscension4(params: TalentParams): CharacterPassive {\r\n  return {\r\n    id: 'kokomiAscension4',\r\n    options: [],\r\n    modifierMixin: {\r\n      apply: (modifier: DamageModifier) => {\r\n        modifier.kokomiHealingBonusDmg = params[0];\r\n      },\r\n    },\r\n  };\r\n}\r\n","import { Stats, TalentParams } from '../../../data/types';\r\nimport { CharacterOption } from '../../option/characterOptions';\r\nimport {\r\n  IOptionBoolean,\r\n  IOptionNumber,\r\n  IStatsApplicable,\r\n} from '../../option/Option';\r\nimport { CharacterPassive } from '../types';\r\n\r\nexport function aloyAscension1(params: TalentParams): CharacterPassive {\r\n  class AloyOptionAscension1\r\n    extends CharacterOption\r\n    implements IOptionBoolean, IStatsApplicable\r\n  {\r\n    value = false;\r\n\r\n    constructor() {\r\n      super('aloyAscension1');\r\n    }\r\n\r\n    statMixin = {\r\n      apply: (stats: Stats) => {\r\n        if (this.value) {\r\n          stats.atkBonus = params[0] * 2 + (stats.atkBonus ?? 0);\r\n        }\r\n      },\r\n    };\r\n  }\r\n\r\n  return {\r\n    id: 'aloyAscension1',\r\n    options: [AloyOptionAscension1],\r\n  };\r\n}\r\n\r\nexport function aloyAscension4(params: TalentParams): CharacterPassive {\r\n  class AloyOptionAscension4\r\n    extends CharacterOption\r\n    implements IOptionNumber, IStatsApplicable\r\n  {\r\n    value = 0;\r\n\r\n    constructor() {\r\n      super('aloyAscension4');\r\n    }\r\n\r\n    statMixin = {\r\n      apply: (stats: Stats) => {\r\n        if (this.value > 0) {\r\n          let stacks = this.value;\r\n          if (stacks > 10) {\r\n            stacks = 10;\r\n          }\r\n\r\n          const cryoDmgBonus = params[0] * stacks;\r\n          stats.cryoDmgBonus = cryoDmgBonus + (stats.cryoDmgBonus ?? 0);\r\n        }\r\n      },\r\n    };\r\n  }\r\n\r\n  return {\r\n    id: 'aloyAscension4',\r\n    options: [AloyOptionAscension4],\r\n  };\r\n}\r\n","import {\n  getCharacterData as getData,\n  getCharacterAscensionBonusData as getAscensionBonusData,\n  getCharacterStatCurveAt as getStatCurveAt,\n  getAscensionBonusAt,\n  getTalentData,\n  getTalentStatsAt,\n} from '../Data';\n\nimport { getTalentFn } from '../talent';\nimport { getCharacterOptions } from '../option';\n\nimport type {\n  AscensionBonus,\n  StatCurveMapping,\n  Stats,\n  TalentDataSet,\n} from '../../data/types';\nimport type DamageModifier from '../modifier/DamageModifer';\nimport type { TalentType } from '../talent/types';\nimport { getCharacterPassiveFn } from '../passive/characterPassives/CharacterPassive';\nimport { CharacterOption } from '../option/characterOptions';\nimport { CharacterPassive } from '../passive/types';\nimport { ModifierMixin, StatMixin } from '../option/Mixin';\n\nexport default class Character {\n  constructor(id: string, level: number, hasAscended: boolean) {\n    this._level = level;\n    this._hasAscended = hasAscended;\n\n    this.id = id;\n  }\n\n  private _id: string = '';\n  get id(): string {\n    return this._id;\n  }\n  set id(value: string) {\n    // Essentially replaces the constructor\n    this._id = value;\n\n    const data = getData(value);\n\n    this.name = data?.name;\n    this.baseStats = data?.baseStats;\n    this.statCurveMapping = data?.statCurves;\n    this.ascensionBonuses = getAscensionBonusData(value);\n\n    this.talents = getTalentData(value);\n\n    this.innateStats = this.getInnateStatsAt(this.level, this.hasAscended);\n    this.characterOptions = this.getCharacterOptions();\n    const ascensionLevel = getAscensionLevel(this.level, this.hasAscended);\n    this.passives = this.getPassives(ascensionLevel);\n    this.passiveOptions = this.getPassiveOptions(ascensionLevel);\n  }\n\n  name?: string;\n  baseStats?: Stats;\n  statCurveMapping?: StatCurveMapping;\n  ascensionBonuses?: AscensionBonus[];\n  talents?: TalentDataSet;\n\n  private _level: number = 1;\n  get level(): number {\n    return this._level;\n  }\n  set level(value: number) {\n    const prevAscensionLevel = getAscensionLevel(this.level, this.hasAscended);\n    this._level = value;\n    const ascensionLevel = getAscensionLevel(this.level, this.hasAscended);\n\n    this.innateStats = this.getInnateStatsAt(value, this.hasAscended);\n    this.passives = this.getPassives(ascensionLevel);\n    this.passiveOptions = this.getPassiveOptions(\n      ascensionLevel,\n      prevAscensionLevel\n    );\n  }\n\n  private _hasAscended: boolean = false;\n  get hasAscended() {\n    return this._hasAscended;\n  }\n  set hasAscended(value: boolean) {\n    const prevAscensionLevel = getAscensionLevel(this.level, this.hasAscended);\n    this._hasAscended = value;\n    const ascensionLevel = getAscensionLevel(this.level, this.hasAscended);\n\n    this.innateStats = this.getInnateStatsAt(this.level, value);\n    this.passives = this.getPassives(ascensionLevel);\n    this.passiveOptions = this.getPassiveOptions(\n      ascensionLevel,\n      prevAscensionLevel\n    );\n  }\n\n  innateStats: Stats = {};\n  passives: CharacterPassive[] = [];\n  characterOptions: CharacterOption[] = [];\n  passiveOptions: CharacterOption[] = [];\n\n  isDefined() {\n    return this.id !== '';\n  }\n\n  // Returns an Object containing the character's innate total HP, Atk and Def, taking into account only their level and ascension\n  getInnateStatsAt(level: number, hasAscended: boolean) {\n    if (\n      this.baseStats === undefined ||\n      this.statCurveMapping === undefined ||\n      this.ascensionBonuses === undefined\n    ) {\n      // Character is (likely) not defined/stats not found\n      return {};\n    }\n\n    if (isNaN(level) || level < 1 || level > 90) {\n      // Return NaNs if level is invalid\n      let innateStats;\n      if (this.innateStats !== undefined) {\n        // Copy all of innateStats' properties to a new object and initialize them to null\n        innateStats = Object.keys(this.innateStats).reduce((obj, stat) => {\n          obj[stat] = NaN;\n          return obj;\n        }, {} as Stats);\n      } else {\n        innateStats = {};\n      }\n\n      return innateStats;\n    }\n\n    // ELSE\n    // Initialize stats with character level 1 base stats\n    let innateStats = { ...this.baseStats };\n\n    let charStatCurves = getStatCurveAt(level);\n\n    // Calculate stats from character level\n    Object.entries(this.statCurveMapping).forEach(([stat, curve]) => {\n      let multiplier = charStatCurves[curve];\n      innateStats[stat] *= multiplier;\n    });\n\n    // Calculate stats from character ascension\n    let ascensionLevel = getAscensionLevel(level, hasAscended);\n\n    let ascensionBonuses = getAscensionBonusAt(\n      ascensionLevel,\n      this.ascensionBonuses\n    );\n\n    if (ascensionBonuses !== undefined) {\n      Object.entries(ascensionBonuses).forEach(([stat, bonus]) => {\n        if (stat in innateStats) {\n          innateStats[stat] += bonus;\n        } else {\n          innateStats[stat] = bonus;\n        }\n      });\n    }\n\n    return innateStats;\n  }\n\n  // Return an Object with description and damage properties\n  getTalentDamageAt({\n    type,\n    talentLevel,\n    totalStats,\n    modifier,\n  }: {\n    type: TalentType;\n    talentLevel: number;\n    totalStats: Stats;\n    modifier: DamageModifier;\n  }) {\n    if (this.talents === undefined) {\n      return [];\n    }\n\n    const params = getTalentStatsAt(type, talentLevel, this.talents);\n\n    let damageFn = getTalentFn(this.id, type);\n\n    let damage = damageFn({\n      params,\n      stats: totalStats,\n      modifier,\n    });\n\n    return damage;\n  }\n\n  getCharacterOptions() {\n    return getCharacterOptions(this.id).map((Option) => new Option());\n  }\n\n  getPassives(ascensionLevel: number): CharacterPassive[] {\n    if (this.talents === undefined) {\n      return [];\n    }\n\n    const passiveDatas = this.talents.passives;\n\n    return passiveDatas\n      .filter((passiveData) => ascensionLevel >= passiveData.ascensionLevel)\n      .flatMap((passiveData) =>\n        getCharacterPassiveFn(passiveData.id)(passiveData.params)\n      );\n  }\n\n  // getPassives should be called before this if passives are updated\n  getPassiveOptions(ascensionLevel: number, prevAscensionLevel?: number) {\n    if (prevAscensionLevel === undefined || isNaN(prevAscensionLevel)) {\n      return this.passives\n        .flatMap(({ options }) => options)\n        .map((Option) => new Option());\n    }\n\n    if (ascensionLevel > prevAscensionLevel) {\n      const oldOptionIds = this.passiveOptions.map(({ id }) => id);\n      const newOptions = this.passives\n        .flatMap(({ options }) => options)\n        .map((Option) => new Option())\n        .filter(({ id }) => !oldOptionIds.includes(id));\n\n      return this.passiveOptions.concat(newOptions);\n    }\n\n    if (ascensionLevel < prevAscensionLevel) {\n      const keptOptionIds = this.passives\n        .flatMap(({ options }) => options)\n        .map((Option) => new Option())\n        .map((option) => option.id);\n\n      return this.passiveOptions.filter((option) =>\n        keptOptionIds.includes(option.id)\n      );\n    }\n\n    // if (ascensionLevel === prevAscensionLevel)\n    return this.passiveOptions;\n  }\n\n  getOptions() {\n    const characterOptions = this.characterOptions;\n    const passiveOptions = this.passiveOptions;\n\n    return characterOptions.concat(passiveOptions);\n  }\n\n  getPassiveStatMixins(): StatMixin[] {\n    return this.passives\n      .map(({ statMixin }) => statMixin)\n      .filter((mixin): mixin is StatMixin => mixin !== undefined);\n  }\n\n  getPassiveModifierMixins(): ModifierMixin[] {\n    return this.passives\n      .map(({ modifierMixin }) => modifierMixin)\n      .filter((mixin): mixin is ModifierMixin => mixin !== undefined);\n  }\n}\n\n// Utility functions\nexport function getAscensionLevel(level: number, hasAscended: boolean) {\n  let ascensionLevel;\n  if (level > 80 || (level === 80 && hasAscended)) {\n    ascensionLevel = 6;\n  } else if (level > 70 || (level === 70 && hasAscended)) {\n    ascensionLevel = 5;\n  } else if (level > 60 || (level === 60 && hasAscended)) {\n    ascensionLevel = 4;\n  } else if (level > 50 || (level === 50 && hasAscended)) {\n    ascensionLevel = 3;\n  } else if (level > 40 || (level === 40 && hasAscended)) {\n    ascensionLevel = 2;\n  } else if (level > 20 || (level === 20 && hasAscended)) {\n    ascensionLevel = 1;\n  } else {\n    ascensionLevel = 0;\n  }\n\n  return ascensionLevel;\n}\n","import { Stats } from '../data/types';\nimport Artifact from './artifact/Artifact';\nimport Character, { getAscensionLevel } from './character/Character';\nimport { talentDescMapping, optionMapping, propMapping } from './Data';\nimport { StatMixin } from './option/Mixin';\nimport Weapon from './weapon/Weapon';\n\n// Returns the string to display as the value of a stat\nexport function getStatDisplayValue(prop: string, value: number) {\n  const isPercentage = propMapping[prop]?.isPercentage;\n  if (value != null && !isNaN(value)) {\n    if (isPercentage) {\n      return (value * 100).toFixed(1) + '%';\n    } else {\n      return Math.round(value).toString();\n    }\n  } else {\n    return '-';\n  }\n}\n\n// Returns the string to display as the talent damage\nexport function getDamageDisplayValue(values: number[]) {\n  let str = '';\n\n  if (values.length === 0) {\n    return str;\n  }\n\n  if (isNaN(values[0])) {\n    return '-';\n  } else {\n    str += Math.round(values[0]);\n  }\n\n  if (values.length >= 3 && values.every((value) => value === values[0])) {\n    // All elements are the same, simplify to ${damage} x${count}\n    str += ' x ' + values.length;\n  } else {\n    // Less than 3 elements, or elements are different\n    values.slice(1).forEach((value) => {\n      if (isNaN(value)) {\n        return '-';\n      } else {\n        str += ' + ' + Math.round(value);\n      }\n    });\n  }\n\n  return str;\n}\n\n// Returns the display name of a talent option\nexport function getOptionName(id: string) {\n  return optionMapping[id];\n}\n\n// Returns a Number representing the inputted value of a stat\nexport function convertStatValue(value: number, isPercentage: boolean) {\n  if (isPercentage) {\n    return value / 100;\n  } else {\n    return value;\n  }\n}\n\n// Returns a number representing the value to display (e.g. in stat inputs)\nexport function convertStatToDisplayValue(\n  value: number,\n  isPercentage: boolean\n) {\n  if (isPercentage) {\n    return value * 100;\n  } else {\n    return value;\n  }\n}\n\nexport function getTalentDescription(desc: string) {\n  return talentDescMapping[desc];\n}\n\n// Returns object containing base stats of character with the passed weapon\n// Base stats = character innate stats + weapon stats\nfunction getBaseStatsAt(character: Character, weapon: Weapon) {\n  let characterStats;\n  if (character !== undefined) {\n    characterStats = character.innateStats;\n  } else {\n    characterStats = {};\n  }\n\n  let weaponStats;\n  if (weapon !== undefined) {\n    weaponStats = weapon.stats;\n  } else {\n    weaponStats = {};\n  }\n\n  // Merges weaponStats and innateStats into a new baseStats object\n  let baseStats = { ...weaponStats };\n  Object.entries(characterStats).forEach(([stat, value]) => {\n    if (baseStats[stat] === undefined) {\n      baseStats[stat] = value;\n    } else {\n      baseStats[stat] += value;\n    }\n  });\n\n  return baseStats;\n}\n\n// Returns object containing the total stats of the character, weapon and artifacts\n// Ignores any of [character, weapon] that are undefined\nexport function getTotalStatsAt(\n  character: Character,\n  weapon: Weapon,\n  artifactSetBonuses: Stats,\n  artifacts: Artifact[],\n  talentAttackLevel: number,\n  talentSkillLevel: number,\n  talentBurstLevel: number,\n  statMixins: StatMixin[]\n) {\n  let baseStats = getBaseStatsAt(character, weapon);\n  let combinedStats = { ...baseStats };\n\n  // Merge artifact bonuses into separate object\n  let artifactStats: Stats = {};\n  artifacts.forEach((artifact) => {\n    Object.entries(artifact.getStats()).forEach(([stat, value]) => {\n      if (artifactStats[stat] === undefined) {\n        artifactStats[stat] = value;\n      } else {\n        artifactStats[stat] += value;\n      }\n    });\n  });\n\n  // Merge base stats and artifact bonuses\n  Object.entries(artifactStats).forEach(([stat, value]) => {\n    if (combinedStats[stat] === undefined) {\n      combinedStats[stat] = value;\n    } else {\n      combinedStats[stat] += value;\n    }\n  });\n\n  // Merge base stats and artifact set bonuses\n  if (artifactSetBonuses !== undefined) {\n    Object.entries(artifactSetBonuses).forEach(([stat, value]) => {\n      if (combinedStats[stat] === undefined) {\n        combinedStats[stat] = value;\n      } else {\n        combinedStats[stat] += value;\n      }\n    });\n  }\n\n  // Add base 100% energy recharge\n  combinedStats.energyRecharge = 1 + (combinedStats.energyRecharge ?? 0);\n\n  // Apply stat mixins\n  statMixins.forEach((mixin) =>\n    mixin.apply(\n      combinedStats,\n      talentAttackLevel,\n      talentSkillLevel,\n      talentBurstLevel,\n      getAscensionLevel(character.level, character.hasAscended)\n    )\n  );\n\n  // Calculate total stats\n  let totalStats: Stats = {};\n\n  totalStats.baseAtk = combinedStats.baseAtk ?? 0;\n\n  totalStats.flatAtk =\n    (combinedStats.baseAtk ?? 0) * (1 + (combinedStats.atkBonus ?? 0)) +\n    (combinedStats.flatAtk ?? 0);\n  totalStats.flatDef =\n    (combinedStats.baseDef ?? 0) * (1 + (combinedStats.defBonus ?? 0)) +\n    (combinedStats.flatDef ?? 0);\n  totalStats.flatHp =\n    (combinedStats.baseHp ?? 0) * (1 + (combinedStats.hpBonus ?? 0)) +\n    (combinedStats.flatHp ?? 0);\n  totalStats.critRate = combinedStats.critRate ?? 0;\n  totalStats.critDmg = combinedStats.critDmg ?? 0;\n  totalStats.elementalMastery = combinedStats.elementalMastery ?? 0;\n  totalStats.energyRecharge = combinedStats.energyRecharge ?? 0;\n\n  if (combinedStats.anemoDmgBonus !== undefined) {\n    totalStats.anemoDmgBonus = combinedStats.anemoDmgBonus;\n  }\n  if (combinedStats.cryoDmgBonus !== undefined) {\n    totalStats.cryoDmgBonus = combinedStats.cryoDmgBonus;\n  }\n  if (combinedStats.electroDmgBonus !== undefined) {\n    totalStats.electroDmgBonus = combinedStats.electroDmgBonus;\n  }\n  if (combinedStats.geoDmgBonus !== undefined) {\n    totalStats.geoDmgBonus = combinedStats.geoDmgBonus;\n  }\n  if (combinedStats.hydroDmgBonus !== undefined) {\n    totalStats.hydroDmgBonus = combinedStats.hydroDmgBonus;\n  }\n  if (combinedStats.pyroDmgBonus !== undefined) {\n    totalStats.pyroDmgBonus = combinedStats.pyroDmgBonus;\n  }\n  if (combinedStats.physicalDmgBonus !== undefined) {\n    totalStats.physicalDmgBonus = combinedStats.physicalDmgBonus;\n  }\n\n  if (combinedStats.anemoRes !== undefined) {\n    totalStats.anemoRes = combinedStats.anemoRes;\n  }\n  if (combinedStats.cryoRes !== undefined) {\n    totalStats.cryoRes = combinedStats.cryoRes;\n  }\n  if (combinedStats.electroRes !== undefined) {\n    totalStats.electroRes = combinedStats.electroRes;\n  }\n  if (combinedStats.geoRes !== undefined) {\n    totalStats.geoRes = combinedStats.geoRes;\n  }\n  if (combinedStats.hydroRes !== undefined) {\n    totalStats.hydroRes = combinedStats.hydroRes;\n  }\n  if (combinedStats.pyroRes !== undefined) {\n    totalStats.pyroRes = combinedStats.pyroRes;\n  }\n  if (combinedStats.physicalRes !== undefined) {\n    totalStats.physicalRes = combinedStats.physicalRes;\n  }\n\n  if (combinedStats.healingBonus !== undefined) {\n    totalStats.healingBonus = combinedStats.healingBonus;\n  }\n\n  if (combinedStats.shieldStrength !== undefined) {\n    totalStats.shieldStrength = combinedStats.shieldStrength;\n  }\n  if (combinedStats.dmgBonus !== undefined) {\n    totalStats.dmgBonus = combinedStats.dmgBonus;\n  }\n  if (combinedStats.normalDmgBonus !== undefined) {\n    totalStats.normalDmgBonus = combinedStats.normalDmgBonus;\n  }\n  if (combinedStats.chargedDmgBonus !== undefined) {\n    totalStats.chargedDmgBonus = combinedStats.chargedDmgBonus;\n  }\n  if (combinedStats.plungeDmgBonus !== undefined) {\n    totalStats.plungeDmgBonus = combinedStats.plungeDmgBonus;\n  }\n  if (combinedStats.skillDmgBonus !== undefined) {\n    totalStats.skillDmgBonus = combinedStats.skillDmgBonus;\n  }\n  if (combinedStats.burstDmgBonus !== undefined) {\n    totalStats.burstDmgBonus = combinedStats.burstDmgBonus;\n  }\n  if (combinedStats.chargedCritRate !== undefined) {\n    totalStats.chargedCritRate = combinedStats.chargedCritRate;\n  }\n  if (combinedStats.burstCritRate !== undefined) {\n    totalStats.burstCritRate = combinedStats.burstCritRate;\n  }\n\n  if (combinedStats.overloadDmgBonus !== undefined) {\n    totalStats.overloadDmgBonus = combinedStats.overloadDmgBonus;\n  }\n  if (combinedStats.burningDmgBonus !== undefined) {\n    totalStats.burningDmgBonus = combinedStats.burningDmgBonus;\n  }\n  if (combinedStats.vaporizeDmgBonus !== undefined) {\n    totalStats.vaporizeDmgBonus = combinedStats.vaporizeDmgBonus;\n  }\n  if (combinedStats.meltDmgBonus !== undefined) {\n    totalStats.meltDmgBonus = combinedStats.meltDmgBonus;\n  }\n\n  return totalStats;\n}\n\nexport function capitalize(str: string) {\n  if (str.length > 0) {\n    return str[0].toUpperCase().concat(str.slice(1));\n  } else {\n    return str;\n  }\n}\n","import type { Stat } from '../../data/types';\nimport { propMapping } from '../Data';\nimport { ArtifactSetOption } from '../option/artifactSetOptions';\nimport { ModifierMixin, StatMixin } from '../option/Mixin';\nimport { convertStatToDisplayValue, convertStatValue } from '../Stat';\n\nexport class InputStat implements Stat {\n  stat: string;\n  value: number;\n  rawValue: number;\n\n  constructor(stat: string = '', value: number = NaN, rawValue: number = NaN) {\n    this.stat = stat;\n    this.value = value;\n    this.rawValue = rawValue;\n  }\n\n  setProp(stat: string) {\n    this.stat = stat;\n    if (stat !== '') {\n      this.value = convertStatValue(\n        this.rawValue,\n        propMapping[stat].isPercentage\n      );\n    }\n  }\n\n  setInputValue(value: number) {\n    this.rawValue = value;\n    if (this.stat !== '') {\n      this.value = convertStatValue(value, propMapping[this.stat].isPercentage);\n    }\n  }\n\n  setValue(value: number) {\n    this.value = value;\n    if (this.stat !== '') {\n      this.rawValue = convertStatToDisplayValue(\n        value,\n        propMapping[this.stat].isPercentage\n      );\n    }\n  }\n}\n\nexport enum ArtifactType {\n  Flower = 'flower',\n  Feather = 'feather',\n  Sands = 'sands',\n  Goblet = 'goblet',\n  Circlet = 'circlet',\n}\n\nexport type ArtifactSetBonusFunction = (params: number[]) => Stat[];\n\nexport interface ArtifactSetBonus {\n  options: typeof ArtifactSetOption[];\n  extraStatsFn?: ArtifactSetBonusFunction;\n  statMixin?: StatMixin;\n  modifierMixin?: ModifierMixin;\n}\n","import { Stat, Stats } from '../../data/types';\nimport { getArtifactMainStatValue } from '../Data';\nimport { ArtifactType, InputStat } from './types';\n\nexport default class Artifact {\n  type: ArtifactType;\n\n  private _rarity: number;\n  get rarity(): number {\n    return this._rarity;\n  }\n  set rarity(value: number) {\n    this._rarity = value;\n    this.updateMainStat(this.rarity, this.level, this.mainStat.stat);\n  }\n\n  private _level: number;\n  get level(): number {\n    return this._level;\n  }\n  set level(value: number) {\n    this._level = value;\n    this.updateMainStat(this.rarity, this.level, this.mainStat.stat);\n  }\n\n  mainStat: Stat = { stat: '', value: NaN };\n\n  subStats: InputStat[] = [\n    new InputStat(),\n    new InputStat(),\n    new InputStat(),\n    new InputStat(),\n  ];\n\n  constructor(\n    type: ArtifactType,\n    rarity: number,\n    level: number,\n    mainStatProp: string\n  ) {\n    this.type = type;\n    this._rarity = rarity;\n    this._level = level;\n    this.mainStat.stat = mainStatProp;\n\n    this.updateMainStat(rarity, level, mainStatProp);\n  }\n\n  updateMainStat(rarity: number, level: number, prop: string) {\n    this.setMainStatValue(getArtifactMainStatValue(rarity, level, prop));\n  }\n\n  setMainStatProp(prop: string) {\n    this.mainStat.stat = prop;\n    this.updateMainStat(this.rarity, this.level, prop);\n  }\n\n  setMainStatValue(value: number) {\n    this.mainStat.value = value;\n  }\n\n  setSubStatProp(i: number, prop: string) {\n    this.subStats[i].setProp(prop);\n  }\n\n  setSubStatInputValue(i: number, value: number) {\n    this.subStats[i].setInputValue(value);\n  }\n\n  setSubStatValue(i: number, value: number) {\n    this.subStats[i].setValue(value);\n  }\n\n  /*\n  // Can be called with one of the two of stat and value (the other will be undefined)\n  setStat(\n    statObj: InputStat,\n    stat?: string,\n    value?: number,\n    isPercentage = false\n  ) {\n    if (stat === undefined && value !== undefined) {\n      statObj.rawValue = value;\n      statObj.value = statUtils.convertStatValue(value, isPercentage);\n    } else if (stat !== undefined && value === undefined) {\n      statObj.stat = stat;\n      statObj.value = statUtils.convertStatValue(\n        statObj.rawValue,\n        isPercentage\n      );\n    } else if (stat !== undefined && value !== undefined) {\n      statObj.stat = stat;\n      statObj.rawValue = value;\n      statObj.value = statUtils.convertStatValue(value, isPercentage);\n    }\n  }\n\n  setMainStat(stat, value, isPercentage = false) {\n      this.setStat(this.mainStat, stat, value, isPercentage);\n  }\n\n  // Set substat in a spefiic position\n  setSubStat(pos, stat, value, isPercentage = false) {\n      this.setStat(this.subStats[pos], stat, value, isPercentage);\n  }\n  */\n\n  // Returns object containing stat: value mapping, including both main stat and substats\n  getStats() {\n    let stats: Stats = {};\n\n    if (this.mainStat.stat !== '') {\n      if (!isNaN(this.mainStat.value)) {\n        stats[this.mainStat.stat] = this.mainStat.value;\n      } else {\n        stats[this.mainStat.stat] = NaN;\n      }\n    }\n\n    this.subStats.forEach((subStat) => {\n      if (subStat.stat !== '') {\n        if (!isNaN(subStat.value)) {\n          stats[subStat.stat] = subStat.value + (stats[subStat.stat] ?? 0);\n        }\n      }\n    });\n\n    return stats;\n  }\n}\n\nexport const mainStatProps = {\n  flower: ['flatHp'],\n\n  feather: ['flatAtk'],\n\n  sands: [\n    'hpBonus',\n    'atkBonus',\n    'defBonus',\n    'elementalMastery',\n    'energyRecharge',\n  ],\n\n  goblet: [\n    'hpBonus',\n    'atkBonus',\n    'defBonus',\n    'elementalMastery',\n    'anemoDmgBonus',\n    'cryoDmgBonus',\n    'electroDmgBonus',\n    'geoDmgBonus',\n    'hydroDmgBonus',\n    'pyroDmgBonus',\n    'physicalDmgBonus',\n  ],\n\n  circlet: [\n    'hpBonus',\n    'atkBonus',\n    'defBonus',\n    'elementalMastery',\n    'critRate',\n    'critDmg',\n    'healingBonus',\n  ],\n};\n\nexport const subStatProps = [\n  'flatHp',\n  'flatAtk',\n  'flatDef',\n  'hpBonus',\n  'atkBonus',\n  'defBonus',\n  'elementalMastery',\n  'energyRecharge',\n  'critRate',\n  'critDmg',\n];\n","import React from 'react';\nimport Form from 'react-bootstrap/esm/Form';\n\ntype NumberInputProps = {\n  id: string;\n  label: string;\n  defaultValue: number;\n  value?: number;\n  onInput?: (value: number) => void;\n  isLabelShown?: boolean;\n  className?: string;\n};\n\ntype NumberInputState = {\n  value: number;\n};\n\nclass NumberInput extends React.Component<NumberInputProps, NumberInputState> {\n  // Boilerplate for making this an optionally controllable component\n  // https://medium.com/quick-code/writing-ui-components-with-optionally-controllable-state-86e396a6f1ec\n  state: NumberInputState = {\n    value: this.props.defaultValue,\n  };\n\n  isControlled = () => this.props.value !== undefined;\n\n  isLabelShown = () => this.props.isLabelShown ?? true;\n\n  onChangeDefault = (e: React.FormEvent<HTMLInputElement>) => {\n    const value = parseInt(e.currentTarget.value);\n    this.setState({ value });\n  };\n\n  parseInput = (value: string) => {\n    return Number(value);\n  };\n\n  handleInput = (e: React.FormEvent<HTMLInputElement>) => {\n    const value = this.parseInput(e.currentTarget.value);\n\n    if (this.isControlled()) {\n      if (this.props.onInput !== undefined) {\n        this.props.onInput(value);\n      }\n    } else {\n      this.setState({ value }, () => {\n        // Callback fn\n        if (this.props.onInput) this.props.onInput(value);\n      });\n    }\n  };\n\n  render() {\n    // this.props.value is always defined when the component is controlled\n    const value = this.isControlled() ? this.props.value! : this.state.value;\n    const displayString = isNaN(value) ? '' : value.toString();\n\n    return (\n      <>\n        <Form.Label htmlFor={this.props.id} srOnly={!this.isLabelShown()}>\n          {this.props.label}\n        </Form.Label>\n        <Form.Control\n          type='number'\n          size='sm'\n          value={displayString}\n          onInput={this.handleInput}\n          className={`number-input ${this.props.className ?? ''}`}\n          id={this.props.id}\n        />\n      </>\n    );\n  }\n}\n\nexport default NumberInput;\n","import NumberInput from './NumberInput';\n\nclass FloatInput extends NumberInput {\n  override parseInput = (value: string) => {\n    return parseFloat(value);\n  };\n}\n\nexport default FloatInput;\n","import React from 'react';\nimport Row from 'react-bootstrap/esm/Row';\n\nclass InputRow extends React.Component {\n  render() {\n    return <Row className='input-row no-gutters'>{this.props.children}</Row>;\n  }\n}\n\nexport default InputRow;\n","import NumberInput from './NumberInput';\n\nclass IntInput extends NumberInput {\n  override parseInput = (value: string) => {\n    return parseInt(value);\n  };\n}\n\nexport default IntInput;\n","import React from 'react';\nimport Form from 'react-bootstrap/esm/Form';\n\ntype PickerProps = {\n  id: string;\n  label: string;\n  defaultValue: string;\n  value?: string;\n  onChange?: (value: string) => void;\n  isLabelShown?: boolean;\n  className?: string;\n};\n\ntype PickerState = {\n  value: string;\n};\n\ntype PickerItemProps = {\n  label: string;\n  value: string;\n};\n\nclass Picker extends React.Component<PickerProps, PickerState> {\n  // Boilerplate for making this an optionally controllable component\n  // https://medium.com/quick-code/writing-ui-components-with-optionally-controllable-state-86e396a6f1ec\n  state: PickerState = {\n    value: this.props.defaultValue,\n  };\n\n  isControlled = () => this.props.value !== undefined;\n\n  isLabelShown = () => this.props.isLabelShown ?? true;\n\n  onChangeDefault = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const selectedValue = e.target.value;\n    this.setState({ value: selectedValue });\n  };\n\n  handleChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const selectedValue = e.target.value;\n\n    if (this.isControlled()) {\n      if (this.props.onChange !== undefined) {\n        this.props.onChange(selectedValue);\n      }\n    } else {\n      this.setState({ value: selectedValue }, () => {\n        // Callback fn\n        if (this.props.onChange) this.props.onChange(selectedValue);\n      });\n    }\n  };\n\n  render() {\n    const selectedValue = this.isControlled()\n      ? this.props.value\n      : this.state.value;\n\n    return (\n      <>\n        <Form.Label htmlFor={this.props.id} srOnly={!this.isLabelShown()}>\n          {this.props.label}\n        </Form.Label>\n        <Form.Control\n          as='select'\n          size='sm'\n          value={selectedValue}\n          onChange={this.handleChange}\n          className={`picker ${this.props.className ?? ''}`}\n          id={this.props.id}\n        >\n          {this.props.children}\n        </Form.Control>\n      </>\n    );\n  }\n\n  static Item = class Item extends React.Component<PickerItemProps> {\n    render() {\n      return <option value={this.props.value}>{this.props.label}</option>;\n    }\n  };\n}\n\nexport default Picker;\n","import React from 'react';\nimport Artifact, { mainStatProps, subStatProps } from '../js/artifact/Artifact';\nimport { propMapping } from '../js/Data';\nimport { capitalize, getStatDisplayValue } from '../js/Stat';\nimport FloatInput from './FloatInput';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\nimport Picker from './Picker';\n\ntype ArtifactBlockProps = {\n  artifact: Artifact;\n  updateArtifactState: () => void;\n};\n\nclass ArtifactBlock extends React.Component<ArtifactBlockProps> {\n  setArtifactMainStatProp = (prop: string) => {\n    this.props.artifact.setMainStatProp(prop);\n    this.props.updateArtifactState();\n  };\n\n  setArtifactRarity = (rarity: number) => {\n    this.props.artifact.rarity = rarity;\n    this.props.updateArtifactState();\n  };\n\n  setArtifactLevel = (level: number) => {\n    this.props.artifact.level = level;\n    this.props.updateArtifactState();\n  };\n\n  setArtifactSubStatProp = (i: number) => (prop: string) => {\n    this.props.artifact.setSubStatProp(i, prop);\n    this.props.updateArtifactState();\n  };\n\n  setArtifactSubStatValue = (i: number) => (value: number) => {\n    this.props.artifact.setSubStatInputValue(i, value);\n    this.props.updateArtifactState();\n  };\n\n  render() {\n    const { artifact } = this.props;\n\n    return (\n      <div className='sub-block'>\n        <h3>{capitalize(artifact.type)}</h3>\n\n        <InputRow>\n          <IntInput\n            className='level-input'\n            id={`artifact-${artifact.type}-rarity`}\n            label='Rarity:'\n            defaultValue={1}\n            value={artifact.rarity}\n            onInput={this.setArtifactRarity}\n          />\n        </InputRow>\n\n        <InputRow>\n          <IntInput\n            className='level-input'\n            id={`artifact-${artifact.type}-level`}\n            label='Level:'\n            defaultValue={0}\n            value={artifact.level}\n            onInput={this.setArtifactLevel}\n          />\n        </InputRow>\n\n        <InputRow>\n          <Picker\n            id={`artifact-${artifact.type}-main-stat`}\n            label='Main Stat:'\n            defaultValue=''\n            value={artifact.mainStat.stat}\n            onChange={this.setArtifactMainStatProp}\n          >\n            <Picker.Item label='' value='' />\n            {mainStatProps[artifact.type].map((prop) => (\n              <Picker.Item\n                label={propMapping[prop].name}\n                value={prop}\n                key={prop}\n              />\n            ))}\n          </Picker>\n\n          <p>:</p>\n\n          <p>\n            {getStatDisplayValue(\n              artifact.mainStat.stat,\n              artifact.mainStat.value\n            )}\n          </p>\n        </InputRow>\n\n        <p>Substats</p>\n        {artifact.subStats.map((statObj, i) => (\n          <InputRow key={i}>\n            <Picker\n              id={`artifact-${artifact.type}-sub-stat-${i}`}\n              label=''\n              defaultValue=''\n              value={statObj.stat}\n              onChange={this.setArtifactSubStatProp(i)}\n              isLabelShown={false}\n            >\n              <Picker.Item label='' value='' />\n              {subStatProps.map((prop) => (\n                <Picker.Item\n                  label={propMapping[prop].name}\n                  value={prop}\n                  key={prop}\n                />\n              ))}\n            </Picker>\n\n            <p>:</p>\n\n            <FloatInput\n              id={`artifact-${artifact.type}-sub-stat-${i}-value`}\n              label=''\n              defaultValue={NaN}\n              value={statObj.rawValue}\n              onInput={this.setArtifactSubStatValue(i)}\n              isLabelShown={false}\n              className='stat-input'\n            />\n          </InputRow>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default ArtifactBlock;\n","import { AppState } from '../../App';\nimport { Stats } from '../../data/types';\nimport Artifact from '../artifact/Artifact';\nimport DamageModifier from '../modifier/DamageModifer';\nimport { StatMixin } from '../option/Mixin';\nimport { getTotalStatsAt } from '../Stat';\nimport { TalentType } from '../talent/types';\n\nexport type RollDistribution = {\n  stat: string;\n  rolls: number;\n};\n\ntype SubstatOptimzerResult = {\n  subStatRolls: RollDistribution[];\n  artifacts: Artifact[];\n};\n\n// Average substat rolls, as per KQM guidelines\nexport const substats: Record<string, number> = {\n  hpBonus: 0.0496,\n  flatHp: 253.94,\n  atkBonus: 0.0496,\n  flatAtk: 16.54,\n  defBonus: 0.062,\n  flatDef: 19.68,\n  elementalMastery: 19.82,\n  energyRecharge: 0.0551,\n  critRate: 0.0331,\n  critDmg: 0.0662,\n};\n\n// Optimize substats according to KQM standardized guidelines\n// 20 preallocated fixed subs (2 of each substat)\n// maxRolls liquid subs (default/max = 20)\n// each sub type can have maximum 2 rolls per different main stat type\nexport function optimizeSubstats(\n  possibleStats: string[],\n  maxRolls: number,\n  erThreshold: number,\n  optimizeTalentType: TalentType,\n  optimizeTalentId: string,\n  appState: AppState,\n  artifactSetBonuses: Stats,\n  damageModifier: DamageModifier,\n  statMixins: StatMixin[]\n): SubstatOptimzerResult {\n  let maxDmg = 0;\n  let optimalSubstatRolls: RollDistribution[] = [];\n  let optimalArtifacts: Artifact[] = appState.artifacts;\n\n  // Roll ER to reach threshold\n  const baseArtifacts = generateBaseArtifacts(appState.artifacts);\n  const baseTotalStats = getTotalStatsAt(\n    appState.character,\n    appState.weapon,\n    artifactSetBonuses,\n    baseArtifacts,\n    appState.talentAttackLevel,\n    appState.talentSkillLevel,\n    appState.talentBurstLevel,\n    statMixins\n  );\n  const baseEr = baseTotalStats.energyRecharge ?? 0;\n\n  let baseErRolls = Math.ceil((erThreshold - baseEr) / substats.energyRecharge);\n\n  const erMainStatCount = baseArtifacts\n    .map((artifact) => artifact.mainStat.stat)\n    .filter((mainStat) => mainStat === 'energyRecharge').length;\n\n  if (baseErRolls < 0) {\n    baseErRolls = 0;\n  } else if (baseErRolls > 2 * (5 - erMainStatCount)) {\n    baseErRolls = 2 * (5 - erMainStatCount);\n  }\n\n  // Generate all combinations\n  const combinations = generateRollCombinationsKqm(\n    possibleStats,\n    maxRolls - baseErRolls,\n    appState.artifacts.map((artifact) => artifact.mainStat.stat),\n    baseErRolls\n  );\n\n  combinations.forEach((combination) => {\n    // Add in ER threshold rolls\n    if (baseErRolls > 0) {\n      const erDistribution = combination.find(\n        ({ stat }) => stat === 'energyRecharge'\n      );\n      if (erDistribution === undefined) {\n        combination.push({ stat: 'energyRecharge', rolls: baseErRolls });\n      } else {\n        erDistribution.rolls += baseErRolls;\n      }\n    }\n\n    const artifacts = generateBaseArtifacts(appState.artifacts);\n\n    addRollsToArtifacts(combination, artifacts);\n\n    const totalStats = getTotalStatsAt(\n      appState.character,\n      appState.weapon,\n      artifactSetBonuses,\n      artifacts,\n      appState.talentAttackLevel,\n      appState.talentSkillLevel,\n      appState.talentBurstLevel,\n      statMixins\n    );\n\n    // Calculate talent damage\n    const talentValues = appState.character.getTalentDamageAt({\n      type: optimizeTalentType,\n      talentLevel: appState.talentAttackLevel,\n      totalStats: totalStats,\n      modifier: damageModifier,\n    });\n\n    const talentDmg =\n      talentValues.find(\n        (talentValue) => talentValue.description === optimizeTalentId\n      )?.damage?.[0] ?? 0;\n\n    // Update optimal rolls\n    if (talentDmg > maxDmg) {\n      optimalSubstatRolls = combination;\n      optimalArtifacts = artifacts;\n      maxDmg = talentDmg;\n    }\n  });\n\n  return {\n    subStatRolls: optimalSubstatRolls,\n    artifacts: optimalArtifacts,\n  };\n}\n\n// Recursive function to generate all substat combinations according to KQM 2*n rule\nfunction generateRollCombinationsKqm(\n  possibleStats: string[],\n  maxRolls: number,\n  mainStats: string[],\n  baseErRolls: number\n): RollDistribution[][] {\n  if (possibleStats.length === 0 || maxRolls === 0) {\n    return [];\n  }\n\n  const sameMainStatCount = mainStats.filter(\n    (mainStat) => possibleStats[0] === mainStat\n  ).length;\n  let currentMaxRolls = Math.min((5 - sameMainStatCount) * 2, maxRolls);\n  if (possibleStats[0] === 'energyRecharge') {\n    currentMaxRolls -= baseErRolls;\n  }\n\n  const combinations: RollDistribution[][] = [];\n\n  for (let i = currentMaxRolls; i >= 0; i--) {\n    const current: RollDistribution[] = [{ stat: possibleStats[0], rolls: i }];\n\n    const backCombinations = generateRollCombinationsKqm(\n      possibleStats.slice(1),\n      maxRolls - i,\n      mainStats,\n      baseErRolls\n    );\n\n    if (backCombinations.length === 0) {\n      combinations.push(current);\n    } else {\n      combinations.push(\n        ...backCombinations.map((combination) => current.concat(combination))\n      );\n    }\n  }\n\n  return combinations;\n}\n\n// Recursive function to generate all combinations of possibleStats.length numbers that sum to maxRolls\n// Generated combinations are not guaranteed to be valid substat combinations\n/*\nfunction generateRollCombinations(\n  possibleStats: string[],\n  maxRolls: number\n): RollDistribution[][] {\n  if (possibleStats.length === 0 || maxRolls === 0) {\n    return [];\n  }\n\n  const combinations: RollDistribution[][] = [];\n\n  for (let i = maxRolls; i >= 0; i--) {\n    const current: RollDistribution[] = [{ stat: possibleStats[0], rolls: i }];\n\n    const backCombinations = generateRollCombinations(\n      possibleStats.slice(1),\n      maxRolls - i\n    );\n\n    if (backCombinations.length === 0) {\n      combinations.push(current);\n    } else {\n      combinations.push(\n        ...backCombinations.map((combination) => current.concat(combination))\n      );\n    }\n  }\n\n  return combinations;\n}\n*/\n\n// Generate artifacts with 2 of each substat\nfunction generateBaseArtifacts(prevArtifacts: Artifact[]): Artifact[] {\n  const artifacts = prevArtifacts.map((artifact) => {\n    return new Artifact(\n      artifact.type,\n      artifact.rarity,\n      artifact.level,\n      artifact.mainStat.stat\n    );\n  });\n\n  // Set artifact substats according to currentSubstatRolls\n  let iArtifact = 0;\n  let jArtifact = 0;\n  Object.entries(substats).forEach(([stat, value]) => {\n    artifacts[iArtifact].setSubStatProp(jArtifact, stat);\n    artifacts[iArtifact].setSubStatValue(jArtifact, value * 2);\n    if (++jArtifact >= 4) {\n      jArtifact = 0;\n      if (++iArtifact >= 5) {\n        // This really should not happen\n        iArtifact = 0;\n      }\n    }\n  });\n\n  return artifacts;\n}\n\n// Add liquid subs to fixed subs without replacing any fixed subs\nfunction addRollsToArtifacts(\n  combination: RollDistribution[],\n  artifacts: Artifact[]\n) {\n  const subStats = artifacts.flatMap((artifact) => artifact.subStats);\n  combination.forEach(({ stat, rolls }) => {\n    const subStat = subStats.find((inputStat) => inputStat.stat === stat);\n    if (subStat === undefined) {\n      let sIndex = 0;\n      artifacts\n        .find((artifact) =>\n          artifact.subStats.find((inputStat, i) => {\n            sIndex = i;\n            return isNaN(inputStat.value);\n          })\n        )\n        ?.setSubStatValue(sIndex, substats[stat] * rolls);\n    } else {\n      subStat.setValue(subStat.value + substats[stat] * rolls);\n    }\n  });\n}\n","import React from 'react';\nimport Form from 'react-bootstrap/esm/Form';\n\ntype CheckboxProps = {\n  id: string;\n  label: string;\n  defaultValue: boolean;\n  value?: boolean;\n  onChange?: (value: boolean) => void;\n  isLabelShown?: boolean;\n  className?: string;\n};\n\ntype CheckboxState = {\n  value: boolean;\n};\n\nclass Checkbox extends React.Component<CheckboxProps, CheckboxState> {\n  // Boilerplate for making this an optionally controllable component\n  // https://medium.com/quick-code/writing-ui-components-with-optionally-controllable-state-86e396a6f1ec\n  state: CheckboxState = {\n    value: this.props.defaultValue,\n  };\n\n  isControlled = () => this.props.value !== undefined;\n\n  isLabelShown = () => this.props.isLabelShown ?? true;\n\n  onChangeDefault = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.checked;\n    this.setState({ value });\n  };\n\n  handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.checked;\n\n    if (this.isControlled()) {\n      if (this.props.onChange !== undefined) {\n        this.props.onChange(value);\n      }\n    } else {\n      this.setState({ value }, () => {\n        // Callback fn\n        if (this.props.onChange) this.props.onChange(value);\n      });\n    }\n  };\n\n  render() {\n    const value = this.isControlled() ? this.props.value : this.state.value;\n    return (\n      <div>\n        <Form.Check\n          type='checkbox'\n          className={`checkbox ${this.props.className ?? ''}`}\n          id={this.props.id}\n        >\n          <Form.Check.Label>{this.props.label}</Form.Check.Label>\n          <Form.Check.Input\n            type='checkbox'\n            checked={value}\n            onChange={this.handleChange}\n          />\n        </Form.Check>\n      </div>\n    );\n  }\n}\n\nexport default Checkbox;\n","import React from 'react';\nimport Accordion from 'react-bootstrap/esm/Accordion';\nimport Button from 'react-bootstrap/esm/Button';\nimport Card from 'react-bootstrap/esm/Card';\nimport { AppState } from '../App';\nimport { Stats } from '../data/types';\nimport Artifact from '../js/artifact/Artifact';\nimport { propMapping, talentDescMapping } from '../js/Data';\nimport DamageModifier from '../js/modifier/DamageModifer';\nimport {\n  optimizeSubstats,\n  RollDistribution,\n  substats,\n} from '../js/optimization/Optimization';\nimport { StatMixin } from '../js/option/Mixin';\nimport { capitalize } from '../js/Stat';\nimport { TalentType, TalentValueSet } from '../js/talent/types';\nimport Checkbox from './Checkbox';\nimport FloatInput from './FloatInput';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\nimport Picker from './Picker';\n\ntype OptimizerBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateTotalStats: ({ artifacts }: { artifacts?: Artifact[] }) => void;\n  artifactSetBonuses: Stats;\n  damageModifier: DamageModifier;\n  statMixins: StatMixin[];\n  talentValues: TalentValueSet;\n};\n\ntype OptimizerBlockState = {\n  maxRolls: number;\n  selectedSubstats: string[];\n  erThreshold: number;\n  targetTalentType?: TalentType;\n  targetTalentId: string;\n  substatRolls: RollDistribution[];\n};\n\nclass OptimizerBlock extends React.Component<\n  OptimizerBlockProps,\n  OptimizerBlockState\n> {\n  state: OptimizerBlockState = {\n    substatRolls: [],\n    selectedSubstats: [],\n    erThreshold: 100,\n    targetTalentId: '',\n    maxRolls: 20,\n  };\n\n  setMaxRolls = (maxRolls: number) => {\n    this.setState({ maxRolls });\n  };\n\n  setSelectedSubstats = (stat: string) => (selected: boolean) => {\n    if (selected) {\n      if (!this.state.selectedSubstats.includes(stat)) {\n        this.setState({\n          selectedSubstats: [...this.state.selectedSubstats, stat],\n        });\n      }\n    } else {\n      if (this.state.selectedSubstats.includes(stat)) {\n        this.setState({\n          selectedSubstats: this.state.selectedSubstats.filter(\n            (substat) => substat !== stat\n          ),\n        });\n      }\n    }\n  };\n\n  setErThreshold = (value: number) => {\n    if (isNaN(value)) {\n      this.setState({ erThreshold: 0 });\n    } else {\n      this.setState({ erThreshold: value });\n    }\n  };\n\n  setTargetTalentType = (value: string) => {\n    if (value === '') {\n      this.setState({ targetTalentType: undefined });\n    } else {\n      this.setState({ targetTalentType: value as TalentType });\n    }\n  };\n\n  setTargetTalentId = (value: string) => {\n    this.setState({ targetTalentId: value });\n  };\n\n  onOptimizeClick = () => {\n    if (\n      this.state.targetTalentType !== undefined &&\n      this.state.targetTalentId !== ''\n    ) {\n      const result = optimizeSubstats(\n        this.state.selectedSubstats,\n        this.state.maxRolls,\n        this.state.erThreshold / 100,\n        this.state.targetTalentType,\n        this.state.targetTalentId,\n        this.props.appState,\n        this.props.artifactSetBonuses,\n        this.props.damageModifier,\n        this.props.statMixins\n      );\n\n      this.props.updateTotalStats({ artifacts: result.artifacts });\n      this.props.setAppState({ artifacts: result.artifacts });\n      this.setState({ substatRolls: result.subStatRolls });\n    }\n  };\n\n  render() {\n    return (\n      <Accordion>\n        <Card className=' optimizer-card bg-transparent border-dark border-left-0 border-right-0 rounded-0'>\n          <Accordion.Toggle\n            as={Card.Header}\n            eventKey='0'\n            className='bg-transparent border-0'\n          >\n            <h3>Substat Optimizer</h3>\n            <p>Click to expand/collapse</p>\n          </Accordion.Toggle>\n          <Accordion.Collapse eventKey='0'>\n            <Card.Body>\n              <div className='input-block'>\n                <p>Fixed Substats: 20</p>\n\n                <InputRow>\n                  <IntInput\n                    className='level-input'\n                    id={'optimizer-liquid-substats'}\n                    label='Liquid Substats:'\n                    defaultValue={20}\n                    value={this.state.maxRolls}\n                    onInput={this.setMaxRolls}\n                  />\n                </InputRow>\n              </div>\n\n              <div className='input-block'>\n                <p>Select substats to optimize:</p>\n                {Object.keys(substats).map((stat) => (\n                  <InputRow key={stat}>\n                    <Checkbox\n                      id={`optimizer-selected-substats-${stat}`}\n                      label={`${propMapping[stat].name}`}\n                      defaultValue={false}\n                      value={this.state.selectedSubstats.includes(stat)}\n                      onChange={this.setSelectedSubstats(stat)}\n                    />\n                  </InputRow>\n                ))}\n              </div>\n\n              <div className='input-block'>\n                <InputRow>\n                  <FloatInput\n                    className='stat-input'\n                    id={'optimizer-er-threshold'}\n                    label='ER Threshold:'\n                    defaultValue={100}\n                    value={this.state.erThreshold}\n                    onInput={this.setErThreshold}\n                  />\n                </InputRow>\n              </div>\n\n              <div className='input-block'>\n                <InputRow>\n                  <Picker\n                    id={`optimizer-target-talent-type`}\n                    label='Target Talent Type:'\n                    defaultValue=''\n                    value={this.state.targetTalentType ?? ''}\n                    onChange={this.setTargetTalentType}\n                  >\n                    <Picker.Item value='' label='' />\n                    <Picker.Item\n                      value={TalentType.Attack}\n                      label={capitalize(TalentType.Attack)}\n                    />\n                    <Picker.Item\n                      value={TalentType.Skill}\n                      label={capitalize(TalentType.Skill)}\n                    />\n                    <Picker.Item\n                      value={TalentType.Burst}\n                      label={capitalize(TalentType.Burst)}\n                    />\n                  </Picker>\n                </InputRow>\n\n                <InputRow>\n                  <Picker\n                    id={`optimizer-target-talent-id`}\n                    label='Target Talent Name:'\n                    defaultValue=''\n                    value={this.state.targetTalentId ?? ''}\n                    onChange={this.setTargetTalentId}\n                  >\n                    <Picker.Item value='' label='' />\n                    {this.state.targetTalentType\n                      ? this.props.talentValues[\n                          this.state.targetTalentType\n                        ].map(({ description }) => (\n                          <Picker.Item\n                            key={description}\n                            value={description}\n                            label={talentDescMapping[description]}\n                          />\n                        ))\n                      : null}\n                  </Picker>\n                </InputRow>\n              </div>\n\n              <div className='input-block'>\n                <InputRow>\n                  <Button\n                    variant='secondary'\n                    size='sm'\n                    onClick={this.onOptimizeClick}\n                  >\n                    Optimize\n                  </Button>\n                </InputRow>\n              </div>\n\n              <div className='input-block'>\n                {this.state.substatRolls.length > 0 && (\n                  <p>Liquid roll distribution:</p>\n                )}\n\n                {this.state.substatRolls.map(({ stat, rolls }) => (\n                  <p key={stat}>\n                    {propMapping[stat].name}: {rolls}\n                  </p>\n                ))}\n              </div>\n            </Card.Body>\n          </Accordion.Collapse>\n        </Card>\n      </Accordion>\n    );\n  }\n}\n\nexport default OptimizerBlock;\n","import React from 'react';\nimport Col from 'react-bootstrap/esm/Col';\nimport { AppState } from '../App';\nimport { Stats } from '../data/types';\nimport Artifact from '../js/artifact/Artifact';\nimport DamageModifier from '../js/modifier/DamageModifer';\nimport { StatMixin } from '../js/option/Mixin';\nimport { TalentValueSet } from '../js/talent/types';\nimport ArtifactBlock from './ArtifactBlock';\nimport OptimizerBlock from './OptimizerBlock';\n\ntype ArtifactColumnProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateTotalStats: ({ artifacts }: { artifacts?: Artifact[] }) => void;\n  artifactSetBonuses: Stats;\n  damageModifier: DamageModifier;\n  statMixins: StatMixin[];\n  talentValues: TalentValueSet;\n};\n\nclass ArtifactColumn extends React.Component<ArtifactColumnProps> {\n  updateArtifactState = () => {\n    const artifacts = [...this.props.appState.artifacts];\n    this.props.updateTotalStats({ artifacts });\n    this.props.setAppState({ artifacts });\n  };\n\n  render() {\n    const appState = this.props.appState;\n\n    return (\n      <Col\n        id='artifact-column'\n        className='artifact-column no-gutters border-right border-dark'\n        md='auto'\n        xs={12}\n      >\n        <div className='artifact-heading'>\n          <h2>Artifacts</h2>\n        </div>\n        <OptimizerBlock {...this.props} />\n        <div className='result-block'>\n          {appState.artifacts.map((artifact) => (\n            <ArtifactBlock\n              artifact={artifact}\n              updateArtifactState={this.updateArtifactState}\n              key={artifact.type}\n            />\n          ))}\n        </div>\n      </Col>\n    );\n  }\n}\n\nexport default ArtifactColumn;\n","import React from 'react';\nimport Picker from './Picker';\n\nimport * as data from '../js/Data';\n\ntype ArtifactSetPickerProps = {\n  index: number;\n  artifactSetId: string;\n  setArtifactSetId: (id: string) => void;\n};\n\nclass ArtifactSetPicker extends React.Component<ArtifactSetPickerProps> {\n  onChange = (value: string) => {\n    this.props.setArtifactSetId(value);\n  };\n\n  render() {\n    return (\n      <Picker\n        id={`artifact-set-${this.props.index}`}\n        label=''\n        defaultValue=''\n        value={this.props.artifactSetId}\n        onChange={this.onChange}\n        isLabelShown={false}\n      >\n        <Picker.Item label='' value='' />\n        {data.getSortedArtifactSetList().map((artifactSetId) => (\n          <Picker.Item\n            label={data.getArtifactSetData(artifactSetId).name}\n            value={artifactSetId}\n            key={artifactSetId}\n          />\n        ))}\n      </Picker>\n    );\n  }\n}\n\nexport default ArtifactSetPicker;\n","import React from 'react';\r\nimport Row from 'react-bootstrap/esm/Row';\r\n\r\nclass InputBlock extends React.Component {\r\n  render() {\r\n    return <Row className='input-block no-gutters'>{this.props.children}</Row>;\r\n  }\r\n}\r\n\r\nexport default InputBlock;\r\n","import React from 'react';\nimport Option, {\n  isBooleanOption,\n  isPickerOption,\n  isNumberOption,\n} from '../js/option';\nimport {\n  IOptionBoolean,\n  IOptionNumber,\n  IOptionPicker,\n} from '../js/option/Option';\nimport { capitalize, getOptionName } from '../js/Stat';\nimport Checkbox from './Checkbox';\nimport IntInput from './IntInput';\nimport Picker from './Picker';\n\ntype OptionInputProps = {\n  option: Option;\n  updateOptions: () => void;\n};\n\nclass OptionInput extends React.Component<OptionInputProps> {\n  handleBooleanChange = (option: IOptionBoolean) => (value: boolean) => {\n    option.value = value;\n    this.props.updateOptions();\n  };\n\n  handlePickerChange = (option: IOptionPicker) => (value: string) => {\n    option.value = value;\n    this.props.updateOptions();\n  };\n\n  handleNumberChange = (option: IOptionNumber) => (value: number) => {\n    option.value = value;\n    this.props.updateOptions();\n  };\n\n  render() {\n    const { option } = this.props;\n\n    if (isBooleanOption(option)) {\n      return (\n        <Checkbox\n          id={`${option.id}-input`}\n          label={getOptionName(option.id)}\n          defaultValue={option.value}\n          value={option.value}\n          onChange={this.handleBooleanChange(option)}\n        />\n      );\n    } else if (isPickerOption(option)) {\n      return (\n        <Picker\n          id={`${option.id}-input`}\n          label={getOptionName(option.id)}\n          defaultValue={option.value}\n          value={option.value}\n          onChange={this.handlePickerChange(option)}\n        >\n          <Picker.Item label='' value='' />\n          {option.choices.map((choice) => (\n            <Picker.Item\n              label={capitalize(choice)}\n              value={choice}\n              key={choice}\n            />\n          ))}\n        </Picker>\n      );\n    } else if (isNumberOption(option)) {\n      return (\n        <IntInput\n          id={`${option.id}-input`}\n          label={getOptionName(option.id)}\n          defaultValue={option.value}\n          value={option.value}\n          onInput={this.handleNumberChange(option)}\n          className='level-input'\n        />\n      );\n    }\n  }\n}\n\nexport default OptionInput;\n","import React from 'react';\nimport { AppState } from '../App';\nimport ArtifactSet from '../js/artifact/ArtifactSet';\nimport { ArtifactSetOption } from '../js/option/artifactSetOptions';\nimport ArtifactSetPicker from './ArtifactSetPicker';\nimport InputBlock from './InputBlock';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\nimport OptionInput from './OptionInput';\n\ntype ArtifactSetInputBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateArtifactSetBonuses: ({\n    artifactSets,\n    artifactSetOptions,\n  }: {\n    artifactSets?: ArtifactSet[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => void;\n};\n\nclass ArtifactSetInputBlock extends React.Component<ArtifactSetInputBlockProps> {\n  setArtifactSetId = (i: number) => (id: string) => {\n    const { artifactSets } = this.props.appState;\n    artifactSets[i].id = id;\n    const artifactSetOptions = artifactSets.flatMap(\n      (artifactSet) => artifactSet.options\n    );\n    this.props.updateArtifactSetBonuses({\n      artifactSets,\n      artifactSetOptions,\n    });\n    this.props.setAppState({\n      artifactSets: [...artifactSets],\n      artifactSetOptions,\n    });\n  };\n\n  setArtifactSetPieces = (i: number) => (pieces: number) => {\n    const { artifactSets } = this.props.appState;\n    artifactSets[i].pieces = pieces;\n    const artifactSetOptions = artifactSets.flatMap(\n      (artifactSet) => artifactSet.options\n    );\n    this.props.updateArtifactSetBonuses({\n      artifactSets,\n      artifactSetOptions,\n    });\n    this.props.setAppState({\n      artifactSets: [...artifactSets],\n      artifactSetOptions,\n    });\n  };\n\n  updateOptions = () => {\n    const { artifactSetOptions } = this.props.appState;\n    this.props.updateArtifactSetBonuses({ artifactSetOptions });\n    this.props.setAppState({ artifactSetOptions: [...artifactSetOptions] });\n  };\n\n  render() {\n    const { artifactSets, artifactSetOptions } = this.props.appState;\n\n    return (\n      <InputBlock>\n        <InputRow>\n          <p>Artifact Sets</p>\n        </InputRow>\n        {[0, 1, 2].map((i) => (\n          <InputRow key={i}>\n            <ArtifactSetPicker\n              index={i}\n              artifactSetId={artifactSets[i].id}\n              setArtifactSetId={this.setArtifactSetId(i)}\n            />\n\n            <p>:</p>\n\n            <IntInput\n              id={`artifact-set-${i}-pcs`}\n              label=''\n              defaultValue={NaN}\n              value={artifactSets[i].pieces}\n              onInput={this.setArtifactSetPieces(i)}\n              isLabelShown={false}\n              className='level-input'\n            />\n\n            <p>pc</p>\n          </InputRow>\n        ))}\n\n        {artifactSetOptions.map((option) => (\n          <InputRow key={option.id}>\n            <OptionInput option={option} updateOptions={this.updateOptions} />\n          </InputRow>\n        ))}\n      </InputBlock>\n    );\n  }\n}\n\nexport default ArtifactSetInputBlock;\n","import React from 'react';\nimport Picker from './Picker';\n\nimport * as data from '../js/Data';\n\ntype CharacterPickerProps = {\n  characterId: string;\n  setCharacterId: (id: string) => void;\n};\n\nclass CharacterPicker extends React.Component<CharacterPickerProps> {\n  onChange = (value: string) => {\n    this.props.setCharacterId(value);\n  };\n\n  render() {\n    return (\n      <Picker\n        id='character-picker'\n        label='Character:'\n        defaultValue=''\n        value={this.props.characterId}\n        onChange={this.onChange}\n      >\n        <Picker.Item label='' value='' />\n        {data.getSortedCharacterList().map((id) => (\n          <Picker.Item\n            label={data.getCharacterData(id).name}\n            value={id}\n            key={id}\n          />\n        ))}\n      </Picker>\n    );\n  }\n}\n\nexport default CharacterPicker;\n","import React from 'react';\nimport { AppState } from '../App';\nimport Character from '../js/character/Character';\nimport { CharacterOption } from '../js/option/characterOptions';\nimport CharacterPicker from './CharacterPicker';\nimport Checkbox from './Checkbox';\nimport InputBlock from './InputBlock';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\nimport OptionInput from './OptionInput';\n\ntype CharacterInputBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateTotalStats: ({\n    character,\n    characterOptions,\n  }: {\n    character?: Character;\n    characterOptions?: CharacterOption[];\n  }) => void;\n};\n\nclass CharacterInputBlock extends React.Component<CharacterInputBlockProps> {\n  setCharacterId = (id: string) => {\n    const character = this.props.appState.character;\n    character.id = id;\n    const characterOptions = character.getOptions();\n    this.props.updateTotalStats({ character, characterOptions });\n    this.props.setAppState({ character, characterOptions });\n  };\n\n  setCharacterLevel = (level: number) => {\n    const character = this.props.appState.character;\n    character.level = level;\n    const characterOptions = character.getOptions();\n    this.props.updateTotalStats({ character, characterOptions });\n    this.props.setAppState({ character, characterOptions });\n  };\n\n  setIsCharacterAscended = (isAscended: boolean) => {\n    const character = this.props.appState.character;\n    character.hasAscended = isAscended;\n    const characterOptions = character.getOptions();\n    this.props.updateTotalStats({ character, characterOptions });\n    this.props.setAppState({ character, characterOptions });\n  };\n\n  updateOptions = () => {\n    const { characterOptions } = this.props.appState;\n    this.props.updateTotalStats({ characterOptions });\n    this.props.setAppState({ characterOptions: [...characterOptions] });\n  };\n\n  render() {\n    const { appState } = this.props;\n\n    return (\n      <InputBlock>\n        <InputRow>\n          <CharacterPicker\n            characterId={appState.character.id}\n            setCharacterId={this.setCharacterId}\n          />\n        </InputRow>\n\n        <InputRow>\n          <IntInput\n            id='character-level-input'\n            label='Level:'\n            defaultValue={1}\n            value={appState.character.level}\n            onInput={this.setCharacterLevel}\n            className='level-input'\n          />\n        </InputRow>\n\n        <InputRow>\n          <Checkbox\n            id='character-ascension-checkbox'\n            label='Ascended?'\n            defaultValue={false}\n            value={appState.character.hasAscended}\n            onChange={this.setIsCharacterAscended}\n          />\n        </InputRow>\n\n        {appState.characterOptions.map((option) => {\n          return (\n            <InputRow key={option.id}>\n              <OptionInput option={option} updateOptions={this.updateOptions} />\n            </InputRow>\n          );\n        })}\n      </InputBlock>\n    );\n  }\n}\n\nexport default CharacterInputBlock;\n","import React from 'react';\nimport { ToggleButton, ToggleButtonGroup } from 'react-bootstrap';\nimport { AppState } from '../App';\nimport CritType from '../js/modifier/CritType';\nimport Reaction from '../js/modifier/Reaction';\nimport Resistance from '../js/Resistance';\nimport { capitalize } from '../js/Stat';\nimport { Element } from '../js/talent/types';\nimport FloatInput from './FloatInput';\nimport InputBlock from './InputBlock';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\nimport Picker from './Picker';\n\ntype ModifierInputBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateTalentValues: ({\n    enemyLevel,\n    enemyRes,\n    critType,\n    reaction,\n  }: {\n    enemyLevel?: number;\n    enemyRes?: Resistance;\n    critType?: CritType;\n    reaction?: Reaction;\n  }) => void;\n};\n\nclass ModifierInputBlock extends React.Component<ModifierInputBlockProps> {\n  setEnemyLevel = (level: number) => {\n    this.props.updateTalentValues({ enemyLevel: level });\n    this.props.setAppState({ enemyLevel: level });\n  };\n\n  setEnemyRes = (type: Element) => (value: number) => {\n    const enemyRes = this.props.appState.enemyRes;\n    enemyRes.set(type, value / 100);\n    this.props.updateTalentValues({ enemyRes });\n    this.props.setAppState({ enemyRes });\n  };\n\n  setCritType = (critType: CritType) => {\n    this.props.updateTalentValues({ critType });\n    this.props.setAppState({ critType });\n  };\n\n  setReaction = (reaction: string) => {\n    this.props.updateTalentValues({\n      reaction: Reaction[reaction as keyof typeof Reaction],\n    });\n    this.props.setAppState({\n      reaction: Reaction[reaction as keyof typeof Reaction],\n    });\n  };\n\n  render() {\n    const { enemyLevel, enemyRes, critType, reaction } = this.props.appState;\n    return (\n      <InputBlock>\n        <InputRow>\n          Crit:\n          <ToggleButtonGroup\n            name='crit-type-input'\n            type='radio'\n            size='sm'\n            value={critType}\n            onChange={this.setCritType}\n          >\n            <ToggleButton value='none' variant='outline-secondary'>\n              None\n            </ToggleButton>\n            <ToggleButton value='crit' variant='outline-secondary'>\n              Crit\n            </ToggleButton>\n            <ToggleButton value='average' variant='outline-secondary'>\n              Average\n            </ToggleButton>\n          </ToggleButtonGroup>\n        </InputRow>\n\n        <InputRow>\n          <IntInput\n            id='enemy-level-input'\n            label='Enemy Level:'\n            defaultValue={1}\n            value={enemyLevel}\n            onInput={this.setEnemyLevel}\n            className='level-input'\n          />\n        </InputRow>\n\n        {Object.values(Element).map((element) => (\n          <InputRow key={element}>\n            <FloatInput\n              id={`enemy-res-${element}-input`}\n              label={`Enemy ${capitalize(element)} RES:`}\n              defaultValue={0}\n              value={enemyRes.get(element) * 100}\n              onInput={this.setEnemyRes(element)}\n              className='level-input'\n            />\n            <p>%</p>\n          </InputRow>\n        ))}\n\n        <InputRow>\n          <Picker\n            id='reaction-picker'\n            label='Reaction:'\n            defaultValue={Reaction.None}\n            value={reaction}\n            onChange={this.setReaction}\n          >\n            {Object.values(Reaction).map((reaction) => (\n              <Picker.Item\n                key={reaction}\n                label={capitalize(reaction)}\n                value={reaction}\n              />\n            ))}\n          </Picker>\n        </InputRow>\n      </InputBlock>\n    );\n  }\n}\n\nexport default ModifierInputBlock;\n","import { Stats } from '../../data/types';\nimport { getArtifactSetBonusParams } from '../Data';\nimport archaicPetraOptions from '../option/artifactSetOptions/ArchaicPetraOption';\nimport berserkerOptions from '../option/artifactSetOptions/BerserkerOption';\nimport blizzardStrayerOptions from '../option/artifactSetOptions/BlizzardStrayerOption';\nimport bloodstainedChivalryOptions from '../option/artifactSetOptions/BloodstainedChivalryOption';\nimport braveHeartOptions from '../option/artifactSetOptions/BraveHeartOption';\nimport crimsonWitchOptions from '../option/artifactSetOptions/CrimsonWitchOption';\nimport heartOfDepthOptions from '../option/artifactSetOptions/HeartOfDepthOption';\nimport instructorOptions from '../option/artifactSetOptions/InstructorOption';\nimport lavawalkerOptions from '../option/artifactSetOptions/LavawalkerOption';\nimport maidenBelovedOptions from '../option/artifactSetOptions/MaidenBelovedOption';\nimport martialArtistOptions from '../option/artifactSetOptions/MartialArtistOption';\nimport noblesseObligeOptions from '../option/artifactSetOptions/NoblesseObligeOption';\nimport paleFlameOptions from '../option/artifactSetOptions/PaleFlameOption';\nimport retracingBolideOptions from '../option/artifactSetOptions/RetracingBolideOption';\nimport shimenawaOptions from '../option/artifactSetOptions/ShimenawaOption';\nimport tenacityOptions from '../option/artifactSetOptions/TenacityOption';\nimport thundersootherOptions from '../option/artifactSetOptions/ThundersootherOption';\nimport viridescentVenererOptions from '../option/artifactSetOptions/ViridescentVenererOption';\nimport { Priority } from '../option/Mixin';\nimport { ArtifactSetBonus } from './types';\n\n// Placeholder function\nconst defaultSetBonus: ArtifactSetBonus = { options: [] };\n\nconst Relic_ExtraAtkCritUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    return [\n      {\n        stat: 'chargedCritRate',\n        value: params[0],\n      },\n    ];\n  },\n};\n\nconst Relic_AllElemResistUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    const elements = ['anemo', 'cryo', 'electro', 'geo', 'hydro', 'pyro'];\n    return elements.map((element) => {\n      return {\n        stat: `${element}Res`,\n        value: params[0],\n      };\n    });\n  },\n};\n\nconst Relic_AtkAndExtraAtkUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    return [\n      {\n        stat: 'normalDmgBonus',\n        value: params[0],\n      },\n      {\n        stat: 'chargedDmgBonus',\n        value: params[0],\n      },\n    ];\n  },\n};\n\nconst Relic_SkillDamageUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    return [\n      {\n        stat: 'skillDmgBonus',\n        value: params[0],\n      },\n    ];\n  },\n};\n\nconst Relic_MeleeAttackUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    // Only for sword, polearm, claymore characters\n    // Did not make this an Option because this would likely not want to be disabled\n    // Calculation will be wrong if used on a catalyst, bow character\n    // Checking for that would require character weapon type to be implemented first\n    return [\n      {\n        stat: 'normalDmgBonus',\n        value: params[0],\n      },\n    ];\n  },\n};\n\n// Swirl Dmg up not yet implemented. Medium priority.\n// Requires reaction dmg to be implemented first.\n// Elemental Res shred implemented through Options\nconst Relic_ReactionWindEnhance: ArtifactSetBonus = {\n  options: viridescentVenererOptions,\n};\n\nconst Relci_RangerAttackUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    // Typo is present in the game data\n    // Only for catalyst, bow characters\n    // See Relic_MeleeAttackUp for more details\n    return [\n      {\n        stat: 'chargedDmgBonus',\n        value: params[0],\n      },\n    ];\n  },\n};\n\n// Reaction Dmg Up not yet implemented. Medium priority\n// Requires reaction dmg to be implemented first\n// Pyro Dmg Bonus implemented through Options\nconst Relic_ReactionFireEnhance: ArtifactSetBonus = {\n  options: crimsonWitchOptions,\n\n  extraStatsFn: (params: number[]) => {\n    return [\n      {\n        stat: 'overloadDmgBonus',\n        value: params[0],\n      },\n      {\n        stat: 'burningDmgBonus',\n        value: params[0],\n      },\n      {\n        stat: 'vaporizeDmgBonus',\n        value: params[1],\n      },\n      {\n        stat: 'meltDmgBonus',\n        value: params[2],\n      },\n    ];\n  },\n};\n\nconst Relic_ElementalBurstUp: ArtifactSetBonus = {\n  options: [],\n\n  extraStatsFn: (params: number[]) => {\n    return [\n      {\n        stat: 'burstDmgBonus',\n        value: params[0],\n      },\n    ];\n  },\n};\n\nconst Relic_ElementalBurstUpByChargeEfficiency: ArtifactSetBonus = {\n  options: [],\n\n  statMixin: {\n    priority: Priority.Last,\n    apply: (stats: Stats) => {\n      const params = getArtifactSetBonusParams('emblemofseveredfate', 4);\n      let burstDmgBonus = params[0] * stats.energyRecharge;\n      if (burstDmgBonus > params[1]) {\n        burstDmgBonus = params[1];\n      }\n\n      stats.burstDmgBonus = burstDmgBonus + (stats.burstDmgBonus ?? 0);\n    },\n  },\n};\n\nconst Relic_GiantKiller: ArtifactSetBonus = {\n  options: braveHeartOptions,\n};\n\nconst Relic_LowHPGainExtraCritRate: ArtifactSetBonus = {\n  options: berserkerOptions,\n};\n\nconst Relic_SkillEnhanceNormalAtkAndExtraAtk: ArtifactSetBonus = {\n  options: martialArtistOptions,\n};\n\nconst Relic_ReactionGainExtraElemMasteryForTeam: ArtifactSetBonus = {\n  options: instructorOptions,\n};\n\nconst Relic_CriticUpAgainstIceAndFrozen: ArtifactSetBonus = {\n  options: blizzardStrayerOptions,\n};\n\nconst Relic_DamageUpAgainstElectric: ArtifactSetBonus = {\n  options: thundersootherOptions,\n};\n\nconst Relic_DamageUpAgainstFireAndBurning: ArtifactSetBonus = {\n  options: lavawalkerOptions,\n};\n\nconst Relic_SkillEnhanceCured: ArtifactSetBonus = {\n  options: maidenBelovedOptions,\n};\n\nconst Relic_TeamAtkupAfterElementalBurst: ArtifactSetBonus = {\n  options: noblesseObligeOptions,\n};\n\nconst Relic_KillEnhanceExtraAtk: ArtifactSetBonus = {\n  options: bloodstainedChivalryOptions,\n};\n\nconst Relic_ElementDmgUpAfterCrystalShield: ArtifactSetBonus = {\n  options: archaicPetraOptions,\n};\n\nconst Relic_ShieldEnhanceAtk: ArtifactSetBonus = {\n  options: retracingBolideOptions,\n};\n\nconst Relic_WaterSkillEnhanceNormalAtkAndExtraAtk: ArtifactSetBonus = {\n  options: heartOfDepthOptions,\n};\n\nconst Relic_ShieldCostUpWhenElementalArtHit: ArtifactSetBonus = {\n  options: tenacityOptions,\n};\n\nconst Relic_AttackUpWhenNormalAtkAndExtraAtkHit: ArtifactSetBonus = {\n  options: paleFlameOptions,\n};\n\nconst Relic_NormalDamageUpIfCostEnergy: ArtifactSetBonus = {\n  options: shimenawaOptions,\n};\n\nexport const artifactSetBonuses: Record<string, ArtifactSetBonus> = {\n  defaultSetBonus,\n  Relic_ExtraAtkCritUp,\n  Relic_AllElemResistUp,\n  Relic_AtkAndExtraAtkUp,\n  Relic_SkillDamageUp,\n  Relic_MeleeAttackUp,\n  Relci_RangerAttackUp,\n  Relic_ElementalBurstUp,\n  Relic_ElementalBurstUpByChargeEfficiency,\n\n  // Options only\n  Relic_GiantKiller,\n  Relic_LowHPGainExtraCritRate,\n  Relic_SkillEnhanceNormalAtkAndExtraAtk,\n  Relic_ReactionGainExtraElemMasteryForTeam,\n  Relic_CriticUpAgainstIceAndFrozen,\n  Relic_DamageUpAgainstElectric,\n  Relic_DamageUpAgainstFireAndBurning,\n  Relic_SkillEnhanceCured,\n  Relic_TeamAtkupAfterElementalBurst,\n  Relic_KillEnhanceExtraAtk,\n  Relic_ElementDmgUpAfterCrystalShield,\n  Relic_ShieldEnhanceAtk,\n  Relic_WaterSkillEnhanceNormalAtkAndExtraAtk,\n  Relic_ShieldCostUpWhenElementalArtHit,\n  Relic_AttackUpWhenNormalAtkAndExtraAtkHit,\n  Relic_NormalDamageUpIfCostEnergy,\n\n  // Swirl Dmg up not yet implemented. Medium priority.\n  // Requires reaction dmg to be implemented first.\n  Relic_ReactionWindEnhance,\n\n  // Reaction Dmg Up not yet implemented. Medium priority\n  // Requires reaction dmg to be implemented first\n  Relic_ReactionFireEnhance,\n\n  // Not yet implemented. Medium priority\n  // Requires reaction dmg to be implemented first\n  Relic_ReactionElectricEnhance: defaultSetBonus,\n\n  // Not yet implemented. Low priority.\n  // Requires info about team composition\n  Relic_AbsorbTeamElemResist: defaultSetBonus,\n\n  // Not yet implemented. Low priority.\n  // Probably can be implemented with a dropdown option for prev received elem dmg\n  Relic_ElemDmgEnhanceElemResist: defaultSetBonus,\n\n  // Not implemented. CD reduction effect.\n  Relic_KillingRefreshSkill: defaultSetBonus,\n\n  // Not implemented. Energy effect.\n  Relic_UltGainEnergyForTeam: defaultSetBonus,\n  Relic_RestoreEnergyGainExtraEnergyForTeam: defaultSetBonus,\n\n  // Not implemented. Healing effect when opening chests.\n  Relic_ChestHealSelf: defaultSetBonus,\n\n  // Not implemented. Healing effect when getting Mora.\n  Relic_CoinHealSelf: defaultSetBonus,\n\n  // Not implemented. Healing effect when burst.\n  Relic_UltHealSelf: defaultSetBonus,\n\n  // Not implemented. Element duration reduction.\n  Relic_FireResistance: defaultSetBonus,\n  Relic_WaterResistance: defaultSetBonus,\n  Relic_ElectricResistance: defaultSetBonus,\n  Relic_IceResistance: defaultSetBonus,\n};\n","import { getArtifactSetData, getArtifactSetBonusData } from '../Data';\nimport { artifactSetBonuses as extraBonuses } from './ArtifactSetBonus';\nimport {\n  ArtifactSetBonusData,\n  ArtifactSetBonusSet,\n  Stats,\n} from '../../data/types';\nimport { ArtifactSetOption } from '../option/artifactSetOptions';\nimport { ModifierMixin, StatMixin } from '../option/Mixin';\nimport { ArtifactSetBonus } from './types';\n\nexport default class ArtifactSet {\n  constructor(id: string, pieces?: number) {\n    if (pieces !== undefined) this._pieces = pieces;\n    this.id = id;\n  }\n\n  private _id: string = '';\n  get id(): string {\n    return this._id;\n  }\n  set id(value: string) {\n    // Essentially replaces the constructor\n    this._id = value;\n\n    const data = getArtifactSetData(value);\n    this.name = data?.name;\n    this.bonusThresholds = data?.bonusThresholds;\n\n    this.setBonusData = getArtifactSetBonusData(value);\n\n    this.setBonusSets = this.getSetBonusSetsAt(this.pieces);\n    this.stats = this.getStats();\n    this.setBonuses = this.getSetBonuses();\n    this.options = this.getOptions(this.pieces);\n  }\n\n  name?: string;\n  bonusThresholds?: number[];\n  setBonusData?: ArtifactSetBonusData;\n\n  private _pieces: number = 0;\n  get pieces(): number {\n    return this._pieces;\n  }\n  set pieces(value: number) {\n    const prevPieces = this.pieces;\n    this._pieces = value;\n\n    this.setBonusSets = this.getSetBonusSetsAt(this.pieces);\n    this.stats = this.getStats();\n    this.setBonuses = this.getSetBonuses();\n    this.options = this.getOptions(this.pieces, prevPieces);\n  }\n\n  options: ArtifactSetOption[] = [];\n  stats: Stats = {};\n  setBonusSets: ArtifactSetBonusSet[] = [];\n  setBonuses: ArtifactSetBonus[] = [];\n\n  getSetBonusSetsAt(pieces: number): ArtifactSetBonusSet[] {\n    if (this.bonusThresholds === undefined) return [];\n\n    return this.bonusThresholds\n      .filter((threshold) => pieces >= threshold)\n      .map((threshold) => this.setBonusData?.[threshold])\n      .filter((bonus): bonus is ArtifactSetBonusSet => bonus !== undefined);\n  }\n\n  getStats() {\n    let stats: Stats = {};\n\n    let setBonuses = this.setBonusSets;\n    setBonuses?.forEach((setBonus) => {\n      // Normal stat bonuses\n      setBonus?.bonuses.forEach((statBonus) => {\n        if (stats[statBonus.stat] !== undefined) {\n          stats[statBonus.stat] += statBonus.value;\n        } else {\n          stats[statBonus.stat] = statBonus.value;\n        }\n      });\n\n      // Special bonuses, has to be handled individually\n      let extraBonus = setBonus?.bonusExtra;\n      if (extraBonus !== undefined && extraBonus.type !== '') {\n        let extraBonusSet =\n          extraBonuses[extraBonus.type] ?? extraBonuses['defaultSetBonus'];\n\n        let params = extraBonus.params;\n\n        let extraStats = extraBonusSet.extraStatsFn?.(params) ?? [];\n\n        extraStats.forEach((statBonus) => {\n          if (stats[statBonus.stat] !== undefined) {\n            stats[statBonus.stat] += statBonus.value;\n          } else {\n            stats[statBonus.stat] = statBonus.value;\n          }\n        });\n      }\n    });\n\n    return stats;\n  }\n\n  getOptions(pieces: number, prevPieces?: number) {\n    if (prevPieces === undefined || isNaN(prevPieces)) {\n      const options = this.setBonuses.flatMap((setBonus) => setBonus.options);\n      return options.map((Option) => new Option());\n    } else if (pieces === prevPieces) {\n      return this.options;\n    } else if (pieces > prevPieces) {\n      const oldOptionIds = this.options.map(({ id }) => id);\n      const newOptions = this.setBonuses\n        .flatMap((setBonus) => setBonus.options)\n        .map((Option) => new Option())\n        .filter(({ id }) => !oldOptionIds.includes(id));\n      return this.options.concat(newOptions);\n    } else {\n      const keptOptionIds = this.setBonuses\n        .flatMap((setBonus) => setBonus.options)\n        .map((Option) => new Option().id);\n      return this.options.filter(({ id }) => keptOptionIds.includes(id));\n    }\n  }\n\n  getSetBonuses(): ArtifactSetBonus[] {\n    const setBonusSets = this.setBonusSets;\n    return setBonusSets.map((setBonusSet) => {\n      const setBonusType = setBonusSet?.bonusExtra.type;\n      return extraBonuses[setBonusType] ?? extraBonuses['defaultSetBonus'];\n    });\n  }\n\n  getStatMixins(): StatMixin[] {\n    return this.setBonuses\n      .map(({ statMixin }) => statMixin)\n      .filter((mixin): mixin is StatMixin => mixin !== undefined);\n  }\n\n  getModifierMixins(): ModifierMixin[] {\n    return this.setBonuses\n      .map(({ modifierMixin }) => modifierMixin)\n      .filter((mixin): mixin is ModifierMixin => mixin !== undefined);\n  }\n}\n","import Option from '../Option';\n\nexport default class WeaponOption extends Option {\n  constructor(id: string = '') {\n    super(id);\n  }\n}\n","import { WeaponPassive, WeaponPassiveFn } from '../types';\nimport { dragonsBanePassive } from './DragonsBanePassive';\nimport { engulfingLightningPassive } from './EngulfingLightningPassive';\nimport { everlastingMoonglowPassive } from './EverlastingMoonglowPassive';\nimport { luxuriousSeaLordPassive } from './LuxuriousSeaLordPassive';\nimport { solarPearlPassive } from './SolarPearlPassive';\nimport { staffOfHomaPassive } from './StaffOfHomaPassive';\nimport { theCatchPassive } from './TheCatchPassive';\n\nconst weaponPassives: Record<string, WeaponPassiveFn> = {\n  // Polearm\n  Weapon_Pole_DamageUpToWaterEnemy: dragonsBanePassive,\n  Weapon_Pole_Homa: staffOfHomaPassive,\n  Weapon_Pole_Mori: theCatchPassive,\n  Weapon_Pole_Narukami: engulfingLightningPassive,\n\n  // Claymore\n  Weapon_Claymore_MillenniaTuna: luxuriousSeaLordPassive,\n\n  // Catalyst\n  Weapon_Catalyst_NormalAttackAndSkillAttack: solarPearlPassive,\n  Weapon_Catalyst_Kaleido: everlastingMoonglowPassive,\n};\n\nfunction defaultPassiveFn(): WeaponPassive[] {\n  return [];\n}\n\nexport function getWeaponPassiveFn(passiveId: string) {\n  return weaponPassives[passiveId] ?? defaultPassiveFn;\n}\n","import { Stats, TalentParams } from '../../../data/types';\nimport { IOptionBoolean, IStatsApplicable } from '../../option/Option';\nimport WeaponOption from '../../option/weaponOptions/WeaponOption';\nimport { WeaponPassive } from '../types';\n\nexport function dragonsBanePassive(params: TalentParams): WeaponPassive {\n  class DragonsBaneOption\n    extends WeaponOption\n    implements IOptionBoolean, IStatsApplicable\n  {\n    value = false;\n\n    constructor() {\n      super('dragonsBanePassive');\n    }\n\n    statMixin = {\n      apply: (stats: Stats) => {\n        if (this.value) {\n          stats.dmgBonus = params[0] + (stats.dmgBonus ?? 0);\n        }\n      },\n    };\n  }\n\n  return {\n    id: 'dragonsBane',\n    options: [DragonsBaneOption],\n  };\n}\n","import { Stats, TalentParams } from '../../../data/types';\nimport { Priority } from '../../option/Mixin';\nimport { IOptionBoolean, IStatsApplicable } from '../../option/Option';\nimport WeaponOption from '../../option/weaponOptions/WeaponOption';\nimport { WeaponPassive } from '../types';\n\nexport function staffOfHomaPassive(params: TalentParams): WeaponPassive {\n  class StaffOfHomaOption\n    extends WeaponOption\n    implements IOptionBoolean, IStatsApplicable\n  {\n    value = false;\n\n    constructor() {\n      super('staffOfHomaAtkBonus');\n    }\n\n    statMixin = {\n      priority: Priority.Last,\n      apply: (stats: Stats) => {\n        const totalHp =\n          (stats.baseHp ?? 0) * (1 + (stats.hpBonus ?? 0)) +\n          (stats.flatHp ?? 0);\n\n        let flatAtkBonus = totalHp * params[1];\n        if (this.value) {\n          flatAtkBonus += totalHp * params[2];\n        }\n\n        stats.flatAtk = flatAtkBonus + (stats.flatAtk ?? 0);\n      },\n    };\n  }\n\n  return {\n    id: 'staffOfHoma',\n    options: [StaffOfHomaOption],\n  };\n}\n","import { Stats, TalentParams } from '../../../data/types';\nimport { WeaponPassive } from '../types';\n\nexport function theCatchPassive(params: TalentParams): WeaponPassive {\n  return {\n    id: 'theCatch',\n    options: [],\n    statMixin: {\n      apply: (stats: Stats) => {\n        stats.burstDmgBonus = params[0] + (stats.burstDmgBonus ?? 0);\n        stats.burstCritRate = params[1] + (stats.burstCritRate ?? 0);\n      },\n    },\n  };\n}\n","import { Stats, TalentParams } from '../../../data/types';\nimport { Priority } from '../../option/Mixin';\nimport { IOptionBoolean, IStatsApplicable } from '../../option/Option';\nimport WeaponOption from '../../option/weaponOptions/WeaponOption';\nimport { WeaponPassive } from '../types';\n\nexport function engulfingLightningPassive(params: TalentParams): WeaponPassive {\n  class EngulfingLightningOption\n    extends WeaponOption\n    implements IOptionBoolean, IStatsApplicable\n  {\n    value = false;\n\n    constructor() {\n      super('engulfingLightningEnergyRecharge');\n    }\n\n    statMixin = {\n      apply: (stats: Stats) => {\n        if (this.value) {\n          stats.energyRecharge = params[2] + (stats.energyRecharge ?? 0);\n        }\n      },\n    };\n  }\n\n  return {\n    id: 'engulfingLightning',\n    options: [EngulfingLightningOption],\n\n    statMixin: {\n      priority: Priority.Last,\n      apply: (stats: Stats) => {\n        let atkBonus = (stats.energyRecharge - 1) * params[0];\n        if (atkBonus > params[1]) {\n          atkBonus = params[1];\n        }\n\n        stats.atkBonus = atkBonus + (stats.atkBonus ?? 0);\n      },\n    },\n  };\n}\n","import { Stats, TalentParams } from '../../../data/types';\nimport { WeaponPassive } from '../types';\n\nexport function luxuriousSeaLordPassive(params: TalentParams): WeaponPassive {\n  return {\n    id: 'luxuriousSeaLord',\n    options: [],\n\n    statMixin: {\n      apply: (stats: Stats) => {\n        stats.burstDmgBonus = params[0] + (stats.burstDmgBonus ?? 0);\n      },\n    },\n  };\n}\n","import { Stats, TalentParams } from '../../../data/types';\nimport { IOptionBoolean, IStatsApplicable } from '../../option/Option';\nimport WeaponOption from '../../option/weaponOptions/WeaponOption';\nimport { WeaponPassive } from '../types';\n\nexport function solarPearlPassive(params: TalentParams): WeaponPassive {\n  class SolarPearlOptionNormalAttack\n    extends WeaponOption\n    implements IOptionBoolean, IStatsApplicable\n  {\n    value = false;\n\n    constructor() {\n      super('solarPearlNormalAttack');\n    }\n\n    statMixin = {\n      apply: (stats: Stats) => {\n        if (this.value) {\n          stats.skillDmgBonus = params[0] + (stats.skillDmgBonus ?? 0);\n          stats.burstDmgBonus = params[0] + (stats.burstDmgBonus ?? 0);\n        }\n      },\n    };\n  }\n\n  class SolarPearlOptionSkillBurst\n    extends WeaponOption\n    implements IOptionBoolean, IStatsApplicable\n  {\n    value = false;\n\n    constructor() {\n      super('solarPearlSkillBurst');\n    }\n\n    statMixin = {\n      apply: (stats: Stats) => {\n        if (this.value) {\n          stats.normalDmgBonus = params[0] + (stats.normalDmgBonus ?? 0);\n        }\n      },\n    };\n  }\n\n  return {\n    id: 'solarPearl',\n    options: [SolarPearlOptionNormalAttack, SolarPearlOptionSkillBurst],\n  };\n}\n","import { Stats, TalentParams } from '../../../data/types';\nimport DamageModifier from '../../modifier/DamageModifer';\nimport { WeaponPassive } from '../types';\n\nexport function everlastingMoonglowPassive(\n  params: TalentParams\n): WeaponPassive {\n  return {\n    id: 'everlastingMoonglow',\n    options: [],\n    modifierMixin: {\n      apply: (modifier: DamageModifier, stats: Stats) => {\n        modifier.normalAttackFlatDmg =\n          params[1] * (stats.flatHp ?? 0) + (modifier.normalAttackFlatDmg ?? 0);\n      },\n    },\n  };\n}\n","import {\n  AscensionBonus,\n  StatCurveMapping,\n  Stats,\n  WeaponPassiveData,\n  WeaponPassiveSetData,\n} from '../../data/types';\nimport {\n  getWeaponData as getData,\n  getWeaponAscensionBonusData as getAscensionBonusData,\n  getWeaponStatCurveAt as getStatCurveAt,\n  getAscensionBonusAt,\n  getWeaponPassiveAt,\n  getWeaponPassiveData,\n} from '../Data';\nimport { getOptionValue, setOptionValue } from '../option';\nimport { ModifierMixin, StatMixin } from '../option/Mixin';\nimport WeaponOption from '../option/weaponOptions/WeaponOption';\nimport { WeaponPassive } from '../passive/types';\nimport { getWeaponPassiveFn } from '../passive/weaponPassives/WeaponPassive';\nimport type { WeaponType } from './types';\n\nexport default class Weapon {\n  constructor(\n    id: string,\n    level: number,\n    hasAscended: boolean,\n    refinement: number\n  ) {\n    this._weaponLevel = level;\n    this._hasAscended = hasAscended;\n    this._refinement = refinement;\n\n    this.id = id;\n  }\n\n  private _id: string = '';\n  get id(): string {\n    return this._id;\n  }\n  set id(value: string) {\n    // Essentially replaces the constructor\n    this._id = value;\n\n    const data = getData(value);\n    this.name = data?.name;\n    this.type = data?.type as WeaponType | undefined;\n    this.rank = data?.rank;\n    this.baseStats = data?.baseStats;\n    this.statCurveMapping = data?.statCurves;\n    this.ascensionBonuses = getAscensionBonusData(value);\n\n    this.passiveDataSet = getWeaponPassiveData(value);\n    if (this.passiveDataSet !== undefined) {\n      this.passiveData = getWeaponPassiveAt(\n        this.refinement,\n        this.passiveDataSet\n      );\n      this.passive = this.getPassive(this.passiveData);\n      this.passiveOptions = this.getPassiveOptions();\n    }\n\n    this.stats = this.getStatsAt(this.weaponLevel, this.hasAscended);\n  }\n\n  name?: string;\n  type?: WeaponType;\n  rank?: number;\n  baseStats?: Stats;\n  statCurveMapping?: StatCurveMapping;\n  ascensionBonuses?: AscensionBonus[];\n  passiveDataSet?: WeaponPassiveSetData;\n\n  private _weaponLevel: number = 1;\n  get weaponLevel(): number {\n    return this._weaponLevel;\n  }\n  set weaponLevel(value: number) {\n    this._weaponLevel = value;\n    this.stats = this.getStatsAt(value, this.hasAscended);\n  }\n\n  private _hasAscended: boolean = false;\n  get hasAscended(): boolean {\n    return this._hasAscended;\n  }\n  set hasAscended(value: boolean) {\n    this._hasAscended = value;\n    this.stats = this.getStatsAt(this.weaponLevel, value);\n  }\n\n  private _refinement: number = 1;\n  get refinement(): number {\n    return this._refinement;\n  }\n  set refinement(value: number) {\n    this._refinement = value;\n    if (this.passiveDataSet !== undefined) {\n      this.passiveData = getWeaponPassiveAt(value, this.passiveDataSet);\n      this.passive = this.getPassive(this.passiveData);\n      this.passiveOptions = this.getPassiveOptions(true);\n    }\n  }\n\n  stats: Stats = {};\n  passiveData?: WeaponPassiveData;\n  passive?: WeaponPassive;\n  passiveOptions: WeaponOption[] = [];\n\n  isDefined() {\n    return this.id !== '';\n  }\n\n  // Returns an Object containing the weapons's HP, Atk and Def, taking into account only its level and ascension\n  getStatsAt(weaponLevel: number, hasAscended: boolean) {\n    if (\n      this.rank === undefined ||\n      this.baseStats === undefined ||\n      this.statCurveMapping === undefined ||\n      this.ascensionBonuses === undefined\n    ) {\n      // Weapon is (likely) not defined/stats not found\n      return {};\n    }\n\n    if (\n      isNaN(weaponLevel) ||\n      weaponLevel < 1 ||\n      (this.rank <= 2 && weaponLevel > 70) ||\n      weaponLevel > 90\n    ) {\n      // Return NaNs if weapon level is invalid\n      let weaponStats;\n      if (this.stats !== undefined) {\n        // Copy all of stats' properties to a new object and initialize them to null\n        weaponStats = Object.keys(this.stats).reduce((obj, stat) => {\n          obj[stat] = NaN;\n          return obj;\n        }, {} as Stats);\n      } else {\n        weaponStats = {};\n      }\n\n      return weaponStats;\n    }\n\n    // ELSE\n    // Level 1 weapon stats\n    let weaponStats = { ...this.baseStats };\n\n    let weaponStatCurves = getStatCurveAt(weaponLevel);\n\n    // Calculate stats from weapon level\n    Object.entries(this.statCurveMapping).forEach(([stat, curve]) => {\n      let multiplier = weaponStatCurves[curve];\n      weaponStats[stat] *= multiplier;\n    });\n\n    // Calculate stats from weapon ascension\n    let ascensionLevel;\n    // Only 3-star and above weapons can be ascended beyond level 70\n    if (\n      this.rank > 2 &&\n      (weaponLevel > 80 || (weaponLevel === 80 && hasAscended))\n    ) {\n      ascensionLevel = 6;\n    } else if (\n      this.rank > 2 &&\n      (weaponLevel > 70 || (weaponLevel === 70 && hasAscended))\n    ) {\n      ascensionLevel = 5;\n    } else if (weaponLevel > 60 || (weaponLevel === 60 && hasAscended)) {\n      ascensionLevel = 4;\n    } else if (weaponLevel > 50 || (weaponLevel === 50 && hasAscended)) {\n      ascensionLevel = 3;\n    } else if (weaponLevel > 40 || (weaponLevel === 40 && hasAscended)) {\n      ascensionLevel = 2;\n    } else if (weaponLevel > 20 || (weaponLevel === 20 && hasAscended)) {\n      ascensionLevel = 1;\n    } else {\n      ascensionLevel = 0;\n    }\n    let ascensionBonuses = getAscensionBonusAt(\n      ascensionLevel,\n      this.ascensionBonuses\n    );\n\n    if (ascensionBonuses !== undefined) {\n      Object.entries(ascensionBonuses).forEach(([stat, bonus]) => {\n        if (stat in weaponStats) {\n          weaponStats[stat] += bonus;\n        } else {\n          weaponStats[stat] = bonus;\n        }\n      });\n    }\n\n    return weaponStats;\n  }\n\n  // Only returns the extra passive bonuses, excluding the direct stat bonuses\n  // To be called when passive should update (e.g. id or refinement change)\n  getPassive(passiveData?: WeaponPassiveData) {\n    if (passiveData === undefined) {\n      return getWeaponPassiveFn('')([]);\n    }\n\n    return getWeaponPassiveFn(passiveData.passiveId)(passiveData.passiveParams);\n  }\n\n  // getPassive should be called before this if passives are updated\n  getPassiveOptions(shouldKeepValue: boolean = false) {\n    let newOptions = (this.passive?.options ?? []).map(\n      (Option) => new Option()\n    );\n\n    if (shouldKeepValue) {\n      this.passiveOptions.forEach((option) => {\n        let newOption = newOptions.find(\n          (newOption) => newOption.id === option.id\n        );\n        if (newOption !== undefined) {\n          setOptionValue(newOption, getOptionValue(option));\n        }\n      });\n    }\n\n    return newOptions;\n  }\n\n  getPassiveStatMixins(): StatMixin[] {\n    let statMixins = [];\n\n    if (this.passive?.statMixin !== undefined) {\n      statMixins.push(this.passive.statMixin);\n    }\n\n    if (this.passiveData?.statBonuses !== undefined) {\n      this.passiveData.statBonuses.forEach(({ stat, value }) => {\n        statMixins.push({\n          apply: (stats: Stats) => {\n            stats[stat] = value + (stats[stat] ?? 0);\n          },\n        });\n      });\n    }\n\n    return statMixins;\n  }\n\n  getPassiveModifierMixins(): ModifierMixin[] {\n    if (this.passive?.modifierMixin === undefined) {\n      return [];\n    }\n\n    return [this.passive.modifierMixin];\n  }\n}\n","import React from 'react';\nimport Button from 'react-bootstrap/esm/Button';\nimport Col from 'react-bootstrap/esm/Col';\nimport Form from 'react-bootstrap/esm/Form';\nimport Modal from 'react-bootstrap/esm/Modal';\nimport { AppState } from '../App';\nimport {\n  createSave,\n  addSave,\n  getSave,\n  loadSave,\n  Saves,\n  deleteSave,\n} from '../save/Save';\nimport InputBlock from './InputBlock';\nimport InputRow from './InputRow';\nimport Picker from './Picker';\n\ntype SaveBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  refreshApp: () => void;\n};\n\ntype SaveBlockState = {\n  saves: Saves;\n  saveInputName: string;\n  selectedSave: string;\n  showDeleteWarning: boolean;\n};\n\nclass SaveBlock extends React.Component<SaveBlockProps, SaveBlockState> {\n  state: SaveBlockState;\n\n  constructor(props: SaveBlockProps) {\n    super(props);\n\n    // Populate local storage if empty\n    if (window.localStorage.getItem('saves') === null) {\n      window.localStorage.setItem('saves', '{}');\n    }\n\n    // Initialize saves in memory\n    const saves = JSON.parse(window.localStorage.getItem('saves') ?? '{}');\n    // Initialize state\n    this.state = {\n      saves,\n      saveInputName: '',\n      selectedSave: '',\n      showDeleteWarning: false,\n    };\n  }\n\n  onSaveClick = () => {\n    if (this.state.saveInputName !== '') {\n      const save = createSave(this.state.saveInputName, this.props.appState);\n      const saves = this.state.saves;\n      addSave(save, saves);\n      this.setState({ saves });\n    }\n  };\n\n  onSaveInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ saveInputName: e.target.value });\n  };\n\n  onLoadClick = () => {\n    if (this.state.selectedSave !== '') {\n      const save = getSave(this.state.selectedSave, this.state.saves);\n      if (save !== undefined) {\n        loadSave(save, this.props.setAppState, this.props.refreshApp);\n      }\n    }\n  };\n\n  onLoadInputChange = (value: string) => {\n    this.setState({ selectedSave: value });\n  };\n\n  onDeleteClick = () => {\n    if (this.state.selectedSave !== '') {\n      this.setState({ showDeleteWarning: true });\n    }\n  };\n\n  onModalConfirm = () => {\n    const saves = this.state.saves;\n    deleteSave(this.state.selectedSave, saves);\n    this.setState({ saves });\n\n    this.setState({ showDeleteWarning: false });\n  };\n\n  onModalHide = () => {\n    this.setState({ showDeleteWarning: false });\n  };\n\n  render() {\n    return (\n      <InputBlock>\n        <InputRow>\n          <Button variant='secondary' size='sm' onClick={this.onSaveClick}>\n            Save\n          </Button>\n\n          <Col className='save-name-col'>\n            <Form.Control\n              type='text'\n              size='sm'\n              placeholder='Save label (cannot be empty)'\n              onChange={this.onSaveInputChange}\n            />\n          </Col>\n        </InputRow>\n\n        <InputRow>\n          <Button variant='secondary' size='sm' onClick={this.onLoadClick}>\n            Load\n          </Button>\n\n          <Picker\n            id='save-picker'\n            label=''\n            defaultValue=''\n            value={this.state.selectedSave}\n            onChange={this.onLoadInputChange}\n            isLabelShown={false}\n          >\n            <Picker.Item label='' value='' />\n            {Object.values(this.state.saves).map((save) => (\n              <Picker.Item\n                label={save.label}\n                value={save.label}\n                key={save.label}\n              />\n            ))}\n          </Picker>\n\n          <>\n            <Button variant='danger' size='sm' onClick={this.onDeleteClick}>\n              Delete\n            </Button>\n\n            <Modal\n              show={this.state.showDeleteWarning}\n              onHide={this.onModalHide}\n            >\n              <Modal.Body>\n                Are you sure you want to delete the save configuration? This\n                action is irreversible!\n              </Modal.Body>\n              <Modal.Footer>\n                <Button variant='secondary' onClick={this.onModalHide}>\n                  Cancel\n                </Button>\n                <Button variant='danger' onClick={this.onModalConfirm}>\n                  Delete\n                </Button>\n              </Modal.Footer>\n            </Modal>\n          </>\n        </InputRow>\n      </InputBlock>\n    );\n  }\n}\n\nexport default SaveBlock;\n","import { AppState } from '../App';\nimport Artifact from '../js/artifact/Artifact';\nimport ArtifactSet from '../js/artifact/ArtifactSet';\nimport { ArtifactType, InputStat } from '../js/artifact/types';\nimport Character from '../js/character/Character';\nimport CritType from '../js/modifier/CritType';\nimport Reaction from '../js/modifier/Reaction';\nimport { getOptionValue, setOptionValue } from '../js/option';\nimport Resistance from '../js/Resistance';\nimport { Element } from '../js/talent/types';\nimport Weapon from '../js/weapon/Weapon';\n\nexport default interface Save {\n  label: string;\n\n  characterId?: string;\n  characterLevel?: number;\n  characterHasAscended?: boolean;\n\n  weaponId?: string;\n  weaponLevel?: number;\n  weaponHasAscended?: boolean;\n  weaponRefinement?: number;\n\n  artifacts?: ArtifactSave[];\n\n  artifactSets?: { artifactSetId?: string; artifactSetPieces?: number }[];\n\n  talentAttackLevel?: number;\n  talentSkillLevel?: number;\n  talentBurstLevel?: number;\n\n  critType?: CritType;\n  enemyLevel?: number;\n  enemyRes?: {\n    anemo?: number;\n    cryo?: number;\n    electro?: number;\n    geo?: number;\n    hydro?: number;\n    pyro?: number;\n    physical?: number;\n  };\n  reaction?: Reaction;\n\n  characterOptions?: { id?: string; value?: unknown }[];\n  weaponOptions?: { id?: string; value?: unknown }[];\n  artifactSetOptions?: { id?: string; value?: unknown }[];\n}\n\nexport type Saves = Record<string, Save>;\n\ninterface ArtifactSave {\n  type?: ArtifactType;\n  rarity?: number;\n  level?: number;\n  mainStat?: string;\n  subStats?: InputStatSave[];\n}\n\ninterface InputStatSave {\n  stat?: string;\n  value?: number;\n  rawValue?: number;\n}\n\nfunction createInputStatSave({\n  stat,\n  value,\n  rawValue,\n}: InputStat): InputStatSave {\n  return { stat, value, rawValue };\n}\n\nexport function createSave(label: string, appState: AppState): Save {\n  const save: Save = {\n    label,\n\n    characterId: appState.character.id,\n    characterLevel: appState.character.level,\n    characterHasAscended: appState.character.hasAscended,\n\n    weaponId: appState.weapon.id,\n    weaponLevel: appState.weapon.weaponLevel,\n    weaponHasAscended: appState.weapon.hasAscended,\n    weaponRefinement: appState.weapon.refinement,\n\n    artifacts: appState.artifacts.map((artifact) => {\n      return {\n        type: artifact.type,\n        rarity: artifact.rarity,\n        level: artifact.level,\n        mainStat: artifact.mainStat.stat,\n        subStats: artifact.subStats.map((subStat) =>\n          createInputStatSave(subStat)\n        ),\n      };\n    }),\n\n    artifactSets: appState.artifactSets.map((artifactSet) => {\n      return {\n        artifactSetId: artifactSet.id,\n        artifactSetPieces: artifactSet.pieces,\n      };\n    }),\n\n    talentAttackLevel: appState.talentAttackLevel,\n    talentSkillLevel: appState.talentSkillLevel,\n    talentBurstLevel: appState.talentBurstLevel,\n\n    critType: appState.critType,\n    enemyLevel: appState.enemyLevel,\n    enemyRes: {\n      anemo: appState.enemyRes.get(Element.Anemo),\n      cryo: appState.enemyRes.get(Element.Cryo),\n      electro: appState.enemyRes.get(Element.Electro),\n      geo: appState.enemyRes.get(Element.Geo),\n      hydro: appState.enemyRes.get(Element.Hydro),\n      pyro: appState.enemyRes.get(Element.Pyro),\n      physical: appState.enemyRes.get(Element.Physical),\n    },\n    reaction: appState.reaction,\n\n    characterOptions: appState.characterOptions.map((option) => {\n      return { id: option.id, value: getOptionValue(option) };\n    }),\n    weaponOptions: appState.weaponOptions.map((option) => {\n      return { id: option.id, value: getOptionValue(option) };\n    }),\n    artifactSetOptions: appState.artifactSetOptions.map((option) => {\n      return { id: option.id, value: getOptionValue(option) };\n    }),\n  };\n\n  return save;\n}\n\nexport function loadSave(\n  save: Save,\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void,\n  refreshApp: () => void\n) {\n  const character = new Character(\n    save.characterId ?? '',\n    save.characterLevel ?? 1,\n    save.characterHasAscended ?? false\n  );\n  const weapon = new Weapon(\n    save.weaponId ?? '',\n    save.weaponLevel ?? 1,\n    save.weaponHasAscended ?? false,\n    save.weaponRefinement ?? 1\n  );\n\n  const artifacts =\n    save.artifacts?.map((savedArtifact, i) => {\n      const artifactType = savedArtifact.type ?? Object.values(ArtifactType)[i];\n      let artifact = new Artifact(\n        artifactType,\n        savedArtifact.rarity ?? 1,\n        savedArtifact.level ?? 0,\n        savedArtifact.mainStat ?? ''\n      );\n      artifact.subStats =\n        savedArtifact.subStats?.map(\n          (subStat) =>\n            new InputStat(\n              subStat.stat ?? '',\n              subStat.value ?? NaN,\n              subStat.rawValue ?? NaN\n            )\n        ) ?? artifact.subStats;\n\n      return artifact;\n    }) ??\n    Object.values(ArtifactType).map((type) => new Artifact(type, 1, 0, ''));\n\n  const artifactSets = save.artifactSets?.map(\n    (artifactSet) =>\n      new ArtifactSet(\n        artifactSet.artifactSetId ?? '',\n        artifactSet.artifactSetPieces ?? 0\n      )\n  ) ?? [new ArtifactSet(''), new ArtifactSet(''), new ArtifactSet('')];\n\n  const talentAttackLevel = save.talentAttackLevel ?? 1;\n  const talentSkillLevel = save.talentSkillLevel ?? 1;\n  const talentBurstLevel = save.talentBurstLevel ?? 1;\n\n  const critType = save.critType ?? CritType.None;\n  const enemyLevel = save.enemyLevel ?? 1;\n  const enemyRes = save.enemyRes\n    ? new Resistance(save.enemyRes)\n    : new Resistance();\n  const reaction = save.reaction ?? Reaction.None;\n\n  const characterOptions = character.getOptions();\n  save.characterOptions?.forEach((option) => {\n    let characterOption = characterOptions.find(\n      (characterOption) => characterOption.id === option.id\n    );\n    if (characterOption !== undefined) {\n      setOptionValue(characterOption, option.value);\n    }\n  });\n\n  const weaponOptions = weapon.passiveOptions;\n  save.weaponOptions?.forEach((option) => {\n    let weaponOption = weaponOptions.find(\n      (weaponOption) => weaponOption.id === option.id\n    );\n    if (weaponOption !== undefined) {\n      setOptionValue(weaponOption, option.value);\n    }\n  });\n\n  const artifactSetOptions = artifactSets.flatMap(\n    (artifactSet) => artifactSet.options\n  );\n  save.artifactSetOptions?.forEach((option) => {\n    let artifactSetOption = artifactSetOptions.find(\n      (artifactSetOption) => artifactSetOption.id === option.id\n    );\n    if (artifactSetOption !== undefined) {\n      setOptionValue(artifactSetOption, option.value);\n    }\n  });\n\n  setAppState(\n    {\n      character,\n      weapon,\n      artifacts,\n      artifactSets,\n      talentAttackLevel,\n      talentSkillLevel,\n      talentBurstLevel,\n      critType,\n      enemyLevel,\n      enemyRes,\n      reaction,\n      characterOptions,\n      weaponOptions,\n      artifactSetOptions,\n    },\n\n    // Update stats and talents\n    refreshApp\n  );\n}\n\nexport function addSave(save: Save, saves: Saves) {\n  saves[save.label] = save;\n  window.localStorage.setItem('saves', JSON.stringify(saves));\n}\n\nexport function getSave(label: string, saves: Saves): Save | undefined {\n  return saves[label];\n}\n\nexport function deleteSave(label: string, saves: Saves) {\n  delete saves[label];\n  window.localStorage.setItem('saves', JSON.stringify(saves));\n}\n","import React from 'react';\nimport { AppState } from '../App';\nimport InputBlock from './InputBlock';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\n\ntype TalentInputBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateTotalStats: ({\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n  }: {\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n  }) => void;\n};\n\nclass TalentInputBlock extends React.Component<TalentInputBlockProps> {\n  setTalentAttackLevel = (level: number) => {\n    this.props.updateTotalStats({ talentAttackLevel: level });\n    this.props.setAppState({ talentAttackLevel: level });\n  };\n\n  setTalentSkillLevel = (level: number) => {\n    this.props.updateTotalStats({ talentSkillLevel: level });\n    this.props.setAppState({ talentSkillLevel: level });\n  };\n\n  setTalentBurstLevel = (level: number) => {\n    this.props.updateTotalStats({ talentBurstLevel: level });\n    this.props.setAppState({ talentBurstLevel: level });\n  };\n\n  render() {\n    const { appState } = this.props;\n    return (\n      <InputBlock>\n        <InputRow>\n          <IntInput\n            id='talent-attack-level-input'\n            label='Attack Talent Level:'\n            defaultValue={1}\n            value={appState.talentAttackLevel}\n            onInput={this.setTalentAttackLevel}\n            className='level-input'\n          />\n        </InputRow>\n        <InputRow>\n          <IntInput\n            id='talent-skill-level-input'\n            label='Skill Talent Level:'\n            defaultValue={1}\n            value={appState.talentSkillLevel}\n            onInput={this.setTalentSkillLevel}\n            className='level-input'\n          />\n        </InputRow>\n        <InputRow>\n          <IntInput\n            id='talent-burst-level-input'\n            label='Burst Talent Level:'\n            defaultValue={1}\n            value={appState.talentBurstLevel}\n            onInput={this.setTalentBurstLevel}\n            className='level-input'\n          />\n        </InputRow>\n      </InputBlock>\n    );\n  }\n}\n\nexport default TalentInputBlock;\n","import React from 'react';\nimport Picker from './Picker';\n\nimport * as data from '../js/Data';\n\ntype WeaponPickerProps = {\n  weaponId: string;\n  setWeaponId: (id: string) => void;\n};\n\nclass WeaponPicker extends React.Component<WeaponPickerProps> {\n  onChange = (value: string) => {\n    this.props.setWeaponId(value);\n  };\n\n  render() {\n    return (\n      <Picker\n        id='weapon-picker'\n        label='Weapon:'\n        defaultValue=''\n        value={this.props.weaponId}\n        onChange={this.onChange}\n      >\n        <Picker.Item label='' value='' />\n        {data.getSortedWeaponList().map((id) => (\n          <Picker.Item\n            label={data.getWeaponData(id).name}\n            value={id}\n            key={id}\n          />\n        ))}\n      </Picker>\n    );\n  }\n}\n\nexport default WeaponPicker;\n","import React from 'react';\nimport { AppState } from '../App';\nimport WeaponOption from '../js/option/weaponOptions/WeaponOption';\nimport Weapon from '../js/weapon/Weapon';\nimport Checkbox from './Checkbox';\nimport InputBlock from './InputBlock';\nimport InputRow from './InputRow';\nimport IntInput from './IntInput';\nimport OptionInput from './OptionInput';\nimport WeaponPicker from './WeaponPicker';\n\ntype WeaponInputBlockProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateTotalStats: ({\n    weapon,\n    weaponOptions,\n  }: {\n    weapon?: Weapon;\n    weaponOptions?: WeaponOption[];\n  }) => void;\n};\n\nclass WeaponInputBlock extends React.Component<WeaponInputBlockProps> {\n  setWeaponId = (id: string) => {\n    const weapon = this.props.appState.weapon;\n    weapon.id = id;\n    const weaponOptions = weapon.passiveOptions;\n    this.props.updateTotalStats({ weapon, weaponOptions });\n    this.props.setAppState({ weapon, weaponOptions });\n  };\n\n  setWeaponLevel = (level: number) => {\n    const weapon = this.props.appState.weapon;\n    weapon.weaponLevel = level;\n    this.props.updateTotalStats({ weapon });\n    this.props.setAppState({ weapon });\n  };\n\n  setIsWeaponAscended = (isAscended: boolean) => {\n    const weapon = this.props.appState.weapon;\n    weapon.hasAscended = isAscended;\n    this.props.updateTotalStats({ weapon });\n    this.props.setAppState({ weapon });\n  };\n\n  setWeaponRefinement = (refinement: number) => {\n    const weapon = this.props.appState.weapon;\n    weapon.refinement = refinement;\n    const weaponOptions = weapon.passiveOptions;\n    this.props.updateTotalStats({ weapon, weaponOptions });\n    this.props.setAppState({ weapon, weaponOptions });\n  };\n\n  updateOptions = () => {\n    const { weaponOptions } = this.props.appState;\n    this.props.updateTotalStats({ weaponOptions });\n    this.props.setAppState({ weaponOptions: [...weaponOptions] });\n  };\n\n  render() {\n    const { appState } = this.props;\n    return (\n      <InputBlock>\n        <InputRow>\n          <WeaponPicker\n            weaponId={appState.weapon.id}\n            setWeaponId={this.setWeaponId}\n          />\n        </InputRow>\n\n        <InputRow>\n          <IntInput\n            id='weapon-level-input'\n            label='Level:'\n            defaultValue={1}\n            value={appState.weapon.weaponLevel}\n            onInput={this.setWeaponLevel}\n            className='level-input'\n          />\n        </InputRow>\n\n        <InputRow>\n          <Checkbox\n            id='weapon-ascension-checkbox'\n            label='Ascended?'\n            defaultValue={false}\n            value={appState.weapon.hasAscended}\n            onChange={this.setIsWeaponAscended}\n          />\n        </InputRow>\n\n        <InputRow>\n          <IntInput\n            id='weapon-refinement-input'\n            label='Refinement:'\n            defaultValue={1}\n            value={appState.weapon.refinement}\n            onInput={this.setWeaponRefinement}\n            className='level-input'\n          />\n        </InputRow>\n\n        {appState.weaponOptions.map((option) => {\n          return (\n            <InputRow key={option.id}>\n              <OptionInput option={option} updateOptions={this.updateOptions} />\n            </InputRow>\n          );\n        })}\n      </InputBlock>\n    );\n  }\n}\n\nexport default WeaponInputBlock;\n","import React from 'react';\nimport Col from 'react-bootstrap/esm/Col';\nimport { AppState } from '../App';\nimport { Stats } from '../data/types';\nimport Artifact from '../js/artifact/Artifact';\nimport ArtifactSet from '../js/artifact/ArtifactSet';\nimport Character from '../js/character/Character';\nimport CritType from '../js/modifier/CritType';\nimport { ArtifactSetOption } from '../js/option/artifactSetOptions';\nimport { CharacterOption } from '../js/option/characterOptions';\nimport Resistance from '../js/Resistance';\nimport Weapon from '../js/weapon/Weapon';\nimport ArtifactSetInputBlock from './ArtifactSetInputBlock';\nimport CharacterInputBlock from './CharacterInputBlock';\nimport ModifierInputBlock from './ModifierInputBlock';\nimport SaveBlock from './SaveBlock';\nimport TalentInputBlock from './TalentInputBlock';\nimport WeaponInputBlock from './WeaponInputBlock';\n\ntype InputColumnProps = {\n  appState: AppState;\n  setAppState: <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => void;\n  updateArtifactSetBonuses: ({\n    artifactSets,\n  }: {\n    artifactSets?: ArtifactSet[];\n  }) => void;\n  updateTotalStats: ({\n    character,\n    weapon,\n    artifacts,\n    artifactSetBonuses,\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n    characterOptions,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    weapon?: Weapon;\n    artifacts?: Artifact[];\n    artifactSetBonuses?: Stats;\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n    characterOptions?: CharacterOption[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => void;\n  updateTalentValues: ({\n    character,\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n    enemyLevel,\n    enemyRes,\n    critType,\n    characterOptions,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n    enemyLevel?: number;\n    enemyRes?: Resistance;\n    critType?: CritType;\n    characterOptions?: CharacterOption[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => void;\n  refreshApp: () => void;\n};\n\nclass InputColumn extends React.Component<InputColumnProps> {\n  render() {\n    const {\n      appState,\n      setAppState,\n      updateArtifactSetBonuses,\n      updateTotalStats,\n      updateTalentValues,\n      refreshApp,\n    } = this.props;\n\n    return (\n      <Col\n        id='input-column'\n        className='input-column no-gutters border-right border-dark'\n        md='auto'\n        xs={12}\n      >\n        <SaveBlock\n          appState={appState}\n          setAppState={setAppState}\n          refreshApp={refreshApp}\n        />\n\n        <CharacterInputBlock\n          appState={appState}\n          setAppState={setAppState}\n          updateTotalStats={updateTotalStats}\n        />\n\n        <WeaponInputBlock\n          appState={appState}\n          setAppState={setAppState}\n          updateTotalStats={updateTotalStats}\n        />\n\n        <ArtifactSetInputBlock\n          appState={appState}\n          setAppState={setAppState}\n          updateArtifactSetBonuses={updateArtifactSetBonuses}\n        />\n\n        <TalentInputBlock\n          appState={appState}\n          setAppState={setAppState}\n          updateTotalStats={updateTotalStats}\n        />\n\n        <ModifierInputBlock\n          appState={appState}\n          setAppState={setAppState}\n          updateTalentValues={updateTalentValues}\n        />\n      </Col>\n    );\n  }\n}\n\nexport default InputColumn;\n","import React from 'react';\nimport { Stats } from '../data/types';\nimport { propMapping } from '../js/Data';\nimport { getStatDisplayValue } from '../js/Stat';\n\ntype ArtifactSetStatBlockProps = {\n  artifactSetBonuses: Stats;\n};\n\nclass ArtifactSetStatBlock extends React.Component<ArtifactSetStatBlockProps> {\n  render() {\n    const { artifactSetBonuses } = this.props;\n\n    if (Object.keys(artifactSetBonuses).length === 0) {\n      return null;\n    }\n\n    return (\n      <div className='result-block'>\n        <h2>Artifact Sets</h2>\n        {Object.entries(artifactSetBonuses)\n          .filter(\n            ([prop, _]) =>\n              // Temporary(?) way to not display these fake stats\n              prop !== 'burstDmgBonusByEnergyRechargeRatio' &&\n              prop !== 'burstDmgBonusByEnergyRechargeMax' &&\n              prop !== 'severedFateBonus'\n          )\n          .map(([prop, value]) => (\n            <p key={prop}>\n              {propMapping[prop].name}: {getStatDisplayValue(prop, value)}\n            </p>\n          ))}\n      </div>\n    );\n  }\n}\n\nexport default ArtifactSetStatBlock;\n","import React from 'react';\nimport Character from '../js/character/Character';\nimport { propMapping } from '../js/Data';\nimport { getStatDisplayValue } from '../js/Stat';\n\ntype CharacterStatBlockProps = {\n  character: Character;\n};\n\nclass CharacterStatBlock extends React.Component<CharacterStatBlockProps> {\n  render() {\n    const character = this.props.character;\n\n    if (!character.isDefined()) {\n      return null;\n    }\n\n    return (\n      <div className='result-block'>\n        <h2>Character</h2>\n        <img\n          src={`https://rerollcdn.com/GENSHIN/Characters/${character.name}.png`}\n          width={70}\n          height={70}\n          alt='Character thumbnail'\n        />\n        <p>{character.name ?? ''}</p>\n        {Object.entries(character.innateStats).map(([prop, value]) => (\n          <p key={prop}>\n            {propMapping[prop].name}: {getStatDisplayValue(prop, value)}\n          </p>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default CharacterStatBlock;\n","import React from 'react';\nimport { Stats } from '../data/types';\nimport { propMapping } from '../js/Data';\nimport { getStatDisplayValue } from '../js/Stat';\n\ntype TotalStatBlockProps = {\n  totalStats: Stats;\n};\n\nclass TotalStatBlock extends React.Component<TotalStatBlockProps> {\n  render() {\n    return (\n      <div className='result-block'>\n        <h2>Total Stats</h2>\n        {Object.entries(this.props.totalStats).map(\n          ([prop, value]) =>\n            // Temporary way to exclude Base Atk from being displayed\n            // Potential method is to hardcode the stats that should be displayed\n            // (similar to how it is done in getTotalStatsAt)\n            prop !== 'baseAtk' && (\n              <p key={prop}>\n                {propMapping[prop].name}: {getStatDisplayValue(prop, value)}\n              </p>\n            )\n        )}\n      </div>\n    );\n  }\n}\n\nexport default TotalStatBlock;\n","import React from 'react';\nimport { propMapping } from '../js/Data';\nimport { getStatDisplayValue } from '../js/Stat';\nimport Weapon from '../js/weapon/Weapon';\n\ntype WeaponStatBlockProps = {\n  weapon: Weapon;\n};\n\nclass WeaponStatBlock extends React.Component<WeaponStatBlockProps> {\n  render() {\n    const weapon = this.props.weapon;\n\n    if (!weapon.isDefined()) {\n      return null;\n    }\n\n    return (\n      <div className='result-block'>\n        <h2>Weapon</h2>\n        <p>{weapon.name ?? ''}</p>\n        {Object.entries(weapon.stats).map(([prop, value]) => (\n          <p key={prop}>\n            {propMapping[prop].name}: {getStatDisplayValue(prop, value)}\n          </p>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default WeaponStatBlock;\n","import React from 'react';\nimport Col from 'react-bootstrap/esm/Col';\nimport { AppState } from '../App';\nimport { Stats } from '../data/types';\nimport ArtifactSetStatBlock from './ArtifactSetStatBlock';\nimport CharacterStatBlock from './CharacterStatBlock';\nimport TotalStatBlock from './TotalStatBlock';\nimport WeaponStatBlock from './WeaponStatBlock';\n\ntype StatColumnProps = {\n  appState: AppState;\n  totalStats: Stats;\n  artifactSetBonuses: Stats;\n};\n\nclass StatColumn extends React.Component<StatColumnProps> {\n  render() {\n    const { character, weapon } = this.props.appState;\n\n    return (\n      <Col\n        id='stat-column'\n        className='stat-column no-gutters border-right border-dark'\n        md='auto'\n        xs={12}\n      >\n        <TotalStatBlock totalStats={this.props.totalStats} />\n        <CharacterStatBlock character={character} />\n        <WeaponStatBlock weapon={weapon} />\n        <ArtifactSetStatBlock\n          artifactSetBonuses={this.props.artifactSetBonuses}\n        />\n      </Col>\n    );\n  }\n}\n\nexport default StatColumn;\n","import React from 'react';\nimport { talentDescMapping } from '../js/Data';\nimport { capitalize, getDamageDisplayValue } from '../js/Stat';\nimport { TalentType, TalentValue } from '../js/talent/types';\n\ntype TalentBlockProps = {\n  type: TalentType;\n  talentValues: TalentValue[];\n};\n\nclass TalentBlock extends React.Component<TalentBlockProps> {\n  render() {\n    return (\n      <div className='sub-block'>\n        <h3>{capitalize(this.props.type)}</h3>\n        {this.props.talentValues.map(({ description, damage }) => (\n          <p key={description}>\n            {talentDescMapping[description]}: {getDamageDisplayValue(damage)}\n          </p>\n        ))}\n      </div>\n    );\n  }\n}\nexport default TalentBlock;\n","import React from 'react';\nimport { TalentType, TalentValueSet } from '../js/talent/types';\nimport TalentBlock from './TalentBlock';\nimport Col from 'react-bootstrap/esm/Col';\n\ntype TalentColumnProps = {\n  talentValues: TalentValueSet;\n};\n\nclass TalentColumn extends React.Component<TalentColumnProps> {\n  render() {\n    const { attack, skill, burst } = this.props.talentValues;\n\n    return (\n      <Col\n        id='talent-column'\n        className='talent-column no-gutters border-right border-dark'\n        md='auto'\n        xs={12}\n      >\n        <div className='result-block'>\n          <h2>Talents</h2>\n          <TalentBlock type={TalentType.Attack} talentValues={attack} />\n          <TalentBlock type={TalentType.Skill} talentValues={skill} />\n          <TalentBlock type={TalentType.Burst} talentValues={burst} />\n        </div>\n      </Col>\n    );\n  }\n}\n\nexport default TalentColumn;\n","import React from 'react';\nimport Container from 'react-bootstrap/esm/Container';\nimport Nav from 'react-bootstrap/esm/Nav';\nimport Navbar from 'react-bootstrap/esm/Navbar';\nimport Row from 'react-bootstrap/esm/Row';\nimport './App.css';\nimport ArtifactColumn from './component/ArtifactColumn';\nimport InputColumn from './component/InputColumn';\nimport StatColumn from './component/StatColumn';\nimport TalentColumn from './component/TalentColumn';\nimport { Stats } from './data/types';\nimport Artifact from './js/artifact/Artifact';\nimport ArtifactSet from './js/artifact/ArtifactSet';\nimport { ArtifactType } from './js/artifact/types';\nimport Character from './js/character/Character';\nimport CritType from './js/modifier/CritType';\nimport DamageModifier from './js/modifier/DamageModifer';\nimport Reaction from './js/modifier/Reaction';\nimport { isModifierApplicable, isStatsApplicable } from './js/option';\nimport { ArtifactSetOption } from './js/option/artifactSetOptions';\nimport { CharacterOption } from './js/option/characterOptions';\nimport { ModifierMixin, Priority, StatMixin } from './js/option/Mixin';\nimport { IModifierApplicable, IStatsApplicable } from './js/option/Option';\nimport WeaponOption from './js/option/weaponOptions/WeaponOption';\nimport Resistance from './js/Resistance';\nimport { getTotalStatsAt } from './js/Stat';\nimport { TalentType, TalentValueSet } from './js/talent/types';\nimport Weapon from './js/weapon/Weapon';\n\nexport type AppState = {\n  character: Character;\n  weapon: Weapon;\n  artifacts: Artifact[];\n\n  artifactSets: ArtifactSet[];\n\n  enemyLevel: number;\n  enemyDefReduction: number;\n  enemyRes: Resistance;\n  critType: CritType;\n  flatDmg: number;\n  reaction: Reaction;\n  talentAttackLevel: number;\n  talentSkillLevel: number;\n  talentBurstLevel: number;\n\n  characterOptions: CharacterOption[];\n  weaponOptions: WeaponOption[];\n  artifactSetOptions: ArtifactSetOption[];\n};\n\nclass App extends React.Component<{}, AppState> {\n  state: AppState = {\n    character: new Character('', 1, false),\n    weapon: new Weapon('', 1, false, 1),\n    artifacts: Object.values(ArtifactType).map(\n      (type) => new Artifact(type, 1, 0, '')\n    ),\n\n    artifactSets: [\n      new ArtifactSet(''),\n      new ArtifactSet(''),\n      new ArtifactSet(''),\n    ],\n\n    enemyLevel: 1,\n    enemyDefReduction: 0,\n    enemyRes: new Resistance(),\n    critType: CritType.None,\n    flatDmg: 0,\n    reaction: Reaction.None,\n    talentAttackLevel: 1,\n    talentSkillLevel: 1,\n    talentBurstLevel: 1,\n\n    characterOptions: [],\n    weaponOptions: [],\n    artifactSetOptions: [],\n  };\n\n  artifactSetBonuses: Stats = {};\n  totalStats: Stats = {};\n  talentValues: TalentValueSet = { attack: [], skill: [], burst: [] };\n\n  modifierMixins: ModifierMixin[] = [];\n  statMixins: StatMixin[] = [];\n\n  // Gets all modifier mixins and updates cache (modifierMixins)\n  getModifierMixins({\n    character,\n    characterOptions,\n    weapon,\n    weaponOptions,\n    artifactSets,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    characterOptions?: CharacterOption[];\n    weapon?: Weapon;\n    weaponOptions?: WeaponOption[];\n    artifactSets?: ArtifactSet[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) {\n    if (\n      character === undefined &&\n      characterOptions === undefined &&\n      weapon === undefined &&\n      weaponOptions === undefined &&\n      artifactSets === undefined &&\n      artifactSetOptions === undefined\n    ) {\n      return this.modifierMixins;\n    }\n\n    const characterPassiveMixins = (\n      character ?? this.state.character\n    ).getPassiveModifierMixins();\n\n    const weaponPassiveMixins = (\n      weapon ?? this.state.weapon\n    ).getPassiveModifierMixins();\n\n    const artifactSetMixins = (artifactSets ?? this.state.artifactSets).flatMap(\n      (artifactSet) => artifactSet.getModifierMixins()\n    );\n\n    const characterOptionMixins = (\n      characterOptions ?? this.state.characterOptions\n    )\n      .filter((option): option is CharacterOption & IModifierApplicable =>\n        isModifierApplicable(option)\n      )\n      .map((option) => option.modifierMixin);\n\n    const weaponOptionMixins = (weaponOptions ?? this.state.weaponOptions)\n      .filter((option): option is WeaponOption & IModifierApplicable =>\n        isModifierApplicable(option)\n      )\n      .map((option) => option.modifierMixin);\n\n    const artifactSetOptionMixins = (\n      artifactSetOptions ?? this.state.artifactSetOptions\n    )\n      .filter((option): option is ArtifactSetOption & IModifierApplicable =>\n        isModifierApplicable(option)\n      )\n      .map((option) => option.modifierMixin);\n\n    const unarrangedMixins = characterPassiveMixins\n      .concat(weaponPassiveMixins)\n      .concat(artifactSetMixins)\n      .concat(characterOptionMixins)\n      .concat(weaponOptionMixins)\n      .concat(artifactSetOptionMixins);\n    const groupedMixins = new Map<Priority, ModifierMixin[]>();\n    unarrangedMixins.forEach((mixin) => {\n      const priority = mixin.priority ?? Priority.Normal;\n      const array = groupedMixins.get(priority);\n      if (!array) {\n        groupedMixins.set(priority, [mixin]);\n      } else {\n        array.push(mixin);\n      }\n    });\n\n    this.modifierMixins = (groupedMixins.get(Priority.Normal) ?? []).concat(\n      groupedMixins.get(Priority.Last) ?? []\n    );\n\n    return this.modifierMixins;\n  }\n\n  // Gets all stat mixins and updates cache (statMixins)\n  getStatMixins({\n    character,\n    characterOptions,\n    weapon,\n    weaponOptions,\n    artifactSets,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    characterOptions?: CharacterOption[];\n    weapon?: Weapon;\n    weaponOptions?: WeaponOption[];\n    artifactSets?: ArtifactSet[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) {\n    if (\n      character === undefined &&\n      characterOptions === undefined &&\n      weapon === undefined &&\n      weaponOptions === undefined &&\n      artifactSets === undefined &&\n      artifactSetOptions === undefined\n    ) {\n      return this.statMixins;\n    }\n\n    const characterPassiveMixins = (\n      character ?? this.state.character\n    ).getPassiveStatMixins();\n\n    const weaponPassiveMixins = (\n      weapon ?? this.state.weapon\n    ).getPassiveStatMixins();\n\n    const artifactSetMixins = (artifactSets ?? this.state.artifactSets).flatMap(\n      (artifactSet) => artifactSet.getStatMixins()\n    );\n\n    const characterOptionMixins = (\n      characterOptions ?? this.state.characterOptions\n    )\n      .filter((option): option is CharacterOption & IStatsApplicable =>\n        isStatsApplicable(option)\n      )\n      .map((option) => option.statMixin);\n\n    const weaponOptionMixins = (weaponOptions ?? this.state.weaponOptions)\n      .filter((option): option is WeaponOption & IStatsApplicable =>\n        isStatsApplicable(option)\n      )\n      .map((option) => option.statMixin);\n\n    const artifactSetOptionMixins = (\n      artifactSetOptions ?? this.state.artifactSetOptions\n    )\n      .filter((option): option is ArtifactSetOption & IStatsApplicable =>\n        isStatsApplicable(option)\n      )\n      .map((option) => option.statMixin);\n\n    const unarrangedMixins = characterPassiveMixins\n      .concat(weaponPassiveMixins)\n      .concat(artifactSetMixins)\n      .concat(characterOptionMixins)\n      .concat(weaponOptionMixins)\n      .concat(artifactSetOptionMixins);\n    const groupedMixins = new Map<Priority, StatMixin[]>();\n    unarrangedMixins.forEach((mixin) => {\n      const priority = mixin.priority ?? Priority.Normal;\n      const array = groupedMixins.get(priority);\n      if (!array) {\n        groupedMixins.set(priority, [mixin]);\n      } else {\n        array.push(mixin);\n      }\n    });\n\n    this.statMixins = (groupedMixins.get(Priority.Normal) ?? []).concat(\n      groupedMixins.get(Priority.Last) ?? []\n    );\n\n    return this.statMixins;\n  }\n\n  getDamageModifier({\n    characterLevel,\n    enemyLevel,\n    enemyRes,\n    critType,\n    reaction,\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n    modifierMixins,\n  }: {\n    characterLevel?: number;\n    enemyLevel?: number;\n    enemyRes?: Resistance;\n    critType?: CritType;\n    reaction?: Reaction;\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n    modifierMixins?: ModifierMixin[];\n  } = {}): DamageModifier {\n    const modifier: DamageModifier = {\n      characterLevel: characterLevel ?? this.state.character.level,\n      enemyLevel: enemyLevel ?? this.state.enemyLevel,\n      enemyDefReduction: this.state.enemyDefReduction,\n      enemyRes: enemyRes ?? this.state.enemyRes,\n      enemyResReduction: new Resistance(),\n      critType: critType ?? this.state.critType,\n      flatDmg: this.state.flatDmg,\n      reaction: reaction ?? this.state.reaction,\n      talentAttackLevel: talentAttackLevel ?? this.state.talentAttackLevel,\n      talentSkillLevel: talentSkillLevel ?? this.state.talentSkillLevel,\n      talentBurstLevel: talentBurstLevel ?? this.state.talentBurstLevel,\n    };\n\n    // Apply modifier mixins\n    (modifierMixins ?? this.modifierMixins).forEach((mixin) =>\n      mixin.apply(modifier, this.totalStats)\n    );\n\n    return modifier;\n  }\n\n  setAppState = <K extends keyof AppState>(\n    state: Pick<AppState, K>,\n    callback?: () => void\n  ) => {\n    this.setState(state, callback);\n  };\n\n  updateArtifactSetBonuses = ({\n    artifactSets,\n    artifactSetOptions,\n  }: {\n    artifactSets?: ArtifactSet[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => {\n    const newArtifactSets = artifactSets ?? this.state.artifactSets;\n    this.artifactSetBonuses = newArtifactSets\n      .map((artifactSet) => artifactSet.stats)\n      .reduce((acc, stats) => {\n        Object.entries(stats).forEach(([stat, value]) => {\n          acc[stat] = value + (acc[stat] ?? 0);\n        });\n        return acc;\n      }, {} as Stats);\n\n    this.updateTotalStats({\n      artifactSets,\n      artifactSetBonuses: this.artifactSetBonuses,\n      artifactSetOptions,\n    });\n  };\n\n  updateTotalStats = ({\n    character,\n    weapon,\n    artifacts,\n    artifactSets,\n    artifactSetBonuses,\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n    characterOptions,\n    weaponOptions,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    weapon?: Weapon;\n    artifacts?: Artifact[];\n    artifactSets?: ArtifactSet[];\n    artifactSetBonuses?: Stats;\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n    characterOptions?: CharacterOption[];\n    weaponOptions?: WeaponOption[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => {\n    const statMixins = this.getStatMixins({\n      character,\n      characterOptions,\n      weapon,\n      weaponOptions,\n      artifactSets,\n      artifactSetOptions,\n    });\n\n    this.totalStats = getTotalStatsAt(\n      character ?? this.state.character,\n      weapon ?? this.state.weapon,\n      artifactSetBonuses ?? this.artifactSetBonuses,\n      artifacts ?? this.state.artifacts,\n      talentAttackLevel ?? this.state.talentAttackLevel,\n      talentSkillLevel ?? this.state.talentSkillLevel,\n      talentBurstLevel ?? this.state.talentBurstLevel,\n      statMixins\n    );\n\n    this.updateTalentValues({\n      character,\n      talentAttackLevel,\n      talentSkillLevel,\n      talentBurstLevel,\n      characterOptions,\n      artifactSetOptions,\n    });\n  };\n\n  updateTalentValues = ({\n    character: newChar,\n    weapon,\n    artifactSets,\n    talentAttackLevel,\n    talentSkillLevel,\n    talentBurstLevel,\n    enemyLevel,\n    enemyRes,\n    critType,\n    reaction,\n    characterOptions,\n    weaponOptions,\n    artifactSetOptions,\n  }: {\n    character?: Character;\n    weapon?: Weapon;\n    artifactSets?: ArtifactSet[];\n    talentAttackLevel?: number;\n    talentSkillLevel?: number;\n    talentBurstLevel?: number;\n    enemyLevel?: number;\n    enemyRes?: Resistance;\n    critType?: CritType;\n    reaction?: Reaction;\n    characterOptions?: CharacterOption[];\n    weaponOptions?: WeaponOption[];\n    artifactSetOptions?: ArtifactSetOption[];\n  }) => {\n    const character = newChar ?? this.state.character;\n\n    const modifierMixins = this.getModifierMixins({\n      character,\n      characterOptions,\n      weapon,\n      weaponOptions,\n      artifactSets,\n      artifactSetOptions,\n    });\n\n    const damageModifer = this.getDamageModifier({\n      characterLevel: newChar?.level,\n      enemyLevel,\n      enemyRes,\n      critType,\n      reaction,\n      talentAttackLevel,\n      talentSkillLevel,\n      talentBurstLevel,\n      modifierMixins,\n    });\n\n    this.talentValues.attack = character.getTalentDamageAt({\n      type: TalentType.Attack,\n      talentLevel: talentAttackLevel ?? this.state.talentAttackLevel,\n      totalStats: this.totalStats,\n      modifier: damageModifer,\n    });\n    this.talentValues.skill = character.getTalentDamageAt({\n      type: TalentType.Skill,\n      talentLevel: talentSkillLevel ?? this.state.talentSkillLevel,\n      totalStats: this.totalStats,\n      modifier: damageModifer,\n    });\n    this.talentValues.burst = character.getTalentDamageAt({\n      type: TalentType.Burst,\n      talentLevel: talentBurstLevel ?? this.state.talentBurstLevel,\n      totalStats: this.totalStats,\n      modifier: damageModifer,\n    });\n  };\n\n  refreshApp = () => {\n    this.getStatMixins({\n      character: this.state.character,\n      characterOptions: this.state.characterOptions,\n      weapon: this.state.weapon,\n      weaponOptions: this.state.weaponOptions,\n      artifactSets: this.state.artifactSets,\n      artifactSetOptions: this.state.artifactSetOptions,\n    });\n    this.getModifierMixins({\n      character: this.state.character,\n      characterOptions: this.state.characterOptions,\n      weapon: this.state.weapon,\n      weaponOptions: this.state.weaponOptions,\n      artifactSets: this.state.artifactSets,\n      artifactSetOptions: this.state.artifactSetOptions,\n    });\n\n    this.updateArtifactSetBonuses({});\n    this.setState({});\n  };\n\n  render() {\n    return (\n      <Container className='app px-0' fluid>\n        <Navbar sticky='top' bg='light' className='d-md-none'>\n          <Nav>\n            <Nav.Item>\n              <Nav.Link href='#input-column'>Input</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link href='#artifact-column'>Artifacts</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link href='#stat-column'>Stats</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link href='#talent-column'>Talents</Nav.Link>\n            </Nav.Item>\n          </Nav>\n        </Navbar>\n\n        <Row className='mx-0'>\n          <InputColumn\n            appState={this.state}\n            setAppState={this.setAppState}\n            updateArtifactSetBonuses={this.updateArtifactSetBonuses}\n            updateTotalStats={this.updateTotalStats}\n            updateTalentValues={this.updateTalentValues}\n            refreshApp={this.refreshApp}\n          />\n          <ArtifactColumn\n            appState={this.state}\n            setAppState={this.setAppState}\n            updateTotalStats={this.updateTotalStats}\n            artifactSetBonuses={this.artifactSetBonuses}\n            damageModifier={this.getDamageModifier()}\n            statMixins={this.statMixins}\n            talentValues={this.talentValues}\n          />\n          <StatColumn\n            appState={this.state}\n            totalStats={this.totalStats}\n            artifactSetBonuses={this.artifactSetBonuses}\n          />\n          <TalentColumn talentValues={this.talentValues} />\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}