{"version":3,"sources":["js/Character.js","js/Weapon.js","js/Styles.js","App.js"],"names":["Character","id","characterMapping","characterData","characterLevelCurve","ascensionData","this","name","Name","baseHp","HpBase","baseAtk","AttackBase","baseDef","DefenseBase","PropGrowCurves","forEach","Type","GrowCurve","hpGrowthCurve","atkGrowthCurve","defGrowthCurve","ascensionId","AvatarPromoteId","weapon","weaponLevel","weaponHasAscended","characterLevel","characterHasAscended","weaponStats","undefined","getStatsAt","BaseHp","BaseAtk","BaseDef","characterStats","InnateHp","Hp","InnateAtk","Attack","InnateDef","Defense","WeaponHp","WeaponAtk","WeaponDef","level","hasAscended","ascensionLevel","ascensionBonuses","ascensionHp","ascensionAtk","ascensionDef","hpMultiplier","find","Value","atkMultiplier","defMultiplier","PromoteLevel","AddProps","PropType","Weapon","weaponMapping","weaponData","weaponLevelCurve","weaponAscensionData","weaponRefinementData","starRank","RankLevel","WeaponPromoteId","isNaN","stats","WeaponProp","InitValue","growthCurve","multiplier","props","styles","StyleSheet","create","container","display","flexDirection","alignItems","height","backgroundColor","inputColumn","padding","borderRightWidth","characterSelectRow","marginVertical","characterSelect","levelInputRow","levelInput","width","ascensionCheckRow","resultColumn","flexGrow","characterImage","resultText","App","renderCharacterList","sortedChars","Object","entries","sort","char1","char2","localeCompare","View","style","Text","selectedValue","state","characterId","onValueChange","value","_","setState","character","characterAscensionData","Item","label","map","renderWeaponList","weapons","weaponId","renderCharacterImage","imageUrl","Image","source","uri","renderCharacterStats","getStatsWithWeaponAt","isWeaponAscended","isCharacterAscended","Math","round","loadedDataElements","characterMappingRaw","reduce","obj","Id","weaponMappingRaw","fetch","then","res","json","data","Level","CurveInfos","TextInput","defaultValue","onChangeText","text","textAsInt","parseInt","Checkbox","Component"],"mappings":"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","file":"static/js/app.378a68f0.chunk.js","sourcesContent":["export default class Character {\r\n    constructor(id, characterMapping, characterData, characterLevelCurve, ascensionData) {\r\n        this.id = id;\r\n        this.name = characterMapping[this.id].Name;\r\n        this.characterData = characterData[this.id];\r\n        this.characterLevelCurve = characterLevelCurve;\r\n        this.ascensionData = ascensionData;\r\n\r\n        this.baseHp = this.characterData.HpBase;\r\n        this.baseAtk = this.characterData.AttackBase;\r\n        this.baseDef = this.characterData.DefenseBase;\r\n\r\n        this.characterData.PropGrowCurves.forEach(({Type, GrowCurve}) => {\r\n            if (Type == 'FIGHT_PROP_BASE_HP') {\r\n                this.hpGrowthCurve = GrowCurve;\r\n            } else if (Type == 'FIGHT_PROP_BASE_ATTACK') {\r\n                this.atkGrowthCurve = GrowCurve;\r\n            } else if (Type == 'FIGHT_PROP_BASE_DEFENSE') {\r\n                this.defGrowthCurve = GrowCurve;\r\n            }\r\n        });\r\n\r\n        this.ascensionId = this.characterData.AvatarPromoteId;\r\n    }\r\n\r\n    getStatsWithWeaponAt(weapon, weaponLevel, weaponHasAscended, characterLevel, characterHasAscended) {\r\n        let weaponStats;\r\n        if (weapon !== undefined) {\r\n            weaponStats = weapon.getStatsAt(weaponLevel, weaponHasAscended);\r\n        } else {\r\n            weaponStats = {\r\n                BaseHp: null,\r\n                BaseAtk: null,\r\n                BaseDef: null,\r\n            };\r\n        }\r\n\r\n        let characterStats = this.getStatsAt(characterLevel, characterHasAscended);\r\n        \r\n        return {\r\n            InnateHp: characterStats.Hp,\r\n            InnateAtk: characterStats.Attack,\r\n            InnateDef: characterStats.Defense,\r\n            WeaponHp: weaponStats.BaseHp,\r\n            WeaponAtk: weaponStats.BaseAtk,\r\n            WeaponDef: weaponStats.BaseDef,\r\n        };\r\n    }\r\n\r\n    // Returns an Object containing the character's innate total HP, Atk and Def, taking into account only their level and ascension\r\n    getStatsAt(level, hasAscended) {\r\n        let hpMultiplier = this.characterLevelCurve[level].find(({Type}) => Type == this.hpGrowthCurve).Value;\r\n        let atkMultiplier = this.characterLevelCurve[level].find(({Type}) => Type == this.atkGrowthCurve).Value;\r\n        let defMultiplier = this.characterLevelCurve[level].find(({Type}) => Type == this.defGrowthCurve).Value;\r\n\r\n        let ascensionLevel;\r\n        if (level > 80 || (level == 80 && hasAscended)) {\r\n            ascensionLevel = 6;\r\n        } else if (level > 70 || (level == 70 && hasAscended)) {\r\n            ascensionLevel = 5;\r\n        } else if (level > 60 || (level == 60 && hasAscended)) {\r\n            ascensionLevel = 4;\r\n        } else if (level > 50 || (level == 50 && hasAscended)) {\r\n            ascensionLevel = 3;\r\n        } else if (level > 40 || (level == 40 && hasAscended)) {\r\n            ascensionLevel = 2;\r\n        } else if (level > 20 || (level == 20 && hasAscended)) {\r\n            ascensionLevel = 1;\r\n        } else {\r\n            ascensionLevel = 0;\r\n        }\r\n\r\n        let ascensionBonuses;\r\n        if (ascensionLevel > 0) {\r\n            ascensionBonuses = this.ascensionData.find(({AvatarPromoteId, PromoteLevel}) => AvatarPromoteId == this.ascensionId && PromoteLevel == ascensionLevel).AddProps;\r\n        }\r\n\r\n        let ascensionHp, ascensionAtk, ascensionDef;\r\n        if (ascensionBonuses !== undefined) {\r\n            ascensionBonuses.forEach(({PropType, Value}) => {\r\n                if (PropType == 'FIGHT_PROP_BASE_HP') {\r\n                    ascensionHp = Value;\r\n                } else if (PropType == 'FIGHT_PROP_BASE_ATTACK') {\r\n                    ascensionAtk = Value;\r\n                } else if (PropType == 'FIGHT_PROP_BASE_DEFENSE') {\r\n                    ascensionDef = Value;\r\n                }\r\n            });\r\n        } else {\r\n            ascensionHp = 0;\r\n            ascensionAtk = 0;\r\n            ascensionDef = 0;\r\n        }\r\n\r\n        let totalHp = this.baseHp * hpMultiplier + ascensionHp;\r\n        let totalAtk = this.baseAtk * atkMultiplier + ascensionAtk;\r\n        let totalDef = this.baseDef * defMultiplier + ascensionDef;\r\n        \r\n        return {\r\n            Hp: totalHp,\r\n            Attack: totalAtk,\r\n            Defense: totalDef,\r\n        }\r\n    }\r\n}","import props from '../static/props.json';\r\n\r\nexport default class Weapon {\r\n    constructor(id, weaponMapping, weaponData, weaponLevelCurve, weaponAscensionData, weaponRefinementData) {\r\n        this.id = id;\r\n        this.name = weaponMapping[this.id].Name;\r\n        this.weaponData = weaponData[this.id];\r\n        this.weaponLevelCurve = weaponLevelCurve;\r\n        this.weaponAscensionData = weaponAscensionData;\r\n        this.weaponRefinementData = weaponRefinementData;\r\n\r\n        this.starRank = this.weaponData.RankLevel;\r\n        this.ascensionId = this.weaponData.WeaponPromoteId;\r\n    }\r\n\r\n    // Returns an Object containing the weapons's total HP, Atk and Def, taking into account only its level and ascension\r\n    getStatsAt(weaponLevel, hasAscended) {\r\n        if (isNaN(weaponLevel) || weaponLevel < 1 || (this.starRank <= 2 && weaponLevel > 70) || weaponLevel > 90) {\r\n            // Return NaNs if weapon level is invalid\r\n            return {\r\n                BaseHp: null,\r\n                BaseAtk: null,\r\n                BaseDef: null,\r\n            }\r\n        }\r\n        // If getStatsAt has not been called before, this.level, this.hasAscended, and this.stats will be undefined\r\n        else if (weaponLevel === this.weaponLevel && hasAscended === this.hasAscended) {\r\n            // Don't recalculate stats if it has been calculated with the same parameters before\r\n            return this.stats;\r\n        } else {\r\n            this.level = weaponLevel;\r\n            this.hasAscended = hasAscended;\r\n\r\n            let weaponStats = {\r\n                BaseHp: 0,\r\n                BaseAtk: 0,\r\n                BaseDef: 0,\r\n            };\r\n\r\n            // Calculate stats from weapon level\r\n            this.weaponData.WeaponProp.forEach(({PropType, InitValue, Type:growthCurve}) => {\r\n                if (PropType !== undefined) {\r\n                    let multiplier = this.weaponLevelCurve[weaponLevel].find(({Type}) => Type == growthCurve).Value;\r\n                    weaponStats[props[PropType]] += (InitValue * multiplier);\r\n                }\r\n            });\r\n\r\n            // Calculate stats from weapon ascension\r\n            let ascensionLevel;\r\n            if (this.starRank > 2 && (weaponLevel > 80 || (weaponLevel == 80 && hasAscended))) {\r\n                ascensionLevel = 6;\r\n            } else if (this.starRank > 2 && (weaponLevel > 70 || (weaponLevel == 70 && hasAscended))) {\r\n                ascensionLevel = 5;\r\n            } else if (weaponLevel > 60 || (weaponLevel == 60 && hasAscended)) {\r\n                ascensionLevel = 4;\r\n            } else if (weaponLevel > 50 || (weaponLevel == 50 && hasAscended)) {\r\n                ascensionLevel = 3;\r\n            } else if (weaponLevel > 40 || (weaponLevel == 40 && hasAscended)) {\r\n                ascensionLevel = 2;\r\n            } else if (weaponLevel > 20 || (weaponLevel == 20 && hasAscended)) {\r\n                ascensionLevel = 1;\r\n            } else {\r\n                ascensionLevel = 0;\r\n            }\r\n\r\n            let ascensionBonuses;\r\n            if (ascensionLevel > 0) {\r\n                ascensionBonuses = this.weaponAscensionData.find(({WeaponPromoteId, PromoteLevel}) => WeaponPromoteId == this.ascensionId && PromoteLevel == ascensionLevel).AddProps;\r\n            }\r\n            \r\n            if (ascensionBonuses !== undefined) {\r\n                ascensionBonuses.forEach(({PropType, Value}) => {\r\n                    if (Value !== undefined) {\r\n                        weaponStats[props[PropType]] += Value;\r\n                    }\r\n                })\r\n            }\r\n\r\n            this.stats = weaponStats;\r\n\r\n            return weaponStats;\r\n        }\r\n    }\r\n}","import { StyleSheet } from 'react-native';\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'stretch',\r\n\r\n        height: '100%',\r\n\r\n        backgroundColor: '#fff',\r\n    },\r\n\r\n    inputColumn: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n\r\n        padding: '1%',\r\n\r\n        borderRightWidth: 1,\r\n\r\n        backgroundColor: '#ccc',\r\n    },\r\n\r\n    characterSelectRow: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n\r\n        marginVertical: '0.25em',\r\n    },\r\n\r\n    characterSelect: {\r\n\r\n    },\r\n\r\n    levelInputRow: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n\r\n        marginVertical: '0.25em',\r\n    },\r\n\r\n    levelInput: {\r\n        width: '2em',\r\n\r\n    },\r\n\r\n    ascensionCheckRow: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n\r\n        marginVertical: '0.25em',\r\n    },\r\n\r\n    resultColumn: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        flexGrow: 1,\r\n\r\n        padding: '1%',\r\n\r\n        backgroundColor: '#eee',\r\n    },\r\n\r\n    characterImage: {\r\n        marginVertical: '0.25em',\r\n    },\r\n\r\n    resultText: {\r\n        marginVertical: '0.25em',\r\n    }\r\n});\r\n\r\nexport default styles;","import { Picker } from '@react-native-picker/picker';\nimport Checkbox from 'expo-checkbox';\nimport React, { Component } from 'react';\nimport { Image, Text, TextInput, View } from 'react-native';\n\nimport Character from './js/Character.js';\nimport Weapon from './js/Weapon.js';\n\nimport characterMappingRaw from './static/characterdata.json';\nimport weaponMappingRaw from './static/weapondata.json';\n\nimport styles from './js/Styles.js';\n\nexport default class App extends Component {\n  characterData;\n  characterLevelCurve;\n  characterAscensionData;\n  weaponData;\n  weaponLevelCurve;\n  weaponAscensionData;\n  weaponRefinementData;\n\n  constructor() {\n    super();\n\n    this.state = {\n      loadedDataElements: 0,\n      characterId: undefined,\n      character: undefined,\n      characterLevel: 1,\n      isCharacterAscended: false,\n      weaponId: undefined,\n      weapon: undefined,\n      weaponLevel: 1,\n      isWeaponAscended: false,\n    }\n\n    this.characterMapping = characterMappingRaw.reduce((map, obj) => {\n      map[obj.Id] = obj;\n      return map;\n    }, {});\n\n    this.weaponMapping = weaponMappingRaw.reduce((map, obj) => {\n      map[obj.Id] = obj;\n      return map;\n    }, {});\n  }\n\n  // Called when component is mounted for the first time\n  componentDidMount() {\n    fetch('https://raw.githubusercontent.com/Dimbreath/GenshinData/main/Excel/AvatarExcelConfigData.json')\n      .then(res => res.json())\n      .then(data => data.reduce((map, obj) => {\n        map[obj.Id] = obj;\n        return map;\n      }, {}))\n      .then(obj => {\n        this.characterData = obj;\n        this.setState((state) => { return {loadedDataElements: state.loadedDataElements + 1} });\n      });\n    \n    fetch('https://raw.githubusercontent.com/Dimbreath/GenshinData/main/Excel/AvatarCurveExcelConfigData.json')\n      .then(res => res.json())\n      .then(data => data.reduce((map, obj) => {\n        map[obj.Level] = obj.CurveInfos;\n        return map;\n      }, {}))\n      .then(obj => {\n        this.characterLevelCurve = obj;\n        this.setState((state) => { return {loadedDataElements: state.loadedDataElements + 1} });\n      });\n\n    fetch('https://raw.githubusercontent.com/Dimbreath/GenshinData/main/Excel/AvatarPromoteExcelConfigData.json')\n      .then(res => res.json())\n      .then(obj => {\n        this.characterAscensionData = obj;\n        this.setState((state) => { return {loadedDataElements: state.loadedDataElements + 1} });\n      }); \n\n    fetch('https://raw.githubusercontent.com/Dimbreath/GenshinData/main/Excel/WeaponExcelConfigData.json')\n      .then(res => res.json())\n      .then(data => data.reduce((map, obj) => {\n        map[obj.Id] = obj;\n        return map;\n      }, {}))\n      .then(obj => {\n        this.weaponData = obj;\n        this.setState((state) => { return {loadedDataElements: state.loadedDataElements + 1} });\n      });\n    \n    fetch('https://raw.githubusercontent.com/Dimbreath/GenshinData/main/Excel/WeaponCurveExcelConfigData.json')\n      .then(res => res.json())\n      .then(data => data.reduce((map, obj) => {\n        map[obj.Level] = obj.CurveInfos;\n        return map;\n      }, {}))\n      .then(obj => {\n        this.weaponLevelCurve = obj;\n        this.setState((state) => { return {loadedDataElements: state.loadedDataElements + 1} });\n      });\n\n    fetch('https://raw.githubusercontent.com/Dimbreath/GenshinData/main/Excel/WeaponPromoteExcelConfigData.json')\n      .then(res => res.json())\n      .then(obj => {\n        this.weaponAscensionData = obj;\n        this.setState((state) => { return {loadedDataElements: state.loadedDataElements + 1} });\n      }); \n  }\n\n  renderCharacterList = () => {\n    let sortedChars = Object.entries(this.characterMapping).sort(([, char1], [, char2]) => char1.Name.localeCompare(char2.Name));\n    \n    return (\n      <View style={styles.characterSelectRow}>\n        <Text>Character: </Text>\n        <Picker \n          style={styles.characterSelect}\n          selectedValue={this.state.characterId}\n          onValueChange={(value, _) => {\n            if (value != 0) {\n              this.setState({\n                characterId: value,\n                character: new Character(value, this.characterMapping, this.characterData, this.characterLevelCurve, this.characterAscensionData),\n              })\n            }\n          }}\n        >\n          <Picker.Item label='' value={0} />\n          {sortedChars.map(([id, character]) => <Picker.Item label={character.Name} value={id} />)}\n        </Picker>\n      </View>\n    )\n  }\n\n  renderWeaponList = () => {\n    let weapons = Object.entries(this.weaponMapping);\n\n    return (\n      <View style={styles.characterSelectRow}>\n        <Text>Weapon: </Text>\n        <Picker\n          style={styles.characterSelect}\n          selectedValue={this.state.weaponId}\n          onValueChange={(value, _) => {\n            if (value != 0) {\n              this.setState({\n                weaponId: value,\n                weapon: new Weapon(value, this.weaponMapping, this.weaponData, this.weaponLevelCurve, this.weaponAscensionData, this.weaponRefinementData),\n              })\n            }\n          }}\n        >\n          <Picker.Item label='' value={0} />\n          {weapons.map(([id, weapon]) => <Picker.Item label={weapon.Name} value={id} />)}\n        </Picker>\n      </View>\n    )\n  }\n\n  renderCharacterImage = () => {\n    let imageUrl = `https://rerollcdn.com/GENSHIN/Characters/${this.state.character.name}.png`\n    return (\n      <Image style={styles.characterImage} source={{uri: imageUrl, width: 70, height: 70}} />\n    )\n  }\n\n  renderCharacterStats = () => {\n    let stats = this.state.character.getStatsWithWeaponAt(this.state.weapon, this.state.weaponLevel, this.state.isWeaponAscended, this.state.characterLevel, this.state.isCharacterAscended);\n    return (\n      <View>\n        {this.renderCharacterImage()}\n        <Text style={styles.resultText}>Selected character: {this.state.character.name}</Text>\n        <Text style={styles.resultText}>Character HP: {Math.round(stats.InnateHp)}</Text>\n        <Text style={styles.resultText}>Character ATK: {Math.round(stats.InnateAtk)}</Text>\n        <Text style={styles.resultText}>Character DEF: {Math.round(stats.InnateDef)}</Text>\n\n        <br/>\n\n        {/* Render weapon stats */}\n        {\n          this.state.weapon ? (\n            <View>\n              <Text style={styles.resultText}>Selected weapon: {this.state.weapon ? this.state.weapon.name : ''}</Text>\n              <Text style={styles.resultText}>Weapon HP: {(stats.WeaponHp != null) ? Math.round(stats.WeaponHp) : '-'}</Text>\n              <Text style={styles.resultText}>Weapon ATK: {(stats.WeaponAtk != null) ? Math.round(stats.WeaponAtk) : '-'}</Text>\n              <Text style={styles.resultText}>Weapon DEF: {(stats.WeaponDef != null) ? Math.round(stats.WeaponDef) : '-'}</Text>\n            </View>\n          ) : null\n        }\n      </View>\n    )\n  }\n\n  render() {\n    let hasLoaded = this.state.loadedDataElements == 6;\n    if (hasLoaded) {\n      return (\n        <View style={styles.container}>\n          <View style={styles.inputColumn}>\n            {this.renderCharacterList()}\n\n            <View style={styles.levelInputRow}>\n              <Text>Level: </Text>\n              <TextInput \n                style={styles.levelInput}\n                defaultValue={this.state.characterLevel} \n                onChangeText={text => {\n                  let textAsInt = parseInt(text);\n                  if (textAsInt >= 1 && textAsInt <= 90) {\n                    this.setState({characterLevel: textAsInt});\n                  }\n                }}\n              />\n            </View>\n\n            <View style={styles.ascensionCheckRow}>\n              <Text>Ascended? </Text>\n              <Checkbox\n                onValueChange={value => this.setState({isCharacterAscended: value})}\n                value={this.state.isCharacterAscended}\n              />\n            </View>\n\n            <br/>\n\n            {this.renderWeaponList()}\n\n            <View style={styles.levelInputRow}>\n              <Text>Level: </Text>\n              <TextInput \n                style={styles.levelInput}\n                defaultValue={this.state.weaponLevel} \n                onChangeText={text => {\n                  this.setState({weaponLevel: parseInt(text)});\n                }}\n              />\n            </View>\n\n            <View style={styles.ascensionCheckRow}>\n              <Text>Ascended? </Text>\n              <Checkbox\n                onValueChange={value => this.setState({isWeaponAscended: value})}\n                value={this.state.isWeaponAscended}\n              />\n            </View>\n\n          </View>\n\n          <View style={styles.resultColumn}>\n            {this.state.character ? this.renderCharacterStats() : null}\n          </View>\n\n        </View>\n      )\n    } else {\n      return (\n        <View style={styles.container}>\n          <Text>Loading...</Text>\n        </View>\n      )\n    }\n  }\n}\n\n\n"],"sourceRoot":""}