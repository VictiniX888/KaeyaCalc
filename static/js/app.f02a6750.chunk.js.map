{"version":3,"sources":["js/Data.js","js/Talent.js","js/TalentOption.js","js/Character.js","js/Weapon.js","js/Stat.js","js/Artifact.js","js/DamageModifer.js","js/Styles.js","App.js"],"names":["sortedCharacterList","sortedWeaponList","characterData","characterDataRaw","reduce","acc","charData","id","characterAscensionBonusData","rawData","characterId","ascensionBonusSet","map","bonusData","ascensionBonuses","processCharacterAscensionBonusData","characterAscensionBonusDataRaw","characterStatCurveData","curveData","level","statCurves","processCharacterStatCurveData","characterStatCurveDataRaw","weaponData","processWeaponData","weaponDataRaw","weaponAscensionBonusData","weaponId","processWeaponAscensionBonusData","weaponAscensionBonusDataRaw","weaponStatCurveData","processWeaponStatCurveData","weaponStatCurveDataRaw","talentData","talentDataRaw","talents","attack","curveAcc","params","skill","burst","processTalentData","getData","dataObj","getAscensionBonusData","getStatCurveAt","getCharacterData","getWeaponData","getAscensionBonusAt","getTalentData","getTalentStatsAt","type","defaultTalent","calculateBaseDamage","stats","multiplier","scalingType","flatDmg","flatAtk","flatDef","flatHp","NaN","calculateTotalDamage","element","attackType","modifier","baseDmg","dmgBonus","normalDmgBonus","chargedDmgBonus","plungeDmgBonus","getDamageBonus","crit","critType","critDmg","Math","min","critRate","normalAttackDefault","hits","talentValues","i","damage","push","description","normalAttackMulti","hitCount","damages","hit","chargedAttackDefault","chargedAttackHeavy","plungeAttackDefault","attackLightDefault","normalHits","slice","attackLightMulti","chargedHits","length","chargedAttackMulti","attackHeavyDefault","attackBowDefault","chargedElement","aimShotDefault","skillBase","skillDefault","skillMultiBase","healingSkillBase","flatHealing","calculateHealing","hpBase","flatBonus","calculateHp","lisaAttack","lisaSkill","talentDmg","lisaBurst","barbaraAttack","barbaraSkill","barbaraBurst","kaeyaAttack","kaeyaSkill","kaeyaBurst","dilucAttack","infusion","dilucSkill","talentDamage","dilucBurst","razorAttack","razorSkill","razorBurst","attackParams","talentAttackLevel","amberAttack","amberSkill","amberBurst","ventiAttack","ventiSkill","ventiBurst","xianglingAttack","xianglingSkill","xianglingBurst","beidouAttack","beidouSkill","beidouBurst","xingqiuAttack","concat","xingqiuSkill","xingqiuBurst","xiaoAttack","burstParams","talentBurstLevel","modifiedStats","undefined","xiaoSkill","xiaoBurst","eulaAttack","attackHeavyMulti","eulaSkill","eulaBurst","lightfallSwordParams","lightfallSwordTalent","TalentOption","value","this","dilucTalentOptions","xiaoTalentOptions","emptyTalentParams","Array","fill","Character","data","name","baseStats","statCurveMapping","hasAscended","innateStats","isNaN","Object","keys","obj","stat","charStatCurves","entries","forEach","curve","bonus","talentLevel","totalStats","toLowerCase","damageFn","options","talentOptions","Weapon","rank","weaponLevel","weaponStats","weaponStatCurves","getStatDisplayValue","isPercentage","toFixed","round","getDamageDisplayValue","values","str","every","convertStatValue","getTalentDescription","desc","talentDescMapping","getTotalStatsAt","weapon","weaponHasAscended","character","characterLevel","characterHasAscended","artifacts","characterStats","getStatsAt","getInnateStatsAt","getBaseStatsAt","artifactStats","artifact","getStats","combinedStats","baseAtk","atkBonus","baseDef","defBonus","baseHp","hpBonus","elementalMastery","energyRecharge","anemoDmgBonus","cryoDmgBonus","electroDmgBonus","geoDmgBonus","hydroDmgBonus","pyroDmgBonus","physicalDmgBonus","anemoRes","cryoRes","electroRes","geoRes","hydroRes","pyroRes","physicalRes","healingBonus","Artifact","mainStat","rawValue","subStats","statObj","statUtils","subStat","mainStatProps","Flower","Feather","Sands","Goblet","Circlet","subStatProps","DamageModifier","enemyLevel","enemyRes","modifiers","reaction","talentSkillLevel","StyleSheet","create","container","display","flexDirection","alignItems","fontSize","height","backgroundColor","inputColumn","padding","borderRightWidth","inputRow","marginVertical","levelInput","width","statInput","resultColumn","resultBlockNoBorder","resultBlock","borderBottomWidth","artifactBlockNoBorder","paddingTop","paddingBottom","artifactBlock","borderStyle","characterImage","titleText","fontWeight","artifactType","artifactStatType","resultText","fillerColumn","flexGrow","App","renderInputColumn","View","renderCharacterList","style","styles","Text","TextInput","defaultValue","state","onChangeText","text","setState","parseInt","setCharacterState","Checkbox","onValueChange","isCharacterAscended","renderWeaponList","setWeaponState","isWeaponAscended","setAllTalentState","characterSelect","selectedValue","_","getTalentOptions","Item","label","characters","key","weapons","renderCharacterImage","imageUrl","Image","source","uri","getDamageModifier","getTotalStats","talentAttackDamage","getTalentDamageAt","talentSkillDamage","talentBurstDamage","isweaponAscended","setArtifactState","setTalentState","artifactFlower","artifactFeather","artifactSands","artifactGoblet","artifactCirclet","renderCharacterStats","renderWeaponStats","renderArtifactMainStat","setStat","prop","parseFloat","renderArtifactSubStats","index","renderArtifactStat","isLast","renderAllArtifactStats","renderTotalStats","renderTalentDamage","renderTalentOptions","FlatList","keyExtractor","item","renderItem","talentOptionMapping","renderAllTalentDamage","sort","name1","name2","localeCompare","Component"],"mappings":"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","file":"static/js/app.f02a6750.chunk.js","sourcesContent":["import characterDataRaw from '../data/characterdata.json';\nimport characterAscensionBonusDataRaw from '../data/characterascensionbonusdata.json';\nimport characterStatCurveDataRaw from '../data/characterstatcurvedata.json';\nimport weaponDataRaw from '../data/weapondata.json';\nimport weaponAscensionBonusDataRaw from '../data/weaponascensionbonusdata.json';\nimport weaponStatCurveDataRaw from '../data/weaponstatcurvedata.json';\n//import artifactSetDataRaw from '../data/artifactsetdata.json';\n//import artifactSetBonusDataRaw from '../data/artifactsetbonusdata.json';\nimport talentDataRaw from '../data/talentdata.json';\nexport { default as propMapping } from '../data/propmapping.json';\nexport { default as talentDescMapping } from '../data/talentdescmapping.json';\nexport { default as talentOptionMapping } from '../data/talentoptionmapping.json';\n\n// Pre-processed data, coverting from arrays to objects (map-like) for faster lookup\nconst characterData = processCharacterData(characterDataRaw);\nconst characterAscensionBonusData = processCharacterAscensionBonusData(characterAscensionBonusDataRaw);\nconst characterStatCurveData = processCharacterStatCurveData(characterStatCurveDataRaw);\nconst weaponData = processWeaponData(weaponDataRaw);\nconst weaponAscensionBonusData = processWeaponAscensionBonusData(weaponAscensionBonusDataRaw);\nconst weaponStatCurveData = processWeaponStatCurveData(weaponStatCurveDataRaw);\nconst talentData = processTalentData(talentDataRaw);\n\n// Pre-processed data, lists\nlet sortedCharacterList;    // lazy loading implemented with getSortedCharacterList()\nlet sortedWeaponList;       // lazy loading implemented with getSortedWeaponList()\n\n// Functions for pre-processing data\nfunction processCharacterData(rawData) {\n    return rawData.reduce((acc, charData) => {\n        acc[charData.id] = charData;\n        return acc;\n    }, {});\n}\n\nfunction processCharacterAscensionBonusData(rawData) {\n    return rawData.reduce((acc, charData) => {\n        acc[charData.characterId] = charData.ascensionBonusSet.map(bonusData => bonusData.ascensionBonuses);\n        return acc;\n    }, {});\n}\n\nfunction processCharacterStatCurveData(rawData) {\n    return rawData.reduce((acc, curveData) => {\n        acc[curveData.level] = curveData.statCurves;\n        return acc;\n    }, {});\n}\n\nfunction processWeaponData(rawData) {\n    return rawData.reduce((acc, weaponData) => {\n        acc[weaponData.id] = weaponData;\n        return acc;\n    }, {});\n}\n\nfunction processWeaponAscensionBonusData(rawData) {\n    return rawData.reduce((acc, weaponData) => {\n        acc[weaponData.weaponId] = weaponData.ascensionBonusSet.map(bonusData => bonusData.ascensionBonuses);\n        return acc;\n    }, {});\n}\n\nfunction processWeaponStatCurveData(rawData) {\n    return rawData.reduce((acc, curveData) => {\n        acc[curveData.level] = curveData.statCurves;\n        return acc;\n    }, {});\n}\n\nfunction processTalentData(rawData) {\n    return rawData.reduce((acc, talentDataRaw) => {\n        let talentData = {...talentDataRaw.talents};\n\n        talentData.attack = talentData.attack.reduce((curveAcc, curveData) => {\n            curveAcc[curveData.level] = curveData.params;\n            return curveAcc;\n        }, {});\n        talentData.skill = talentData.skill.reduce((curveAcc, curveData) => {\n            curveAcc[curveData.level] = curveData.params;\n            return curveAcc;\n        }, {});\n        talentData.burst = talentData.burst.reduce((curveAcc, curveData) => {\n            curveAcc[curveData.level] = curveData.params;\n            return curveAcc;\n        }, {});\n\n        acc[talentDataRaw.characterId] = talentData;\n        return acc;\n    }, {});\n}\n\n// Helper functions for accessing data properties\nfunction getData(id, dataObj) {\n    return dataObj[id];\n}\n\nfunction getAscensionBonusData(id, dataObj) {\n    return dataObj[id];\n}\n\nfunction getStatCurveAt(level, statCurves) {\n    return statCurves[level];\n}\n\n// \"Public\" functions for accessing data properties\nexport function getCharacterData(id) {\n    return getData(id, characterData);\n}\n\nexport function getCharacterAscensionBonusData(id) {\n    return getAscensionBonusData(id, characterAscensionBonusData);\n}\n\nexport function getCharacterStatCurveAt(level) {\n    return getStatCurveAt(level, characterStatCurveData);\n}\n\nexport function getWeaponData(id) {\n    return getData(id, weaponData);\n}\n\nexport function getWeaponAscensionBonusData(id) {\n    return getAscensionBonusData(id, weaponAscensionBonusData);\n}\n\nexport function getWeaponStatCurveAt(level) {\n    return getStatCurveAt(level, weaponStatCurveData);\n}\n\nexport function getAscensionBonusAt(level, ascensionBonuses) {\n    return ascensionBonuses[level];\n}\n\nexport function getTalentData(id) {\n    return talentData[id];\n}\n\nexport function getTalentStatsAt(type, level, talents) {\n    return talents[type][level];\n}\n\n// \"Public\" functions for getting data collections\nexport function getSortedCharacterList() {\n    if (sortedCharacterList === undefined) {\n        sortedCharacterList = Object.entries(characterData)\n            .sort(([_1, {name: name1}], [_2, {name: name2}]) => name1.localeCompare(name2))\n            .map(([id, _]) => id);\n    }\n\n    return sortedCharacterList;\n}\n\nexport function getSortedWeaponList() {\n    if (sortedWeaponList === undefined) {\n        sortedWeaponList = Object.entries(weaponData)\n            .sort(([_1, {name: name1}], [_2, {name: name2}]) => name1.localeCompare(name2))\n            .map(([id, _]) => id);\n    }\n\n    return sortedWeaponList;\n}","import { getTalentData, getTalentStatsAt } from './Data.js';\n\n// Placeholder function\nexport function defaultTalent() {\n    return [];\n}\n\n// Internal functions\n\nfunction getDamageBonus({ stats, element, attackType }) {\n    let dmgBonus = 1;\n    dmgBonus += stats[`${element}DmgBonus`] ? stats[`${element}DmgBonus`] : 0;\n    if (attackType === 'normal') {\n        dmgBonus += stats.normalDmgBonus ? stats.normalDmgBonus : 0;\n    } else if (attackType === 'charged') {\n        dmgBonus += stats.chargedDmgBonus ? stats.chargedDmgBonus : 0;\n    } else if (attackType === 'plunge') {\n        dmgBonus += stats.plungeDmgBonus ? stats.plungeDmgBonus : 0;\n    }\n\n    return dmgBonus;\n}\n\nfunction calculateBaseDamage({ stats, multiplier, scalingType, flatDmg = 0 }) {\n    if (scalingType == 'attack') {\n        return stats.flatAtk * multiplier + flatDmg;\n    } else if (scalingType == 'defense') {\n        return stats.flatDef * multiplier + flatDmg;\n    } else if (scalingType == 'hp') {\n        return stats.flatHp * multiplier + flatDmg;\n    } else {\n        return NaN;\n    }\n}\n\nfunction calculateTotalDamage({ stats, multiplier, element, scalingType = 'attack', attackType = 'none', modifier }) {\n    let baseDmg = calculateBaseDamage({ stats, multiplier, scalingType, flatDmg: modifier.flatDmg });\n    let dmgBonus = getDamageBonus({ stats, element, attackType });\n\n    let crit = 1;\n    if (modifier.critType === 'crit') {\n        crit += stats.critDmg;\n    } else if (modifier.critType === 'average') {\n        crit += Math.min(1, stats.critRate) * stats.critDmg;\n    }\n\n    // TODO: enemyDefMultiplier\n    // TODO: enemyResMultiplier\n    // TODO: reactionBonus\n\n    return baseDmg * dmgBonus * crit;\n} \n\nfunction calculateHealing({ stats, multiplier, flatHealing, scalingType = 'hp' }) {\n    // TODO: Add healing bonus\n    return calculateBaseDamage({ stats, multiplier, scalingType, flatDmg: flatHealing });\n}\n\n// Used for calculting hp of summons/shield\nfunction calculateHp({ stats, multiplier, flatBonus }) {\n    return stats.flatHp * multiplier + flatBonus;\n}\n\n// Used for all default normal attacks\nfunction normalAttackDefault({ hits, element, params, stats, modifier }) {\n    let talentValues = [];\n    for (let i = 0; i < hits; i++) {\n        let damage = calculateTotalDamage({ \n            stats, \n            multiplier: params[i], \n            element, \n            attackType: 'normal',\n            modifier,\n        });\n        \n        talentValues.push({\n            description: `${i+1}HitDmg`,\n            damage: [damage],\n        });\n    }\n\n    return talentValues;\n}\n\n// Used for all normal attacks with multiple damage instances in 1 hit e.g. polearms\n// doubledHits is an array containing all n where n-hit is 2 identical damage instances\nfunction normalAttackMulti({ hits = [], element, params, stats, modifier }) {\n    let talentValues = hits.map((hitCount, i) => {\n        let damage = calculateTotalDamage({ \n            stats, \n            multiplier: params[i], \n            element,\n            attackType: 'normal',\n            modifier,\n        });\n\n        let damages = [];\n        for (let hit = 0; hit < hitCount; hit++) {\n            damages.push(damage);\n        }\n\n        return {\n            description: `${i+1}HitDmg`,\n            damage: damages,\n        };\n    });\n\n    return talentValues;\n}\n\n// Used for all 1-hit charged attacks\nfunction chargedAttackDefault({ element, params, stats, modifier }) {\n    let damage = calculateTotalDamage({ \n        stats, \n        multiplier: params[0], \n        element, \n        attackType: 'charged',\n        modifier,\n     });\n\n    return [{\n        description: 'chargedDmg',\n        damage: [damage],\n    }];\n}\n\n// Used for multi-hit charged attacks\nfunction chargedAttackMulti({ hits, element, params, stats, modifier }) {\n    let damages = [];\n    for (let i = 0; i < hits; i++) {\n        let damage = calculateTotalDamage({ \n            stats, \n            multiplier: params[i], \n            element, \n            attackType: 'charged',\n            modifier,\n        });\n        damages.push(damage);\n    }\n\n    return [{\n        description: `chargedDmg`,\n        damage: damages,\n    }];\n}\n\n// Used for all default claymore charged attacks\nfunction chargedAttackHeavy({ element = 'physical', params, stats, modifier }) {\n    let descriptions = ['chargedSpinDmg', 'chargedFinalDmg'];\n    return descriptions.map((description, i) => {\n        let damage = calculateTotalDamage({ \n            stats, \n            multiplier: params[i], \n            element, \n            attackType: 'charged',\n            modifier,\n        });\n\n        return {\n            description: description,\n            damage: [damage],\n        };\n    });\n}\n\n// Used for all default plunge attacks\nfunction plungeAttackDefault({ element, params, stats, modifier }) {\n    let descriptions = ['plungeDmg', 'lowPlungeDmg', 'highPlungeDmg'];\n    return descriptions.map((description, i) => {\n        let damage = calculateTotalDamage({ \n            stats,\n            multiplier: params[i], \n            element,\n            attackType: 'plunge',\n            modifier \n        });\n\n        return {\n            description: description,\n            damage: [damage],\n        };\n    });\n}\n\n// Used for all default sword/polearm/catalyst attacks\nfunction attackLightDefault({ normalHits, element = 'physical', params, stats, modifier }) {\n    let talentValues = [];\n\n    talentValues.push(...normalAttackDefault({ \n        hits: normalHits, \n        element,\n        params: params.slice(0, normalHits), \n        stats, \n        modifier \n    }));\n\n    talentValues.push(...chargedAttackDefault({\n        element,\n        params: params.slice(normalHits, normalHits + 1), \n        stats, \n        modifier,\n    }));\n\n    talentValues.push(...plungeAttackDefault({\n        element,\n        params: params.slice(normalHits + 1 + 1), \n        stats, \n        modifier,\n    }));\n\n    return talentValues;\n}\n\n// Used for all default sword/polearm attacks with multi damage instances\nfunction attackLightMulti({ normalHits = [], chargedHits = 1, element = 'physical', params, stats, modifier }) {\n    let talentValues = [];\n\n    talentValues.push(...normalAttackMulti({ \n        hits: normalHits, \n        element,\n        params: params.slice(0, normalHits.length), \n        stats, \n        modifier \n    }));\n\n    if (chargedHits === 1) {\n        talentValues.push(...chargedAttackDefault({\n            element,\n            params: params.slice(normalHits.length, normalHits.length + 1), \n            stats, \n            modifier,\n        }));\n    } else {\n        talentValues.push(...chargedAttackMulti({\n            hits: chargedHits,\n            element,\n            params: params.slice(normalHits.length, normalHits.length + chargedHits), \n            stats, \n            modifier,\n        }));\n    }\n\n    talentValues.push(...plungeAttackDefault({\n        element,\n        params: params.slice(normalHits.length + chargedHits + 1), \n        stats, \n        modifier,\n    }));\n\n    return talentValues;\n}\n\n// Used for all default claymore attacks\nfunction attackHeavyDefault({ normalHits, element = 'physical', params, stats, modifier }) {\n    let talentValues = [];\n\n    talentValues.push(...normalAttackDefault({\n        hits: normalHits, \n        element,\n        params: params.slice(0, normalHits), \n        stats,\n        modifier,\n    }));\n\n    talentValues.push(...chargedAttackHeavy({\n        element,\n        params: params.slice(normalHits, normalHits + 2),\n        stats,\n        modifier,\n    }));\n\n    talentValues.push(...plungeAttackDefault({\n        element,\n        params: params.slice(normalHits + 2 + 2), \n        stats,\n        modifier,\n    }));\n\n    return talentValues;\n}\n\n// Used for all claymore attacks with multi damage instances\nfunction attackHeavyMulti({ normalHits = [], element = 'physical', params, stats, modifier }) {\n    let talentValues = [];\n\n    talentValues.push(...normalAttackMulti({\n        hits: normalHits, \n        element,\n        params: params.slice(0, normalHits.length), \n        stats,\n        modifier,\n    }));\n\n    talentValues.push(...chargedAttackHeavy({\n        params: params.slice(normalHits.length, normalHits.length + 2), \n        stats,\n        modifier,\n    }));\n\n    talentValues.push(...plungeAttackDefault({\n        element,\n        params: params.slice(normalHits.length + 2 + 2), \n        stats,\n        modifier,\n    }));\n\n    return talentValues;\n}\n\n// Used for all debault bow aim shots (include charged shots)\nfunction aimShotDefault({ chargedElement, params, stats, modifier }) {\n    let talentValues = [];\n\n    let damage = calculateTotalDamage({ \n        stats, \n        multiplier: params[0], \n        element: 'physical', \n        attackType: 'normal',\n        modifier,\n    });\n    talentValues.push({\n            description: 'aimShotDmg',\n            damage: [damage],\n    });\n\n    damage = calculateTotalDamage({\n        stats,\n        multiplier: params[1],\n        element: chargedElement,\n        attackType: 'charged',\n        modifier,\n    });\n    talentValues.push({\n        description: 'chargedAimShotDmg',\n        damage: [damage],\n    });\n\n    return talentValues;\n}\n\n// Used for all default bow attacks\nfunction attackBowDefault({ normalHits, chargedElement, params, stats, modifier }) {\n    let talentValues = [];\n    \n    talentValues.push(...normalAttackDefault({\n        hits: 5,\n        element: 'physical',\n        params: params.slice(0, normalHits),\n        stats,\n        modifier,\n    }));\n\n    talentValues.push(...aimShotDefault({\n        chargedElement,\n        params: params.slice(normalHits, normalHits + 2),\n        stats,\n        modifier,\n    }));\n\n    talentValues.push(...plungeAttackDefault({\n        element: 'physical',\n        params: params.slice(normalHits + 2), \n        stats,\n        modifier,\n    }));\n\n    return talentValues;\n}\n\n// Base function for all damage skills. Returns an object representing a single line to be displayed.\n// The returned object should always be added into an array to construct the list of talent damage.\nfunction skillBase({ description, element, multiplier, stats, modifier }) {\n    let damage = calculateTotalDamage({\n        element,\n        multiplier,\n        attackType: 'skill',\n        stats, \n        modifier,\n    });\n\n    return {\n        description,\n        damage: [damage],\n    };\n}\n\n// Used for all default skill/burst that only does 1-hit elemental dmg\nfunction skillDefault({ element, params, stats, modifier }) {\n    return [skillBase({\n        description: 'skillDmg',\n        element,\n        multiplier: params[0],\n        stats,\n        modifier,\n    })];\n}\n\n// Base function for damage skills with multiple damage instances\nfunction skillMultiBase({ description, hits, element, params, stats, modifier }) {\n    let damages = [];\n    \n    for (let i = 0; i < hits; i++) {\n        damages.push(calculateTotalDamage({\n            element,\n            multiplier: params[i],\n            attackType: 'skill',\n            stats,\n            modifier,\n        }));\n    }\n\n    return {\n        description,\n        damage: damages,\n    };\n}\n\n// Base function for all healing skills. Returns an object representing a single line to be displayed.\n// The returned object should always be added into an array to construct the list of talent damage.\nfunction healingSkillBase({ description, params, stats, modifier }) {\n    let damage = calculateHealing({\n        stats,\n        multiplier: params[0],\n        flatHealing: params[1],\n    });\n\n    return {\n        description,\n        damage: [damage],\n    };\n}\n\n// Base function for all shields/summon HP\nfunction hpBase({ description, multiplier, flatBonus, stats, modifier }) {\n    let hp = calculateHp({\n        stats,\n        multiplier,\n        flatBonus,\n    });\n\n    return {\n        description,\n        damage: [hp],\n    };\n}\n\n// Public functions\n// Access using talent[characterId + type]\n\n// Lisa\nexport function lisaAttack({ params, stats, modifier }) {\n    return attackLightDefault({\n        normalHits: 4,\n        element: 'electro',\n        params,\n        stats,\n        modifier,\n    });\n}\n\nexport function lisaSkill({ params, stats, modifier }) {\n    let talentDmg = [];\n\n    talentDmg.push(skillBase({\n        description: 'pressDmg',\n        element: 'electro',\n        multiplier: params[5],\n        stats,\n        modifier,\n    }));\n\n    for (let i = 0; i <= 3; i++) {\n        talentDmg.push(skillBase({\n            description: `holdDmgStack${i}`,\n            element: 'electro',\n            multiplier: params[i],\n            stats, \n            modifier,\n        }));\n    }\n\n    return talentDmg;\n}\n\nexport function lisaBurst({ params, stats, modifier }) {\n    return skillDefault({\n        element: 'electro',\n        params,\n        stats,\n        modifier,\n    });\n}\n\n// Barbara\nexport function barbaraAttack({ params, stats, modifier }) {\n    return attackLightDefault({\n        normalHits: 4,\n        element: 'hydro',\n        params,\n        stats,\n        modifier,\n    });\n}\n\nexport function barbaraSkill({ params, stats, modifier }) {\n    let talentDmg = [\n        healingSkillBase({\n            description: 'hpRegenContinuous',\n            params: params.slice(0, 2),\n            stats,\n            modifier,\n        }),\n\n        healingSkillBase({\n            description: 'hpRegenOnHit',\n            params: params.slice(2, 4),\n            stats,\n            modifier,\n        }),\n\n        skillBase({\n            description: 'dropletDmg',\n            element: 'hydro',\n            multiplier: params[4],\n            stats,\n            modifier,\n        }),\n    ];\n\n    return talentDmg;\n}\n\nexport function barbaraBurst({ params, stats, modifier }) {\n    return [\n        healingSkillBase({\n            description: 'hpRegen',\n            params,\n            stats,\n            modifier,\n        }),\n    ];\n}\n\n// Kaeya\nexport function kaeyaAttack({ params, stats, modifier }) {\n    return attackLightMulti({ \n        normalHits: [1, 1, 1, 1, 1], \n        chargedHits: 2, \n        params, \n        stats, \n        modifier,\n    });\n}\n\nexport function kaeyaSkill({ params, stats, modifier }) {\n    return skillDefault({ \n        element: 'cryo', \n        params, \n        stats, \n        modifier \n    });\n}\n\nexport function kaeyaBurst({ params, stats, modifier }) {\n    return skillDefault({ \n        element: 'cryo', \n        params, \n        stats, \n        modifier,\n    });\n}\n\n// Diluc\nexport function dilucAttack({ params, stats, modifier }) {\n    let element = modifier.infusion ? 'pyro' : 'physical';\n    return attackHeavyDefault({\n        normalHits: 4,\n        element,\n        params,\n        stats,\n        modifier,\n    });\n}\n\nexport function dilucSkill({ params, stats, modifier }) {\n    let talentDamage = [];\n    for (let i = 0; i < 3; i++) {\n        talentDamage.push(skillBase({\n            description: `${i+1}HitDmg`,\n            element: 'pyro',\n            multiplier: params[i],\n            stats,\n            modifier,\n        }));\n    }\n\n    return talentDamage;\n}\n\nexport function dilucBurst({ params, stats, modifier }) {\n    let descriptions = ['slashingDmg', 'dot', 'explosionDmg'];\n    let talentDamage = descriptions.map((description, i) => {\n        return skillBase({\n            description,\n            element: 'pyro',\n            multiplier: params[i],\n            stats,\n            modifier,\n        });\n    });\n\n    return talentDamage;\n}\n\n// Razor\nexport function razorAttack({ params, stats, modifier }) {\n    return attackHeavyDefault({\n        normalHits: 4,\n        params,\n        stats,\n        modifier,\n    });\n}\n\nexport function razorSkill({ params, stats, modifier }) {\n    let descriptions = ['pressDmg', 'holdDmg'];\n    return descriptions.map((description, i) => {\n        return skillBase({\n            description,\n            element: 'electro',\n            multiplier: params[i],\n            stats,\n            modifier,\n        });\n    });\n}\n\nexport function razorBurst({ params, stats, modifier }) {\n    let talentDamage = skillDefault({\n        element: 'electro',\n        params,\n        stats,\n        modifier,\n    });\n\n    let attackParams = getTalentStatsAt('attack', modifier.talentAttackLevel, getTalentData('razor'));\n\n    for (let i = 0; i < 4; i++) {\n        talentDamage.push(skillBase({\n            description: `${i+1}HitDmgSoulCompanion`,\n            element: 'electro',\n            multiplier: params[1] * attackParams[i],\n            stats,\n            modifier,\n        }));\n    }\n\n    return talentDamage;\n}\n\n// Amber\nexport function amberAttack({ params, stats, modifier }) {\n    return attackBowDefault({\n        normalHits: 5,\n        chargedElement: 'pyro',\n        params,\n        stats,\n        modifier,\n    });\n}\n\nexport function amberSkill({ params, stats, modifier }) {\n    let talentDamage = [];\n\n    talentDamage.push(skillBase({\n        description: 'explosionDmg',\n        element: 'electro',\n        multiplier: params[1],\n        stats,\n        modifier,\n    }));\n\n    talentDamage.push(hpBase({\n        description: 'baronBunnyHp',\n        multiplier: params[0],\n        flatBonus: 0,\n        stats,\n        modifier,\n    }));\n\n    return talentDamage;\n}\n\nexport function amberBurst({ params, stats, modifier }) {\n    let talentDamage = [];\n\n    talentDamage.push(skillBase({\n        description: 'dmgPerWave',\n        element: 'pyro',\n        multiplier: params[0],\n        stats,\n        modifier,\n    }));\n\n    talentDamage.push({\n        description: 'totalDmg',\n        damage: [talentDamage[0].damage[0] * 18],\n    });\n\n    return talentDamage;\n}\n\n// Venti\nexport function ventiAttack({ params, stats, modifier }) {\n    return attackBowDefault({\n        normalHits: 6,\n        chargedElement: 'anemo',\n        params,\n        stats,\n        modifier,\n    });\n}\n\nexport function ventiSkill({ params, stats, modifier }) {\n    return [\n        skillBase({\n            description: 'pressDmg',\n            element: 'anemo',\n            multiplier: params[0],\n            stats,\n            modifier,\n        }),\n\n        skillBase({\n            description: 'holdDmg',\n            element: 'anemo',\n            multiplier: params[2],\n            stats,\n            modifier,\n        }),\n    ];\n}\n\nexport function ventiBurst({ params, stats, modifier }) {\n    return [\n        skillBase({\n            description: 'dot',\n            element: 'anemo',\n            multiplier: params[0],\n            stats,\n            modifier,\n        }),\n\n        // Not sure how the elemental absorption dmg is calculated\n        skillBase({\n            description: 'dotElementalAbsorption',\n            element: 'none',\n            multiplier: params[1],\n            stats,\n            modifier,\n        }),\n    ];\n}\n\n// Xiangling\nexport function xianglingAttack({ params, stats, modifier }) {\n    return attackLightMulti({\n        normalHits: [1, 1, 2, 4, 1],\n        params,\n        stats,\n        modifier,\n    });\n}\n\nexport function xianglingSkill({ params, stats, modifier }) {\n    return [\n        skillBase({\n            description: 'guobaDmg',\n            element: 'pyro',\n            multiplier: params[0],\n            stats,\n            modifier,\n        }),\n    ];\n}\n\nexport function xianglingBurst({ params, stats, modifier }) {\n    let talentDamage = []\n\n    for (let i = 0; i < 3; i++) {\n        talentDamage.push(skillBase({\n            description: `swing${i+1}HitDmg`,\n            element: 'pyro',\n            multiplier: params[i],\n            stats,\n            modifier,\n        }));\n    }\n\n    talentDamage.push(skillBase({\n        description: 'pyronadoDmg',\n        element: 'pyro',\n        multiplier: params[3],\n        stats,\n        modifier,\n    }));\n\n    return talentDamage;\n}\n\n// Beidou\nexport function beidouAttack({ params, stats, modifier }) {\n    return attackHeavyDefault({\n        normalHits: 5,\n        params,\n        stats,\n        modifier,\n    });\n}\n\nexport function beidouSkill({ params, stats, modifier }) {\n    let talentDamage = [];\n\n    talentDamage.push(hpBase({\n        description: 'shieldHp',\n        multiplier: params[0],\n        flatBonus: params[1],\n        stats,\n        modifier,\n    }));\n\n    talentDamage.push(skillBase({\n        description: 'baseDmg',\n        element: 'electro',\n        multiplier: params[2],\n        stats,\n        modifier,\n    }));\n\n    talentDamage.push(skillBase({\n        description: 'dmgBonusOnHitTaken',\n        element: 'electro',\n        multiplier: params[3],\n        stats,\n        modifier,\n    }));\n\n    return talentDamage;\n}\n\nexport function beidouBurst({ params, stats, modifier }) {\n    let talentDamage = [];\n\n    talentDamage.push(skillBase({\n        description: 'skillDmg',\n        element: 'electro',\n        multiplier: params[0],\n        stats,\n        modifier,\n    }));\n\n    talentDamage.push(skillBase({\n        description: 'lightningDmg',\n        element: 'electro',\n        multiplier: params[1],\n        stats,\n        modifier,\n    }));\n\n    return talentDamage;\n}\n\n// Xingqiu\nexport function xingqiuAttack({ params, stats, modifier }) {\n    return attackLightMulti({\n        normalHits: [1, 1, 2, 1, 2],\n        chargedHits: 2,\n        params: params.slice(0, 3).concat(params.slice(4, 6)).concat(params.slice(7)),\n        stats,\n        modifier,\n    });\n}\n\nexport function xingqiuSkill({ params, stats, modifier }) {\n    return [skillMultiBase({\n        description: 'skillDmg',\n        hits: 2,\n        element: 'hydro',\n        params,\n        stats,\n        modifier,\n    })];\n}\n\nexport function xingqiuBurst({ params, stats, modifier }) {\n    return [skillBase({\n        description: 'swordRainDmg',\n        element: 'hydro',\n        multiplier: params[0],\n        stats,\n        modifier,\n    })];\n}\n\n// Xiao\nexport function xiaoAttack({ params, stats, modifier }) {\n    if (modifier.infusion) {\n        let burstParams = getTalentStatsAt('burst', modifier.talentBurstLevel, getTalentData('xiao'));\n        let modifiedStats = {...stats};\n\n        if (modifiedStats.normalDmgBonus === undefined) {\n            modifiedStats.normalDmgBonus = burstParams[0];\n        } else {\n            modifiedStats.normalDmgBonus += burstParams[0];\n        }\n\n        if (modifiedStats.chargedDmgBonus === undefined) {\n            modifiedStats.chargedDmgBonus = burstParams[0];\n        } else {\n            modifiedStats.chargedDmgBonus += burstParams[0];\n        }\n\n        if (modifiedStats.plungeDmgBonus === undefined) {\n            modifiedStats.plungeDmgBonus = burstParams[0];\n        } else {\n            modifiedStats.plungeDmgBonus += burstParams[0];\n        }\n\n        return attackLightMulti({\n            normalHits: [2, 1, 1, 2, 1, 1],\n            element: 'anemo',\n            params: params.slice(1, 5).concat(params.slice(6)),\n            stats: modifiedStats,\n            modifier,\n        });\n    } else {\n        return attackLightMulti({\n            normalHits: [2, 1, 1, 2, 1, 1],\n            params: params.slice(1, 5).concat(params.slice(6)),\n            stats,\n            modifier,\n        });\n    }\n}\n\nexport function xiaoSkill({ params, stats, modifier }) {\n    return skillDefault({\n        element: 'anemo',\n        params,\n        stats,\n        modifier,\n    });\n}\n\nexport function xiaoBurst({ params, stats, modifier }) {\n    return defaultTalent();\n}\n\n// Eula\nexport function eulaAttack({ params, stats, modifier }) {\n    return attackHeavyMulti({ \n        normalHits: [1, 1, 2, 1, 2], \n        params, \n        stats, \n        modifier\n    });\n}\n\nexport function eulaSkill({ params, stats, modifier }) {\n    let descriptions = ['pressDmg', 'holdDmg', 'icewhirlBrandDmg'];\n    return descriptions.map((description, i) => {\n        return skillBase({\n            description,\n            element: 'cryo',\n            multiplier: params[i],\n            stats,\n            modifier,\n        });\n    });\n}\n\nexport function eulaBurst({ params, stats, modifier }) {\n    let talentDmg = [];\n    talentDmg.push(...skillDefault({\n        element: 'cryo', \n        params, \n        stats,\n        modifier,\n    }));\n    \n    let descriptions = ['lightfallSwordBaseDmg', 'lightfallSwordStackDmg'];\n    let lightfallSwordParams = params.slice(1, 3);\n    let lightfallSwordTalent = descriptions.map((description, i) => {\n        return skillBase({\n            description,\n            element: 'physical',\n            multiplier: lightfallSwordParams[i],\n            stats,\n            modifier,\n        });\n    });\n\n    talentDmg.push(...lightfallSwordTalent);\n\n    return talentDmg;\n}\n","export default class TalentOption {\n    constructor(id, type = 'boolean', value) {\n        this.id = id;\n        this.type = type;\n        this.value = value;\n    }\n}\n\n// Diluc\nexport const dilucTalentOptions = [new TalentOption('infusion', 'boolean', false)];\n\n// Xiao\nexport const xiaoTalentOptions = [new TalentOption('infusion', 'boolean', false)];","import { \n    getCharacterData as getData, \n    getCharacterAscensionBonusData as getAscensionBonusData, \n    getCharacterStatCurveAt as getStatCurveAt, \n    getAscensionBonusAt,\n    getTalentData,\n    getTalentStatsAt,\n} from './Data.js';\n\nimport * as talents from './Talent.js';\nconst emptyTalentParams = Array(19).fill(NaN);\n\nimport * as talentOptions from './TalentOption.js';\n\nexport default class Character {\n    constructor(id) {\n        this.id = id;\n\n        const data = getData(id);\n        this.name = data.name;\n        this.baseStats = data.baseStats;\n        this.statCurveMapping = data.statCurves;\n        this.ascensionBonuses = getAscensionBonusData(id);\n\n        this.talents = getTalentData(id);\n    }\n\n    // Returns an Object containing the character's innate total HP, Atk and Def, taking into account only their level and ascension\n    getInnateStatsAt(level, hasAscended) {\n        if (isNaN(level) || level < 1 || level > 90) {\n            // Return nulls if level is invalid\n            let innateStats;\n            if (this.innateStats !== undefined) {\n                // Copy all of innateStats' properties to a new object and initialize them to null\n                innateStats = Object.keys(this.innateStats).reduce((obj, stat) => {\n                    obj[stat] = null;\n                    return obj;\n                }, {});\n            } else {\n                innateStats = {};\n            }\n            \n            this.innateStats = innateStats;\n            this.level = level;\n            this.hasAscended = hasAscended;\n            \n            return innateStats;\n        } \n        // If getStatsAt has not been called before, this.level, this.hasAscended, and this.stats will be undefined\n        else if (level === this.level && hasAscended === this.hasAscended) {\n            // Don't recalculate stats if it has been calculated with the same parameters before\n            return this.innateStats;\n        } else {\n\n            // Initialize stats with character level 1 base stats\n            let innateStats = {...this.baseStats};\n\n            let charStatCurves = getStatCurveAt(level);\n\n            // Calculate stats from character level\n            Object.entries(this.statCurveMapping).forEach(([stat, curve]) => {\n                let multiplier = charStatCurves[curve];\n                innateStats[stat] *= multiplier;\n            });\n\n            // Calculate stats from character ascension\n            let ascensionLevel;\n            if (level > 80 || (level == 80 && hasAscended)) {\n                ascensionLevel = 6;\n            } else if (level > 70 || (level == 70 && hasAscended)) {\n                ascensionLevel = 5;\n            } else if (level > 60 || (level == 60 && hasAscended)) {\n                ascensionLevel = 4;\n            } else if (level > 50 || (level == 50 && hasAscended)) {\n                ascensionLevel = 3;\n            } else if (level > 40 || (level == 40 && hasAscended)) {\n                ascensionLevel = 2;\n            } else if (level > 20 || (level == 20 && hasAscended)) {\n                ascensionLevel = 1;\n            } else {\n                ascensionLevel = 0;\n            }\n            let ascensionBonuses = getAscensionBonusAt(ascensionLevel, this.ascensionBonuses);\n\n            if (ascensionBonuses !== undefined) {\n                Object.entries(ascensionBonuses).forEach(([stat, bonus]) => {\n                    if (stat in innateStats) {\n                        innateStats[stat] += bonus;\n                    } else {\n                        innateStats[stat] = bonus;\n                    }\n                })\n            }\n\n            this.innateStats = innateStats;\n            this.level = level;\n            this.hasAscended = hasAscended;\n\n            return innateStats;\n        }\n    }\n\n    // Return an Object with description and damage properties\n    getTalentDamageAt({ type, talentLevel, totalStats, modifier }) {\n        const params = getTalentStatsAt(type.toLowerCase(), talentLevel, this.talents);\n\n        let damageFn = talents[this.id + type];\n        if (damageFn === undefined) {\n            damageFn = talents['defaultTalent'];\n        }\n\n        let damage = damageFn({\n            params: params ? params : emptyTalentParams, \n            stats: totalStats, \n            modifier,\n        });\n\n        return damage;\n    }\n\n    getTalentOptions() {\n        let options = talentOptions[this.id + 'TalentOptions'];\n        if (options !== undefined) {\n            return options;\n        } else {\n            return [];\n        }\n    }\n}\n","import { getWeaponData as getData, getWeaponAscensionBonusData as getAscensionBonusData, getWeaponStatCurveAt as getStatCurveAt, getAscensionBonusAt } from './Data.js';\n\nexport default class Weapon {\n    constructor(id) {\n        this.id = id;\n\n        const data = getData(id);\n        this.name = data.name;\n        this.type = data.type;\n        this.rank = data.rank;\n        this.baseStats = data.baseStats;\n        this.statCurveMapping = data.statCurves;\n        this.ascensionBonuses = getAscensionBonusData(id);\n    }\n\n    // Returns an Object containing the weapons's HP, Atk and Def, taking into account only its level and ascension\n    getStatsAt(weaponLevel, hasAscended) {\n        if (isNaN(weaponLevel) || weaponLevel < 1 || (this.rank <= 2 && weaponLevel > 70) || weaponLevel > 90) {\n            // Return nulls if weapon level is invalid\n            let weaponStats;\n            if (this.stats !== undefined) {\n                // Copy all of stats' properties to a new object and initialize them to null\n                weaponStats = Object.keys(this.stats).reduce((obj, stat) => {\n                    obj[stat] = null;\n                    return obj;\n                }, {});\n            } else {\n                weaponStats = {};\n            }\n            \n            this.stats = weaponStats;\n            this.weaponLevel = weaponLevel;\n            this.hasAscended = hasAscended;\n\n            return weaponStats;\n        }\n        // If getStatsAt has not been called before, this.weaponLevel, this.hasAscended, and this.stats will be undefined\n        else if (weaponLevel === this.weaponLevel && hasAscended === this.hasAscended) {\n            // Don't recalculate stats if it has been calculated with the same parameters before\n            return this.stats;\n        } else {\n\n            // Level 1 weapon stats\n            let weaponStats = {...this.baseStats};\n\n            let weaponStatCurves = getStatCurveAt(weaponLevel);\n\n            // Calculate stats from weapon level\n            Object.entries(this.statCurveMapping).forEach(([stat, curve]) => {\n                let multiplier = weaponStatCurves[curve];\n                weaponStats[stat] *= multiplier;\n            });\n\n            // Calculate stats from weapon ascension\n            let ascensionLevel;\n            // Only 3-star and above weapons can be ascended beyond level 70\n            if (this.rank > 2 && (weaponLevel > 80 || (weaponLevel == 80 && hasAscended))) {\n                ascensionLevel = 6;\n            } else if (this.rank > 2 && (weaponLevel > 70 || (weaponLevel == 70 && hasAscended))) {\n                ascensionLevel = 5;\n            } else if (weaponLevel > 60 || (weaponLevel == 60 && hasAscended)) {\n                ascensionLevel = 4;\n            } else if (weaponLevel > 50 || (weaponLevel == 50 && hasAscended)) {\n                ascensionLevel = 3;\n            } else if (weaponLevel > 40 || (weaponLevel == 40 && hasAscended)) {\n                ascensionLevel = 2;\n            } else if (weaponLevel > 20 || (weaponLevel == 20 && hasAscended)) {\n                ascensionLevel = 1;\n            } else {\n                ascensionLevel = 0;\n            }\n            let ascensionBonuses = getAscensionBonusAt(ascensionLevel, this.ascensionBonuses);\n            \n            if (ascensionBonuses !== undefined) {\n                Object.entries(ascensionBonuses).forEach(([stat, bonus]) => {\n                    if (stat in weaponStats) {\n                        weaponStats[stat] += bonus;\n                    } else {\n                        weaponStats[stat] = bonus;\n                    }\n                })\n            }\n\n            this.stats = weaponStats;\n            this.weaponLevel = weaponLevel;\n            this.hasAscended = hasAscended;\n\n            return weaponStats;\n        }\n    }\n}\n","import { talentDescMapping, talentOptionMapping } from './Data.js';\n\n// Returns the string to display as the value of a stat\nexport function getStatDisplayValue(value, isPercentage) {\n    if (value != null) {\n        if (isPercentage) {\n            return (value * 100).toFixed(1) + \"%\";\n        } else {\n            return Math.round(value);\n        }\n    } else {\n        return \"-\";\n    }\n};\n\n// Returns the string to display as the talent damage\nexport function getDamageDisplayValue(values) {\n    let str = '';\n\n    if (values.length === 0) {\n        return str;\n    }\n\n    if (isNaN(values[0])) {\n        return '-';\n    } else {\n        str += Math.round(values[0]);\n    }\n\n    if (values.length >= 3 && values.every(value => value === values[0])) {\n        // All elements are the same, simplify to ${damage} x${count}\n        str += ' x ' + values.length;\n    } else {\n        // Less than 3 elements, or elements are different\n        values.slice(1).forEach(value => {\n            if (isNaN(value)) {\n                return '-';\n            } else {\n                str += ' + ' + Math.round(value);\n            }\n        });\n    }\n\n    return str;\n}\n\n// Returns the display name of a talent option\nexport function getTalentOptionName(id) {\n    return talentOptionMapping[id];\n}\n\n// Returns a Number representing the inputed value of a stat\n// Returns null if the input is not a valid stat value\nexport function convertStatValue(value, isPercentage) {\n    if (isPercentage) {\n        return value / 100;\n    } else {\n        return value;\n    }\n};\n\nexport function getTalentDescription(desc) {\n    return talentDescMapping[desc];\n}\n\n// Returns object containing base stats of character with the passed weapon\n// Base stats = character innate stats + weapon stats\nfunction getBaseStatsAt(weapon, weaponLevel, weaponHasAscended, character, characterLevel, characterHasAscended) {\n\n    let weaponStats;\n    if (weapon !== undefined) {\n        weaponStats = weapon.getStatsAt(weaponLevel, weaponHasAscended);\n    } else {\n        weaponStats = {};\n    }\n\n    let characterStats;\n    if (character !== undefined) {\n        characterStats = character.getInnateStatsAt(characterLevel, characterHasAscended);\n    } else {\n        characterStats = {};\n    }\n    \n    // Merges weaponStats and innateStats into a new baseStats object\n    let baseStats = {...weaponStats};\n    Object.entries(characterStats).map(([stat, value]) => {\n        if (baseStats[stat] === undefined) {\n            baseStats[stat] = value;\n        } else {\n            baseStats[stat] += value;\n        }\n    });\n    \n    return baseStats;\n}\n\n// Returns object containing the total stats of the character, weapon and artifacts\n// Ignores any of [character, weapon] that are undefined\nexport function getTotalStatsAt(weapon, weaponLevel, weaponHasAscended, character, characterLevel, characterHasAscended, artifacts) {\n    \n    let baseStats = getBaseStatsAt(weapon, weaponLevel, weaponHasAscended, character, characterLevel, characterHasAscended);\n    \n    // Merge artifact bonuses into separate object\n    let artifactStats = {};\n    artifacts.forEach(artifact => {\n        Object.entries(artifact.getStats()).forEach(([stat, value]) => {\n            if (artifactStats[stat] === undefined) {\n                artifactStats[stat] = value;\n            } else {\n                artifactStats[stat] += value;\n            }\n        });\n    });\n\n    // Merge base stats and artifact bonuses\n    let combinedStats = {...baseStats};\n    Object.entries(artifactStats).forEach(([stat, value]) => {\n        if (combinedStats[stat] === undefined) {\n            combinedStats[stat] = value;\n        } else {\n            combinedStats[stat] += value;\n        }\n    });\n\n    // Calculate total stats\n    let totalStats = {};\n    totalStats.flatAtk = (combinedStats.baseAtk ? combinedStats.baseAtk : 0) \n        * (1 + (combinedStats.atkBonus ? combinedStats.atkBonus : 0))\n        + (combinedStats.flatAtk ? combinedStats.flatAtk : 0);\n    totalStats.flatDef = (combinedStats.baseDef ? combinedStats.baseDef : 0) \n        * (1 + (combinedStats.defBonus ? combinedStats.defBonus : 0))\n        + (combinedStats.flatDef ? combinedStats.flatDef : 0);\n    totalStats.flatHp = (combinedStats.baseHp ? combinedStats.baseHp : 0) \n        * (1 + (combinedStats.hpBonus ? combinedStats.hpBonus : 0))\n        + (combinedStats.flatHp ? combinedStats.flatHp : 0);\n    totalStats.critRate = combinedStats.critRate ? combinedStats.critRate : 0;\n    totalStats.critDmg = combinedStats.critDmg ? combinedStats.critDmg : 0;\n    totalStats.elementalMastery = combinedStats.elementalMastery ? combinedStats.elementalMastery : 0;\n    totalStats.energyRecharge = 1 + (combinedStats.energyRecharge ? combinedStats.energyRecharge : 0);\n    \n    combinedStats.anemoDmgBonus ? totalStats.anemoDmgBonus = combinedStats.anemoDmgBonus : null;\n    combinedStats.cryoDmgBonus ? totalStats.cryoDmgBonus = combinedStats.cryoDmgBonus : null;\n    combinedStats.electroDmgBonus ? totalStats.electroDmgBonus = combinedStats.electroDmgBonus : null;\n    combinedStats.geoDmgBonus ? totalStats.geoDmgBonus = combinedStats.geoDmgBonus : null;\n    combinedStats.hydroDmgBonus ? totalStats.hydroDmgBonus = combinedStats.hydroDmgBonus : null;\n    combinedStats.pyroDmgBonus ? totalStats.pyroDmgBonus = combinedStats.pyroDmgBonus : null;\n    combinedStats.physicalDmgBonus ? totalStats.physicalDmgBonus = combinedStats.physicalDmgBonus : null;\n\n    combinedStats.anemoRes ? totalStats.anemoRes = combinedStats.anemoRes : null;\n    combinedStats.cryoRes ? totalStats.cryoRes = combinedStats.cryoRes : null;\n    combinedStats.electroRes ? totalStats.electroRes = combinedStats.electroRes : null;\n    combinedStats.geoRes ? totalStats.geoRes = combinedStats.geoRes : null;\n    combinedStats.hydroRes ? totalStats.hydroRes = combinedStats.hydroRes : null;\n    combinedStats.pyroRes ? totalStats.pyroRes = combinedStats.pyroRes : null;\n    combinedStats.physicalRes ? totalStats.physicalRes = combinedStats.physicalRes : null;\n\n    combinedStats.healingBonus ? totalStats.healingBonus = combinedStats.healingBonus : null;\n\n    return totalStats;\n}","import * as statUtils from './Stat.js';\n\nexport default class Artifact {\n    mainStat = {\n        stat: 0,\n        rawValue: NaN,\n        value: NaN,\n    };\n\n    subStats = [\n        {\n            stat: 0,\n            rawValue: NaN,\n            value: NaN,\n        }, \n        {\n            stat: 0,\n            rawValue: NaN,\n            value: NaN,\n        }, \n        {\n            stat: 0,\n            rawValue: NaN,\n            value: NaN,\n        }, \n        {\n            stat: 0,\n            rawValue: NaN,\n            value: NaN,\n        }\n    ];\n\n    constructor(type) {\n        this.type = type;\n    }\n\n    // Can be called with one of the two of stat and value (the other will be undefined)\n    setStat(statObj, stat, value, isPercentage = false) {\n        if (stat == undefined && value != undefined) {\n            statObj.rawValue = value;\n            statObj.value = statUtils.convertStatValue(value, isPercentage);\n        } else if (stat != undefined && value == undefined) {\n            statObj.stat = stat;\n            statObj.value = statUtils.convertStatValue(statObj.rawValue, isPercentage);\n        } else if (stat != undefined && value != undefined) {\n            statObj.stat = stat;\n            statObj.rawValue = value;\n            statObj.value = statUtils.convertStatValue(value, isPercentage);\n        }\n    }\n\n    /*\n    setMainStat(stat, value, isPercentage = false) {\n        this.setStat(this.mainStat, stat, value, isPercentage);\n    }\n\n    // Set substat in a spefiic position\n    setSubStat(pos, stat, value, isPercentage = false) {\n        this.setStat(this.subStats[pos], stat, value, isPercentage);\n    }\n    */\n\n    // Returns object containing stat: value mapping, including both main stat and substats\n    getStats() {\n        let stats = {};\n\n        if (this.mainStat.stat != 0) {\n            if (!isNaN(this.mainStat.value)) {\n                stats[this.mainStat.stat] = this.mainStat.value;\n            } else {\n                stats[this.mainStat.stat] = null;\n            }\n        }\n        \n        this.subStats.forEach(subStat => {\n            if (subStat.stat != 0) {\n                if (!isNaN(subStat.value)) {\n                    stats[subStat.stat] = subStat.value;\n                } else {\n                    stats[subStat.stat] = null;\n                }\n            }\n        });\n\n        return stats;\n    }\n}\n\nexport const mainStatProps = {\n    Flower: [\n        'flatHp',\n    ],\n\n    Feather: [\n        'flatAtk',\n    ],\n\n    Sands: [\n        'hpBonus',\n        'atkBonus',\n        'defBonus',\n        'elementalMastery',\n        'energyRecharge',\n    ],\n\n    Goblet: [\n        'hpBonus',\n        'atkBonus',\n        'defBonus',\n        'elementalMastery',\n        'anemoDmgBonus',\n        'cryoDmgBonus',\n        'electroDmgBonus',\n        'geoDmgBonus',\n        'hydroDmgBonus',\n        'pyroDmgBonus',\n        'physicalDmgBonus',\n    ],\n\n    Circlet: [\n        'hpBonus',\n        'atkBonus',\n        'defBonus',\n        'elementalMastery',\n        'critRate',\n        'critDmg',\n        'healingBonus',\n    ],\n}\n\nexport const subStatProps = [\n    'flatHp',\n    'flatAtk',\n    'flatDef',\n    'hpBonus',\n    'atkBonus',\n    'defBonus',\n    'elementalMastery',\n    'energyRecharge',\n    'critRate',\n    'critDmg',\n]","export default class DamageModifier {\n    constructor({\n        characterLevel,\n        enemyLevel = 1,\n        enemyRes = {},\n        modifiers = {},\n        critType = 'none',\n        flatDmg = 0,\n        reaction = 'none',\n        talentAttackLevel,\n        talentSkillLevel,\n        talentBurstLevel,\n        talentOptions = [] \n    }) {\n        this.characterLevel = characterLevel;\n        this.enemyLevel = enemyLevel;\n        this.enemyRes = enemyRes;\n        this.modifiers = modifiers;\n        this.critType = critType;\n        this.flatDmg = flatDmg;\n        this.reaction = reaction;\n        this.talentAttackLevel = talentAttackLevel;\n        this.talentSkillLevel = talentAttackLevel;\n        this.talentBurstLevel = talentAttackLevel;\n\n        talentOptions.forEach(({id, value}) => {\n            this[id] = value;\n        });\n    }\n}","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n    container: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'stretch',\n\n        fontSize: 14,\n\n        height: '100%',\n\n        backgroundColor: '#fff',\n    },\n\n    inputColumn: {\n        display: 'flex',\n        flexDirection: 'column',\n\n        padding: '1%',\n\n        borderRightWidth: 1,\n\n        backgroundColor: '#ccc',\n    },\n\n    inputRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n\n        marginVertical: '0.25em',\n    },\n\n    levelInput: {\n        width: '2em',\n    },\n\n    statInput: {\n        width: '3em',\n    },\n\n    resultColumn: {\n        display: 'flex',\n        flexDirection: 'column',\n\n        borderRightWidth: 1,\n\n        backgroundColor: '#eee',\n    },\n\n    resultBlockNoBorder: {\n        display: 'flex',\n        flexDirection: 'column',\n\n        padding: '0.8em',\n    },\n\n    resultBlock: {\n        display: 'flex',\n        flexDirection: 'column',\n\n        padding: '0.8em',\n        borderBottomWidth: 1,\n    },\n\n    artifactBlockNoBorder: {\n        display: 'flex',\n        flexDirection: 'column',\n        paddingTop: '0.5em',\n        paddingBottom: '0.7em',\n    },\n\n    artifactBlock: {\n        display: 'flex',\n        flexDirection: 'column',\n\n        paddingTop: '0.5em',\n        paddingBottom: '0.7em',\n\n        borderStyle: 'dashed',\n        borderBottomWidth: 1,  \n    },\n\n    characterImage: {\n        marginVertical: '0.25em',\n    },\n\n    titleText: {\n        fontSize: '1.5em',\n        fontWeight: '200',\n\n        marginVertical: '0.17em',\n    },\n\n    artifactType: {\n        fontSize: '1.2em',\n        fontWeight: '200',\n\n        marginVertical: '0.21em',\n    },\n\n    artifactStatType: {\n        marginVertical: '0.25em',\n    },\n\n    resultText: {\n        marginVertical: '0.25em',\n    },\n\n    fillerColumn: {\n        flexGrow: 1,\n\n        backgroundColor: '#eee',\n    },\n});\n","import { Picker } from '@react-native-picker/picker';\nimport Checkbox from 'expo-checkbox';\nimport React, { Component } from 'react';\nimport { FlatList, Image, Text, TextInput, View } from 'react-native';\n\nimport Character from './js/Character.js';\nimport Weapon from './js/Weapon.js';\nimport Artifact, { mainStatProps, subStatProps } from './js/Artifact.js';\nimport DamageModifier from './js/DamageModifer.js';\nimport TalentOption from './js/TalentOption.js';\nimport * as statUtils from './js/Stat.js';\nimport * as data from './js/Data.js';\n\nimport styles from './js/Styles.js';\n\nexport default class App extends Component {\n\n  // Class properties\n  character;\n  weapon;\n  artifactFlower;\n  artifactFeather;\n  artifactSands;\n  artifactGoblet;\n  artifactCirclet;\n\n  constructor() {\n    super();  \n\n    // Initialize sorted list of characters and weapons\n    this.characters = data.getSortedCharacterList();\n    this.weapons = data.getSortedWeaponList();\n\n    this.artifactFlower = new Artifact('Flower');\n    this.artifactFeather = new Artifact('Feather');\n    this.artifactSands = new Artifact('Sands');\n    this.artifactGoblet = new Artifact('Goblet');\n    this.artifactCirclet = new Artifact('Circlet');\n\n    this.state = {\n      characterId: undefined,\n      characterLevel: 1,\n      isCharacterAscended: false,\n\n      weaponId: undefined,\n      weaponLevel: 1,\n      isWeaponAscended: false,\n\n      talentAttackLevel: 1,\n      talentSkillLevel: 1,\n      talentBurstLevel: 1,\n\n      characterStats: undefined,\n      weaponStats: undefined,\n      totalStats: undefined,\n\n      talentAttackDamage: undefined,\n      talentSkillDamage: undefined,\n      talentBurstDamage: undefined,\n\n      talentOptions: [],\n    }\n  }\n\n  renderInputColumn = () => {\n    return (\n      <View>\n        {this.renderCharacterList()}\n\n        <View style={styles.inputRow}>\n          <Text>Level: </Text>\n          <TextInput \n            style={styles.levelInput}\n            defaultValue={this.state.characterLevel} \n            onChangeText={text => {\n              this.setState({ characterLevel: parseInt(text) }, this.setCharacterState);\n            }}\n          />\n        </View>\n\n        <View style={styles.inputRow}>\n          <Text>Ascended? </Text>\n          <Checkbox\n            onValueChange={value => this.setState({ isCharacterAscended: value }, this.setCharacterState)}\n            value={this.state.isCharacterAscended}\n          />\n        </View>\n\n        <Text> </Text>\n\n        {this.renderWeaponList()}\n\n        <View style={styles.inputRow}>\n          <Text>Level: </Text>\n          <TextInput \n            style={styles.levelInput}\n            defaultValue={this.state.weaponLevel} \n            onChangeText={text => {\n              this.setState({ weaponLevel: parseInt(text) }, this.setWeaponState)\n            }}\n          />\n        </View>\n\n        <View style={styles.inputRow}>\n          <Text>Ascended? </Text>\n          <Checkbox\n            onValueChange={value => this.setState({ isWeaponAscended: value }, this.setWeaponState)}\n            value={this.state.isWeaponAscended}\n          />\n        </View>\n\n        <Text> </Text>\n\n        <View style={styles.inputRow}>\n          <Text>Attack Talent Level: </Text>\n          <TextInput \n            style={styles.levelInput}\n            defaultValue={this.state.talentAttackLevel} \n            onChangeText={text => {\n              this.setState({ talentAttackLevel: parseInt(text) }, this.setAllTalentState);\n            }}\n          />\n        </View>\n\n        <View style={styles.inputRow}>\n          <Text>Skill Talent Level: </Text>\n          <TextInput \n            style={styles.levelInput}\n            defaultValue={this.state.talentSkillLevel} \n            onChangeText={text => {\n              this.setState({ talentSkillLevel: parseInt(text) }, this.setAllTalentState);\n            }}\n          />\n        </View>\n\n        <View style={styles.inputRow}>\n          <Text>Burst Talent Level: </Text>\n          <TextInput \n            style={styles.levelInput}\n            defaultValue={this.state.talentBurstLevel} \n            onChangeText={text => {\n              this.setState({ talentBurstLevel: parseInt(text) }, this.setAllTalentState);\n            }}\n          />\n        </View>\n      </View>\n    )\n  }\n\n  renderCharacterList = () => {    \n    return (\n      <View style={styles.inputRow}>\n        <Text>Character: </Text>\n        <Picker \n          style={styles.characterSelect}\n          selectedValue={this.state.characterId}\n          onValueChange={(value, _) => {\n            if (value != 0) {\n              this.character = new Character(value);\n              this.setState({\n                characterId: value,\n                talentOptions: this.character.getTalentOptions()\n              }, this.setCharacterState);\n            }\n          }}\n        >\n          <Picker.Item label='' value={0} />\n          {this.characters.map(id => <Picker.Item label={data.getCharacterData(id).name} value={id} key={id} />)}\n        </Picker>\n      </View>\n    )\n  }\n\n  renderWeaponList = () => {\n    return (\n      <View style={styles.inputRow}>\n        <Text>Weapon: </Text>\n        <Picker\n          style={styles.characterSelect}\n          selectedValue={this.state.weaponId}\n          onValueChange={(value, _) => {\n            if (value != 0) {\n              this.weapon = new Weapon(value);\n              this.setState({ weaponId: value }, this.setWeaponState);\n            }\n          }}\n        >\n          <Picker.Item label='' value={0} />\n          {this.weapons.map(id => <Picker.Item label={data.getWeaponData(id).name} value={id} key={id} />)}\n        </Picker>\n      </View>\n    )\n  }\n\n  renderCharacterImage = () => {\n    let imageUrl = `https://rerollcdn.com/GENSHIN/Characters/${this.character.name}.png`\n    return (\n      <Image style={styles.characterImage} source={{uri: imageUrl, width: 70, height: 70}} />\n    )\n  }\n\n  getDamageModifier = () => {\n    let modifier = new DamageModifier({ \n      characterLevel: this.state.characterLevel,\n      talentAttackLevel: this.state.talentAttackLevel,\n      talentSkillLevel: this.state.talentSkillLevel,\n      talentBurstLevel: this.state.talentBurstLevel,\n      talentOptions: this.state.talentOptions,\n    });\n\n    return modifier;\n  }\n\n  setCharacterState = () => {\n    if (this.character !== undefined) {\n      let stats = this.character.getInnateStatsAt(this.state.characterLevel, this.state.isCharacterAscended);\n      let totalStats = this.getTotalStats();\n      let modifier = this.getDamageModifier();\n\n      let talentAttackDamage = this.character.getTalentDamageAt({\n        type: 'Attack', \n        talentLevel: this.state.talentAttackLevel, \n        totalStats,\n        modifier,\n      });\n\n      let talentSkillDamage = this.character.getTalentDamageAt({\n        type: 'Skill', \n        talentLevel: this.state.talentSkillLevel, \n        totalStats,\n        modifier,\n      });\n      \n      let talentBurstDamage = this.character.getTalentDamageAt({\n        type: 'Burst', \n        talentLevel: this.state.talentBurstLevel, \n        totalStats,\n        modifier,\n      });\n\n      this.setState({ \n        characterStats: stats,\n        totalStats: totalStats,\n        talentAttackDamage: talentAttackDamage,\n        talentSkillDamage: talentSkillDamage,\n        talentBurstDamage: talentBurstDamage,\n      });\n    }\n  }\n\n  setWeaponState = () => {\n    if (this.weapon !== undefined) {\n      let stats = this.weapon.getStatsAt(this.state.weaponLevel, this.state.isweaponAscended);\n      let totalStats = this.getTotalStats();\n      let modifier = this.getDamageModifier();\n\n      let talentAttackDamage, talentSkillDamage, talentBurstDamage;\n      if (this.character !== undefined) {\n        talentAttackDamage = this.character.getTalentDamageAt({\n          type: 'Attack', \n          talentLevel: this.state.talentAttackLevel, \n          totalStats,\n          modifier,\n        });\n  \n        talentSkillDamage = this.character.getTalentDamageAt({\n          type: 'Skill', \n          talentLevel: this.state.talentSkillLevel, \n          totalStats,\n          modifier,\n        });\n        \n        talentBurstDamage = this.character.getTalentDamageAt({\n          type: 'Burst', \n          talentLevel: this.state.talentBurstLevel, \n          totalStats,\n          modifier,\n        });\n      }\n\n      this.setState({ \n        weaponStats: stats,\n        totalStats: totalStats,\n        talentAttackDamage: talentAttackDamage,\n        talentSkillDamage: talentSkillDamage,\n        talentBurstDamage: talentBurstDamage,\n      });\n    }\n  }\n\n  setArtifactState = (type) => {\n    let totalStats = this.getTotalStats();\n    let modifier = this.getDamageModifier();\n\n    let talentAttackDamage, talentSkillDamage, talentBurstDamage;\n    if (this.character !== undefined) {\n      talentAttackDamage = this.character.getTalentDamageAt({\n        type: 'Attack', \n        talentLevel: this.state.talentAttackLevel, \n        totalStats,\n        modifier,\n      });\n\n      talentSkillDamage = this.character.getTalentDamageAt({\n        type: 'Skill', \n        talentLevel: this.state.talentSkillLevel, \n        totalStats,\n        modifier,\n      });\n      \n      talentBurstDamage = this.character.getTalentDamageAt({\n        type: 'Burst', \n        talentLevel: this.state.talentBurstLevel, \n        totalStats,\n        modifier,\n      });\n    }\n\n    this.setState({\n      totalStats: totalStats,\n      talentAttackDamage: talentAttackDamage,\n      talentSkillDamage: talentSkillDamage,\n      talentBurstDamage: talentBurstDamage,\n    });\n  }\n\n  setTalentState = (type) => {\n    if (this.character !== undefined) {\n      let talentDmg = this.character.getTalentDamageAt({\n        type, \n        talentLevel: this.state[`talent${type}Level`], \n        totalStats: this.state.totalStats,\n        modifier: this.getDamageModifier(),\n      });\n\n      this.setState({ [`talent${type}Damage`]: talentDmg });\n    }\n  }\n\n  // Not used in setCharacterState, setWeaponState, or setArtifactState to reduce number of setState calls\n  // Does not call setTalentState to reduce number of setState calls\n  setAllTalentState = () => {\n    if (this.character !== undefined) {\n      let talentAttackDamage = this.character.getTalentDamageAt({\n        type: 'Attack', \n        talentLevel: this.state.talentAttackLevel, \n        totalStats: this.state.totalStats,\n        modifier: this.getDamageModifier(),\n      });\n\n      let talentSkillDamage = this.character.getTalentDamageAt({\n        type: 'Skill', \n        talentLevel: this.state.talentSkillLevel, \n        totalStats: this.state.totalStats,\n        modifier: this.getDamageModifier(),\n      });\n      \n      let talentBurstDamage = this.character.getTalentDamageAt({\n        type: 'Burst', \n        talentLevel: this.state.talentBurstLevel, \n        totalStats: this.state.totalStats,\n        modifier: this.getDamageModifier(),\n      });\n\n      this.setState({\n        talentAttackDamage: talentAttackDamage,\n        talentSkillDamage: talentSkillDamage,\n        talentBurstDamage: talentBurstDamage,\n      });\n    }\n  }\n\n  getTotalStats = () => {\n    let artifacts = [this.artifactFlower, this.artifactFeather, this.artifactSands, this.artifactGoblet, this.artifactCirclet];\n\n    let stats = statUtils.getTotalStatsAt(\n      this.weapon, \n      this.state.weaponLevel, \n      this.state.isWeaponAscended, \n      this.character,\n      this.state.characterLevel,\n      this.state.isCharacterAscended,\n      artifacts,\n    );\n\n    return stats;\n  }\n\n  renderCharacterStats = () => {\n    return (\n      this.character ? (\n        <View style={styles.resultBlock}>\n          <Text style={styles.titleText}>Character</Text>\n          {this.renderCharacterImage()}\n          <Text style={styles.resultText}>{this.character ? this.character.name : ''}</Text>\n          {\n            this.state.characterStats ? (\n              Object.entries(this.state.characterStats).map(([stat, value]) => {\n                return <Text style={styles.resultText} key={stat}>{data.propMapping[stat].name}: {statUtils.getStatDisplayValue(value, data.propMapping[stat].isPercentage)}</Text>\n              })\n            ) : null\n          }\n        </View>\n      ) : null\n    )\n  }\n\n  renderWeaponStats = () => {\n    return (\n      this.weapon ? (\n        <View style={styles.resultBlock}>\n          <Text style={styles.titleText}>Weapon</Text>\n          <Text style={styles.resultText}>{this.weapon ? this.weapon.name : ''}</Text>\n          {\n            this.state.weaponStats ? (\n              Object.entries(this.state.weaponStats).map(([stat, value]) => {\n                return <Text style={styles.resultText} key={stat}>{data.propMapping[stat].name}: {statUtils.getStatDisplayValue(value, data.propMapping[stat].isPercentage)}</Text>\n              })\n            ) : null\n          }\n        </View>\n      ) : null\n    )\n  }\n\n  renderArtifactMainStat = (type) => {\n    return (\n      <View style={styles.inputRow}>\n        <Picker\n          selectedValue={this['artifact' + type].mainStat.stat}\n          onValueChange={(stat, _) => {\n            if (stat != 0) {\n              let mainStat = this['artifact' + type].mainStat;\n              this['artifact' + type].setStat(mainStat, stat, undefined, data.propMapping[stat].isPercentage);\n              // Update total stats\n              this.setArtifactState(type);\n            }\n          }}\n        >\n          <Picker.Item label='' value={0} />\n          {mainStatProps[type].map(prop => <Picker.Item label={data.propMapping[prop].name} value={prop} key={prop} />)}\n        </Picker>\n\n        <Text> : </Text>\n\n        <TextInput \n          style={styles.statInput} \n          onChangeText={text => {\n            let mainStat = this['artifact' + type].mainStat;\n            if (mainStat.stat) {\n              this['artifact' + type].setStat(mainStat, undefined, parseFloat(text), data.propMapping[mainStat.stat].isPercentage);\n            } else {\n              // If stat type is not yet set\n              this['artifact' + type].setStat(mainStat, undefined, parseFloat(text), false);\n            }\n\n            // Update total stats\n            this.setArtifactState(type);\n          }}\n        />\n      </View>\n    )\n  }\n\n  renderArtifactSubStats = (type) => {\n    return (\n      <View>\n        {\n          this['artifact' + type].subStats.map((subStat, index) => {\n            return (\n              <View style={styles.inputRow} key={index}>\n                <Picker\n                  selectedValue={subStat.stat}\n                  onValueChange={(stat, _) => {\n                    if (stat != 0) {\n                      this['artifact' + type].setStat(subStat, stat, undefined, data.propMapping[stat].isPercentage);     \n                      // Update total stats\n                      this.setArtifactState(type);\n                    }\n                  }}\n                >\n                  <Picker.Item label='' value={0} />\n                  {subStatProps.map(prop => <Picker.Item label={data.propMapping[prop].name} value={prop} key={prop} />)}\n                </Picker>\n\n                <Text> : </Text>\n\n                <TextInput \n                  style={styles.statInput} \n                  onChangeText={text => {\n                    let stat = subStat.stat;\n                    if (stat) {\n                      this['artifact' + type].setStat(subStat, undefined, parseFloat(text), data.propMapping[stat].isPercentage);\n                    } else {\n                      // If stat type is not yet set\n                      this['artifact' + type].setStat(subStat, undefined, parseFloat(text), false);\n                    }\n                    // Update total stats\n                    this.setArtifactState(type);\n                  }}\n                />\n              </View>\n            )\n          })\n        }\n      </View>\n    )\n  }\n\n  renderArtifactStat = (type, isLast = false) => {\n    return (\n      <View style={isLast ? styles.artifactBlockNoBorder : styles.artifactBlock}>\n        <Text style={styles.artifactType}>{type}</Text>\n\n        <Text style={styles.artifactStatType}>Main Stat</Text>\n        {this.renderArtifactMainStat(type)}\n\n        <Text style={styles.artifactStatType}>Substats</Text>\n        {this.renderArtifactSubStats(type)}\n      </View>\n    )\n  }\n\n  renderAllArtifactStats = () => {\n    return (\n      <View style={styles.resultBlockNoBorder}>\n        <Text style={styles.titleText}>Artifacts</Text>\n        {this.renderArtifactStat('Flower')}\n        {this.renderArtifactStat('Feather')}\n        {this.renderArtifactStat('Sands')}\n        {this.renderArtifactStat('Goblet')}\n        {this.renderArtifactStat('Circlet', true)}\n      </View>\n    )\n  }\n\n  renderTotalStats = () => {\n    return (\n      <View style={styles.resultBlockNoBorder}>\n        <Text style={styles.titleText}>Stat Total</Text>\n        {\n          this.state.totalStats ? (\n            Object.entries(this.state.totalStats).map(([stat, value]) => {\n              return <Text style={styles.resultText} key={stat}>{data.propMapping[stat].name}: {statUtils.getStatDisplayValue(value, data.propMapping[stat].isPercentage)}</Text>\n            })\n          ) : null\n        }\n      </View>\n    )\n  }\n\n  renderTalentDamage = (type, isLast = false) => {\n    return (\n      <View style={isLast ? styles.artifactBlockNoBorder : styles.artifactBlock}>\n        <Text style={styles.artifactType}>{type}</Text>\n        {\n          this.state['talent' + type + 'Damage'] ? (\n            this.state['talent' + type + 'Damage'].map(({description, damage}, index) => {\n              return (\n                <Text style={styles.resultText} key={index}>{statUtils.getTalentDescription(description)}: {statUtils.getDamageDisplayValue(damage)}</Text>\n              )\n            })\n          ) : null\n        }\n      </View>\n\n    )\n  }\n\n  renderTalentOptions = () => {\n    return (\n      <FlatList\n        data={this.state.talentOptions}\n        keyExtractor={item => item.id}\n        renderItem={({item, index}) => {\n          if (item.type === 'boolean') {\n            return (\n              <View style={styles.inputRow}>\n                <Text>{statUtils.getTalentOptionName(item.id)}: </Text>\n                <Checkbox\n                  onValueChange={value => {\n                    let talentOptions = [...this.state.talentOptions];\n                    talentOptions[index] = new TalentOption(item.id, item.type, value);\n                    this.setState({ talentOptions }, this.setAllTalentState);\n                  }}\n                  value={item.value}\n                />\n              </View>\n            );\n          } else {\n            return null;\n          }\n        }}\n      />\n    )\n  }\n\n  renderAllTalentDamage = () => {\n    return (\n      <View style={styles.resultBlockNoBorder}>\n        <Text style={styles.titleText}>Talents</Text>\n\n        {this.renderTalentDamage('Attack')}\n        {this.renderTalentDamage('Skill')}\n        {this.renderTalentDamage('Burst', true)}\n        {this.renderTalentOptions()}\n      </View>\n    )\n  }\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <View style={styles.inputColumn}>\n          {this.renderInputColumn()}\n        </View>\n\n        <View style={styles.resultColumn}>\n          {this.renderCharacterStats()}\n          {this.renderWeaponStats()}\n          {this.renderAllArtifactStats()}\n        </View>\n\n        <View style={styles.resultColumn}>\n          {this.renderTotalStats()}\n        </View>\n\n        <View style={styles.resultColumn}>\n          {this.renderAllTalentDamage()}\n        </View>\n\n        <View style={styles.fillerColumn}>\n        </View>\n\n      </View>\n    )\n  }\n}\n"],"sourceRoot":""}